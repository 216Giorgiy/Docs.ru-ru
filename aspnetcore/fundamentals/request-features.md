---
title: "Параметры запроса в ASP.NET Core"
author: ardalis
description: "Дополнительные сведения о web server реализации подробности, связанные с HTTP-запросов и ответов, которые определены в интерфейсах для ASP.NET Core."
keywords: ASP.NET Core
ms.author: riande
manager: wpickett
ms.date: 10/14/2016
ms.topic: article
ms.assetid: d1fbd23c-2ff9-4216-b908-0201ff3afb7c
ms.technology: aspnet
ms.prod: asp.net-core
uid: fundamentals/request-features
ms.openlocfilehash: b689d82d16c6ef55485691b3474a070765c8144b
ms.sourcegitcommit: 732cd2684246e49e796836596643a8d37e20c46d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/01/2017
---
# <a name="request-features-in-aspnet-core"></a>Параметры запроса в ASP.NET Core

По [Стив Смит](https://ardalis.com/)

Сведения о реализации server Web, связанные с HTTP-запросов и ответов определяются в интерфейсах. Эти интерфейсы используются реализациями серверов и по промежуточного слоя для создания и изменения конвейера размещения приложения.

## <a name="feature-interfaces"></a>Интерфейсы компонентов

ASP.NET Core определяет несколько интерфейсов компонента HTTP в `Microsoft.AspNetCore.Http.Features` которого будут использоваться серверами определить функции, которые они поддерживают. Следующие интерфейсы компонента обрабатывать запросы и возвращать ответы:

`IHttpRequestFeature`Определяет структуру HTTP-запроса, включая протокол, путь, строки запроса, заголовки и текст.

`IHttpResponseFeature`Определяет структуру для ответа HTTP, включая код состояния, заголовки и текст ответа.

`IHttpAuthenticationFeature`Определяет поддержку для идентификации пользователей на основе `ClaimsPrincipal` и указав обработчик проверки подлинности.

`IHttpUpgradeFeature`Определяет поддержку для [обновления HTTP](https://tools.ietf.org/html/rfc2616.html#section-14.42), которые позволяют клиенту указать дополнительные протоколы, он бы хотели использовать Если переключение протоколов сервера.

`IHttpBufferingFeature`Определяет методы для отключения буферизации запросов или ответов.

`IHttpConnectionFeature`Определяет свойства для локальных и удаленных адресов и портов.

`IHttpRequestLifetimeFeature`Определяет поддержку для прерывания подключения или обнаружения, если запрос был завершен преждевременно, например как при отключении клиента.

`IHttpSendFileFeature`Определяет метод для передачи файлов в асинхронном режиме.

`IHttpWebSocketFeature`Определяет интерфейс API для поддержки веб-сокеты.

`IHttpRequestIdentifierFeature`Добавляет свойство, которое может быть реализовано для уникальной идентификации запросов.

`ISessionFeature`Определяет `ISessionFactory` и `ISession` абстрактные классы для поддержки пользовательских сеансов.

`ITlsConnectionFeature`Определяет интерфейс API для получения сертификатов клиента.

`ITlsTokenBindingFeature`Определяет методы для работы с параметрами привязке токена TLS.

> [!NOTE]
> `ISessionFeature`не является компонентом сервера, но реализуется `SessionMiddleware` (см. [управление состоянием приложения](app-state.md)).

## <a name="feature-collections"></a>Функции коллекции

`Features` Свойство `HttpContext` предоставляет интерфейс для получения и установки доступных функций HTTP для текущего запроса. Поскольку компонент коллекции является изменяемым, даже внутри контекста запроса, по промежуточного слоя можно использовать для изменения коллекции и добавить поддержку дополнительных функций.

## <a name="middleware-and-request-features"></a>Возможности по промежуточного слоя и запрос

Хотя серверы отвечают за создание коллекции компонентов, по промежуточного слоя можно добавить в эту коллекцию и использовать функции из коллекции. Например `StaticFileMiddleware` обращается к `IHttpSendFileFeature` компонентов. Если функция существует, он используется для отправки запрашиваемого статического файла его физическому пути. В противном случае медленнее альтернативный метод используется для отправки файла. Если она доступна, `IHttpSendFileFeature` позволяет операционной системе, откройте файл и выполнить копирование режим прямого ядра в сетевом адаптере.

Кроме того по промежуточного слоя можно добавить в коллекцию компонентов, установленных на сервере. Существующие функциональные возможности могут быть заменены даже по промежуточного слоя, позволяя по промежуточного слоя расширить функциональные возможности сервера. Возможности, добавленные в коллекцию доступны немедленно другого по промежуточного слоя или базовой само приложение позже в конвейере.

Объединив реализации пользовательского сервера и улучшения конкретных по промежуточного слоя, могут создаваться точный набор компонентов, необходимых приложению. Это позволяет отсутствует функций для добавления без внесения изменений в сервер и гарантирует предоставляются только минимальные возможности, таким образом ограничивая атаки контактной зоны и повышения производительности.

## <a name="summary"></a>Сводка

Интерфейсы компонентов определяют конкретные возможности HTTP может поддерживать данного запроса. Серверы определить наборы функций и первоначального набора возможностей, поддерживаемых этим сервером, но по промежуточного слоя можно использовать для улучшения этих средств.

## <a name="additional-resources"></a>Дополнительные ресурсы

* [Серверы](servers/index.md)

* [ПО промежуточного слоя](middleware.md)

* [Открытый веб-интерфейс для .NET (OWIN)](owin.md)
