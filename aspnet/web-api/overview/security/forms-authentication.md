---
uid: web-api/overview/security/forms-authentication
title: Проверки подлинности форм в ASP.NET Web API | Документы Microsoft
author: MikeWasson
description: Описывает использование проверки подлинности форм в ASP.NET Web API.
ms.author: aspnetcontent
manager: wpickett
ms.date: 12/12/2012
ms.topic: article
ms.assetid: 9f06c1f2-ffaa-4831-94a0-2e4a3befdf07
ms.technology: dotnet-webapi
ms.prod: .net-framework
msc.legacyurl: /web-api/overview/security/forms-authentication
msc.type: authoredcontent
ms.openlocfilehash: 9027d76bcf8854fc85f11906d3651511f350cd32
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2017
ms.locfileid: "26508313"
---
<a name="forms-authentication-in-aspnet-web-api"></a>Проверка подлинности форм в ASP.NET Web API
====================
по [Mike Wasson](https://github.com/MikeWasson)

Проверка подлинности форм использует HTML-формы для отправки учетных данных пользователя на сервер. Не является стандартом Интернета. Проверка подлинности форм только подходит для веб-API, вызываются из веб-приложения, чтобы пользователь мог взаимодействовать с HTML-формы.

| Преимущества | Недостатки |
| --- | --- |
| -Легко реализовать: встроенные в ASP.NET. -Использует поставщик членства ASP.NET, что упрощает управление учетными записями пользователей. | -Не стандартных HTTP механизма проверки подлинности; используются файлы cookie HTTP, а не стандартный заголовок авторизации. -Требует клиентский браузер. -Учетные данные отправляются в виде обычного текста. -Подвержена подделки межсайтовых запросов (CSRF); требуется меры противодействия CSRF. -Сложности при использовании от клиентов nonbrowser. Имя входа требуется веб-браузер. -Учетные данные отправляются в запросе. -Некоторые пользователи отключают файлы cookie. |

Коротко говоря проверку подлинности форм в ASP.NET работает следующим образом:

1. Клиент запрашивает ресурс, который требует проверки подлинности.
2. Если пользователь не прошел проверку подлинности, сервер возвращает HTTP 302 (найдено) и выполняет перенаправление на страницу входа.
3. Пользователь вводит учетные данные и отправляет их.
4. Сервер возвращает другой HTTP 302, которая выполняет перенаправление обратно в исходный URI. Этот ответ включает файл cookie проверки подлинности.
5. Клиент запрашивает ресурс еще раз. Запрос включает в себя файл cookie проверки подлинности, поэтому сервер предоставляет запрос.

![](forms-authentication/_static/image1.png)

Дополнительные сведения см. в разделе [Общие сведения для проверки подлинности форм.](../../../web-forms/overview/older-versions-security/introduction/an-overview-of-forms-authentication-cs.md)

## <a name="using-forms-authentication-with-web-api"></a>С помощью форм с веб-API

Чтобы создать приложение, использующее проверку подлинности форм, выберите шаблон «Интернет-приложения» в мастере проектов MVC 4. Этот шаблон создает контроллеров MVC для управления учетными записями. Можно также использовать шаблон «Одностраничного приложения» в обновлении ASP.NET Осень 2012.

В контроллерах веб-API можно ограничить доступ с помощью `[Authorize]` атрибут, как описано в [с помощью атрибута [Authorize]](authentication-and-authorization-in-aspnet-web-api.md#auth3).

Проверка подлинности форм использует файл cookie сеанса для проверки подлинности запросов. Браузеры автоматически отправлять все соответствующие файлы cookie в веб-узлу. Благодаря этой функции проверки подлинности форм потенциально уязвимой для межсайтовой подделки атак см. в разделе запроса [атак Предотвращение межсайтовой запрос подделки (CSRF)](preventing-cross-site-request-forgery-csrf-attacks.md).

Проверка подлинности форм не шифрует учетные данные пользователя. Таким образом не является безопасным, если используется с протоколом SSL проверки подлинности форм. В разделе [работа с SSL в веб-API](working-with-ssl-in-web-api.md).
