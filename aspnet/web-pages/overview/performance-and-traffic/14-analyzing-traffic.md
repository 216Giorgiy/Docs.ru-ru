---
uid: web-pages/overview/performance-and-traffic/14-analyzing-traffic
title: "Отслеживание сведений о посетителях (аналитика) для веб-страниц ASP.NET (Razor) сайта | Документы Microsoft"
author: tfitzmac
description: "После принял веб-сайт будет можно анализировать данный трафик веб-сайта."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/17/2014
ms.topic: article
ms.assetid: 360bc6e1-84c5-4b8e-a84c-ea48ab807aa4
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/performance-and-traffic/14-analyzing-traffic
msc.type: authoredcontent
ms.openlocfilehash: 9a381ebaed30325fdfa5f0f558910d3002c61559
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2017
---
<a name="tracking-visitor-information-analytics-for-an-aspnet-web-pages-razor-site"></a>Отслеживание сведений о посетителях (аналитика) для веб-страниц (Razor) узла ASP.NET
====================
по [Tom FitzMacken](https://github.com/tfitzmac)

> В этой статье описывается использование вспомогательный объект для добавления веб-сайта аналитика на страницы на веб-сайт ASP.NET Web Pages (Razor).
> 
> Что вы узнаете следующее.
> 
> - Как отправить сведения о веб-сайте трафика поставщик данных аналитики.
> 
> Ниже перечислены возможности, представленные в статье программирования ASP.NET:
> 
> - `Analytics` Вспомогательные.
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a>Версии программного обеспечения, используемая в этом учебнике
> 
> 
> - Веб-страниц ASP.NET (Razor) 2
> - Библиотека вспомогательных методов ASP.NET Web (пакет NuGet)


Аналитика — это общий термин для технологий, измеряет трафика на веб-сайте, чтобы понять, как люди используйте сайт. Многие службы аналитики доступны, включая службы от Google, Yahoo, StatCounter и другим пользователям.

Способом анализа, работает, что вы регистрируетесь для учетной записи с поставщиком аналитику, когда зарегистрировать веб-узел, который необходимо отслеживать. Поставщик отправляет фрагмент кода JavaScript, включая идентификатор, или код для вашей учетной записи трассировки. Добавить фрагмент JavaScript на веб-страницы на сайте, который требуется отслеживать. (Обычно добавляется фрагмент аналитика в нижний колонтитул или макета страницы или других разметки HTML, который отображается на каждой странице веб-узла.) Когда пользователи запрашивают страницы, содержащей один из этих фрагментов кода JavaScript, фрагмент отправляет сведения о текущей страницы поставщику аналитики, который записывает различные сведения о странице.

Посмотрите на статистике сайта следует войти веб-сайта поставщика analytics. Как можно просмотреть все виды отчеты о веб-сайта:

- Число просмотров страницы для отдельных страниц. Это означает (приблизительно) сколько людей посетив этот сайт, а страниц веб-узла, которые наиболее популярных.
- Как долго люди тратят на выполнение отдельных страниц. Можно определить таких вещей, как мешает ли домашнюю страницу процент пользователей.
- Какие люди сайты были на Перед посещении веб-узла. Это поможет вам понять, поступил ли трафика с помощью ссылок из поиска и т. д.
- При посещении веб-узла и как долго они остаются.
- Какие странах, к которой принадлежат посетителей.
- Какие браузеры и операционных систем используется посетителей.

    ![Ch14traffic-1](14-analyzing-traffic/_static/image1.jpg)

## <a name="using-a-helper-to-add-analytics-to-a-page"></a>Добавление аналитики на страницу с помощью вспомогательного класса

Веб-страниц ASP.NET включает несколько вспомогательных методов аналитика (`Analytics.GetGoogleHtml`, `Analytics.GetYahooHtml`, и `Analytics.GetStatCounterHtml`), которые упрощают управление фрагменты кода JavaScript, используемый для анализа. Вместо помог понять, как и где следует поместить код JavaScript, необходимо сделать достаточно добавить вспомогательный объект на страницу. Единственные сведения, которые требуются для предоставления является вашей имя учетной записи, идентификатор или код трассировки. (Для StatCounter, вы также должны предоставить несколько дополнительных значений.)

В этой процедуре вы создадите макет страницы, использующей `GetGoogleHtml` вспомогательный. Если уже имеется учетная запись с одним из других поставщиков аналитика, можно вместо этого использовать эту учетную запись и при необходимости, вносить небольшие изменения.

> [!NOTE]
> При создании учетной записи аналитики регистрации URL-адрес сайта, который требуется отслеживать. Если вы тестируете все данные на локальном компьютере, не отслеживания фактического трафика (трафик только это вы), поэтому нельзя будет запись и Просмотр сайта статистику. Однако эта процедура показывает, как вспомогательный analytics добавить на страницу. При публикации веб-узла, действующем сайте будет отправлять сведения с поставщиком analytics.


1. Добавить библиотека вспомогательных методов ASP.NET Web веб-сайта, как описано в [Установка помощников в узел веб-страниц ASP.NET](https://go.microsoft.com/fwlink/?LinkId=252372), если не было добавлено.
2. Создать учетную запись с Google Analytics и запишите имя учетной записи.
3. Создание макета страницы с именем *Analytics.cshtml* и добавьте следующую разметку:

    [!code-cshtml[Main](14-analyzing-traffic/samples/sample1.cshtml)]

    > [!NOTE]
    > Необходимо разместить вызова `Analytics` вспомогательный в тексте веб-страницы (перед `</body>` тега). В противном случае браузер не будет выполняться сценарий.

    При использовании поставщика различных analytics вместо этого используйте один из следующих вспомогательных методов:

    - (Yahoo)`@Analytics.GetYahooHtml("myaccount")`
    - (StatCounter)`@Analytics.GetStatCounterHtml("project", "security")`
4. Замените `myaccount` с именем учетной записи, идентификатор или код трассировки, созданный на шаге 1.
5. Запустите страницу в браузере. (Убедитесь, что выбран страницы **файлы** рабочей области, прежде чем запускать его.)
6. В браузере просмотрите исходный код страницы. Можно будет просматривать код отображаемой аналитика:

    [!code-html[Main](14-analyzing-traffic/samples/sample2.html)]
7. Войдите на сайт Google Analytics и изучите статистику для веб-узла. При запуске страницы на действующем сайте появляется запись, которая регистрирует перейдите на страницу.

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a>Дополнительные ресурсы

- [Узел Google Analytics](https://www.google.com/analytics/)
- [Yahoo! Веб-сайт аналитика](http://help.yahoo.com/l/us/yahoo/ywa/)
- [StatCounter сайта](http://statcounter.com/)
