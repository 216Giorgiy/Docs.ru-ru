---
uid: web-pages/overview/testing-and-debugging/aspnet-web-pages-razor-troubleshooting-guide
title: "Веб-страницы ASP.NET руководство по устранению неполадок (Razor) | Документы Microsoft"
author: tfitzmac
description: "В этой статье описываются проблемы, которые могут возникнуть при работе с веб-страниц ASP.NET (Razor) и некоторые рекомендуемые решения. Страница ASP.NET Web версии программного обеспечения..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/10/2014
ms.topic: article
ms.assetid: 2a2c1833-0bfe-4e2e-9cc0-341b52c7b121
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/testing-and-debugging/aspnet-web-pages-razor-troubleshooting-guide
msc.type: authoredcontent
ms.openlocfilehash: e507d97903583c7233456e9139e1a869f8bf75bd
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2017
---
<a name="aspnet-web-pages-razor-troubleshooting-guide"></a>Веб-страницы ASP.NET руководство по устранению неполадок (Razor)
====================
по [Tom FitzMacken](https://github.com/tfitzmac)

> В этой статье описываются проблемы, которые могут возникнуть при работе с веб-страниц ASP.NET (Razor) и некоторые рекомендуемые решения.
> 
> ## <a name="software-versions"></a>Версии программного обеспечения
> 
> 
> - Веб-страниц ASP.NET (Razor) 3
>   
> 
> Этот учебник также работает с 2 веб-страниц ASP.NET и веб-страниц ASP.NET 1.0.


В этом разделе содержатся следующие подразделы.

- [Проблемы, связанные с управлением страниц](#Issues_Running_.cshtml_Pages)
- [Проблемы, связанные с кодом Razor](#IssuesWithRazorCode)
- [Проблемы безопасности и членство](#membership)
- [Проблемы с отправкой электронной почты](#email)
- [Дополнительные ресурсы](#AdditionalResources)

Общие вопросы в разделе [веб-страниц ASP.NET (Razor) часто задаваемые вопросы о](https://go.microsoft.com/fwlink/?LinkId=253000).

<a id="Issues_Running_.cshtml_Pages"></a>
## <a name="issues-with-running-pages"></a>Проблемы, связанные с управлением страниц

Можно предотвратить различных проблем *.cshtml* и *.vbhtml* страницы из выполняется надлежащим образом. В этом разделе перечислены распространенные сообщения об ошибках и вероятные причины.

### <a name="http-error-403---forbidden-access-is-denied"></a>Ошибка HTTP 403 - Запрещено: Доступ запрещен

*У вас разрешения на просмотр этого каталога или страницы, используя предоставленные учетные данные.*

Эта ошибка может возникать, если сервер не использует правильную версию платформы .NET Framework. Убедитесь, что компьютер, на котором выполняется сервер (локально или удаленно) имеет по крайней мере .NET Framework 4. Убедитесь, что само приложение настроен для запуска нужную версию.

При возникновении этой проблемы локально при работе в WebMatrix, выберите **сайта** рабочей области и в дереве нажмите кнопку **параметры**. В **выберите версии .NET Framework** выберите **.NET 4 (интегрированная)**. Если эта версия уже установлено, попробуйте запустить WebMatrix от имени администратора.

Убедитесь в том, что корневой веб-сайт имеет хотя бы один *.cshtml* файл в нем.

Если вы видите эту ошибку при веб-сервера на удаленном сервере, обратитесь к администратору сервера. Убедитесь, что сервер имеет .NET Framework 4 или более поздней версии. Убедитесь, что приложение запущено в пуле приложений, настроенный для использования этой версии платформы.NET Framework.

Если у вас есть контроль над сервером, убедитесь, что она запущена правильная версия платформы .NET Framework. Можно также попытаться восстановить установку, запустив `aspnet_regiis -iru` команды. (Например, если IIS устанавливается после установки .NET Framework, службы IIS не настраивается правильно для запуска страницы ASP.NET.) Дополнительные сведения см. в разделе [средство регистрации IIS ASP.NET (Aspnet\_regiis.exe)](https://msdn.microsoft.com/en-US/library/k6h9cz8h(v=vs.100).aspx).

### <a name="http-error-40314---forbidden"></a>Ошибка HTTP 403.14 - запрещено

*Веб-сервер настраивается, чтобы не формировать списка содержимого этого каталога.*

Эта ошибка может возникать, если запросить ресурс, который защищен (как *Web.config* файла), или в папке, которая защищена (как *приложения\_данные* или *приложения\_Код*).

### <a name="http-error-40417---not-found"></a>Ошибка HTTP 404.17 - не найдено

*Содержимое запроса является сценарием и не обрабатывается обработчиком статических файлов.*

Эта ошибка может возникать, если сервер правильно настроен для использования платформы .NET Framework 4 или более поздней версии и, следовательно, не распознает код в `@{ }` блоков. См. в описании ранее *ошибки HTTP 403 - Запрещено: доступ запрещен*.

### <a name="http-error-4047---not-found"></a>Ошибка HTTP 404.7 - не найдено

*Модуль фильтрации запросов настроен для блокировки расширения файла*

Эта ошибка может возникать, если *.cshtml* или *.vbhtml* расширения явно заблокированы на сервере. Признаком этой проблемы является этой работы URL-адреса, когда они не включают расширение, но URL-адреса, которые включают *.cshtml* или *.vbhtml* не работают. Возможным решением является для повторного включения расширения на сайте *Web.config* файла. В следующем примере показано, как включить *.cshtml* расширения.

[!code-xml[Main](aspnet-web-pages-razor-troubleshooting-guide/samples/sample1.xml?highlight=5-6)]

### <a name="http-error-4048---not-found"></a>Ошибка HTTP 404.8 - не найдено

*Модуль фильтрации запросов настроен для блокировки пути в URL-адреса, содержащего раздел hiddenSegment.*

Эта ошибка может возникать, если запросить ресурс, который защищен (как *Web.config* файла), или в папке, которая защищена (как *приложения\_данные* или *приложения\_Код*).

### <a name="this-type-of-page-is-not-served-server-error-in--application"></a>Этот тип страницы не обслуживается (ошибка сервера в приложении '/')

См. в описании ранее 404.17 ошибки HTTP.

<a id="IssuesWithRazorCode"></a>
## <a name="issues-with-razor-code"></a>Проблемы, связанные с кодом Razor

### <a name="the-name-class-does-not-exist-in-the-current-context"></a>Имя "*класс*" не существует в текущем контексте

Часто причина, появится эта ошибка является `class` ссылки вспомогательного класса, но его не установлен. Например при попытке использовать вспомогательный класс, но еще не установили пакет из NuGet, вы увидите эту ошибку. Коллекция в WebMatrix служит для поиска и установки вспомогательным методом.

Если вспомогательное приложение устанавливается, но по-прежнему не распознается страницей его, попробуйте добавить добавить `using` инструкции в код. В `using` оператор, справочник по языку пространство имен, которое включает модуль поддержки. Например, базовые вспомогательные средства, которые находятся в пакете вспомогательных методов ASP.NET Web находятся в `System.Web.Helpers` пространства имен. В верхней части страницы, в которой вы хотите использовать его добавьте следующую строку:

`@using Microsoft.Web.Helpers;`

<a id="membership"></a>
## <a name="issues-with-security-and-membership"></a>Проблемы безопасности и членство

Если вы используете систему встроенной безопасности (членства) ASP.NET Web Pages (Razor), могут возникнуть следующие проблемы.

### <a name="to-call-this-method-the-membershipprovider-property-must-be-an-instance-of-extendedmembershipprovider"></a>Чтобы вызвать этот метод, свойство «Membership.Provider» должно быть экземпляр «ExtendedMembershipProvider»

Эта ошибка может указывать, что не `AspNetSqlMembershipProvider` класс настроен. (Симптом — что сайт работает локально, но выдает ошибки при публикации на сервере поставщика услуг размещения). Один для исправления этой проблемы является явным образом включить простое членство, добавив следующий код к сайту *Web.config* файла:

[!code-xml[Main](aspnet-web-pages-razor-troubleshooting-guide/samples/sample2.xml?highlight=6)]

<a id="email"></a>
## <a name="issues-with-sending-email"></a>Проблемы с отправкой электронной почты

Проблемы с отправкой электронной почты может оказаться сложной задачей для отладки. Первоначальную проблему можно, не удается подключиться к серверу SMTP. Если соединение установлено успешно, ASP.NET отправляет сообщение на SMTP-сервер. Тем не менее могут возникнуть проблемы с само сообщение, препятствующую его отправки SMTP-сервера.

Если приложение не отправить по электронной почте, выполните следующее:

- Имя SMTP-сервера часто является примерно `smtp.provider.com` или `smtp.provider.net`. Однако, если публикации сайта поставщика услуг размещения, имя SMTP-сервера на этом этапе может быть `localhost`. Это происходит потому, что вы опубликовали и сайт работает на сервере поставщика, SMTP-сервер может быть локальным с точки зрения приложения. Это изменение в имена серверов могут означать, что нужно изменить имя SMTP-сервера в рамках процесса публикации.
- Номер порта обычно — 25. Тем не менее, некоторые поставщики требуют использовать порт 587 или некоторых других портов. Узнайте у владельца SMTP-сервера, номер порта ожидают, что позволяет использовать.
- Убедитесь, что используются правильные учетные данные. При публикации веб-узла поставщика услуг размещения, используйте учетные данные, которые поставщик указал специально предназначены для электронной почты. Эти учетные данные могут отличаться от учетных данных, которые можно использовать для публикации.
- Иногда учетные данные не требуются вообще. Если вы отправляете сообщение электронной почты с помощью ваш поставщик услуг Интернета, вашего поставщика услуг электронной почты может быть уже известен учетные данные. После публикации, может потребоваться использовать другие учетные данные, чем при проверке на локальном компьютере.
- Если вашего поставщика услуг электронной почты использует шифрование, `WebMail.EnableSsl` для `true`.

Если возникает ошибка при отправке сообщения электронной почты, может появиться Стандартная ASP.NET сообщение об ошибке, который выглядит следующим образом:

![Сообщение об ошибке ASP.NET при наличии проблем с адресом электронной почты](aspnet-web-pages-razor-troubleshooting-guide/_static/image1.png)

Можно также отлаживать неполадок при отправке электронной почты с помощью `try-catch` блока, как показано в следующем примере. При использовании `try-catch` блок ASP.NET не отображает сообщения об ошибках standard. Вместо этого можно записать ошибку в `catch` части блока.

[!code-cshtml[Main](aspnet-web-pages-razor-troubleshooting-guide/samples/sample3.cshtml)]

Подставьте нужные значения для `your-SMTP-server-name`, и т. д. Ниже приведены некоторые сообщения об ошибках, которые можно увидеть таким образом:

- *Сбой при отправке электронной почты.*

    -или-

    *Попытка подключения не удалась, поскольку подключившейся стороне не ответил должным образом после определенного времени или сбой, так как подключенного узла подключения, не удалось получить отклик*

    Эта ошибка обычно означает, что приложение не удалось подключиться к серверу SMTP. Проверьте имя сервера и номер порта.
- *Почтовый ящик недоступен. Получен ответ сервера: 5.1.0 &lt; someuser@invaliddomain &gt; отправителя отклонен: недопустимый отправитель домена*

    Это сообщение может указывать, что `From` адрес указано неправильно или отсутствует.
- *Указанная строка не форму, необходимую для адреса электронной почты.*

    Эта ошибка может означать, что значение `To` или `From` свойства не распознаются как адреса электронной почты. (ASP.NET не может проверить, адрес электронной почты допустим, только что он, в правильном формате, например  *name@domain.com* .)

> [!NOTE]
> Удалите разметку, которая выводит сообщение об ошибке (`@errorMessage`) перед публикацией страницы действующем сайте. Не рекомендуется разрешать пользователям просматривать сообщения об ошибках, получаемых с сервера.


<a id="AdditionalResources"></a>
## <a name="additional-resources"></a>Дополнительные ресурсы

[Веб-страницы ASP.NET (Razor) часто задаваемые вопросы](https://go.microsoft.com/fwlink/?LinkId=253000)

[WebMatrix и ASP.NET Web Pages](https://forums.asp.net/1224.aspx/1?WebMatrix) форума на веб-сайта ASP.NET
