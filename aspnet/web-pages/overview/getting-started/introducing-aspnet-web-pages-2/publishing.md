---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/publishing
title: "Введение в ASP.NET Web Pages — публикации узла с помощью WebMatrix | Документы Microsoft"
author: tfitzmac
description: "Этот учебник предназначен последнем выпуске учебника набора, представляет веб-страниц ASP.NET и Microsoft WebMatrix. В этом примере рассматривается публикация веб-узла t..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/28/2015
ms.topic: article
ms.assetid: 7e85c70e-1a88-4408-8b3d-29611c7713ed
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/publishing
msc.type: authoredcontent
ms.openlocfilehash: 1e718c92a2f94df50fcf7af6859917746a4982ac
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2017
---
<a name="introducing-aspnet-web-pages---publishing-a-site-by-using-webmatrix"></a>Общие сведения о веб-страницах ASP.NET - публикации узла с помощью WebMatrix
====================
по [Tom FitzMacken](https://github.com/tfitzmac)

> Этот учебник предназначен последнем выпуске учебника набора, представляет веб-страниц ASP.NET и Microsoft WebMatrix. В этом примере рассматривается публикация веб-узла в Интернете, чтобы другие пользователи могли работать с ним. Предполагается, что завершена ряда через [Создание согласованного поиска для сайтов веб-страниц ASP.NET](https://go.microsoft.com/fwlink/?LinkId=251585).
> 
> Вы узнаете, как публикация сайта с помощью:
> 
> - Microsoft Azure
> - Веб-хостинга


## <a name="about-publishing-your-site"></a>О публикации веб-узла

До сих выполнить всю работу на локальном компьютере, в том числе тестировании страниц. Для запуска вашего*.cshtml* страниц, вы использовали веб-сервер, который встроен в WebMatrix, а именно IIS Express. Но конечно никто видеть узла, который вы создали только. Другим пользователям работать с веб-узла, необходимо опубликовать в Интернете.

Если уже имеется доступ на открытый веб-сервере, публикация означает, что учетная запись с *облачная платформа* или *поставщика услуг размещения*. Облачная платформа, например Microsoft Azure предоставляет инфраструктуру по запросу для ваших приложений. Поставщик услуг размещения — компании, которому принадлежит общедоступных веб-серверов и, будет сдавать в аренду вы пространство для веб-узла. Размещение планы выполнения из нескольких долларов в месяц (или даже бесплатно) для небольших сайтов для сотен долларов в месяц для крупномасштабных коммерческих веб-сайтов.

> [!NOTE]
> Может потребоваться доступ к серверу через поставщик услуг Интернета (ISP), который позволяет получить службы IIS дома общедоступной сети. Однако у поставщика услуг размещения должен поддерживать веб-страниц ASP.NET. Многие поставщики услуг Интернета не, но он всегда следует.


В этом учебнике мы указываем Общие сведения для публикации. Он не имеет смысла для предоставления точных сведений для всех функций, так как процесс немного отличается для каждого поставщика услуг размещения. Однако вы сможете получить хорошее представление о том, как работает этот процесс.

Этот учебник содержит четыре раздела:

1. [Настройка страницы по умолчанию](#defaultpage)
2. Публикация (выберите один из следующих)  
 1. [Публикация веб-узла в Microsoft Azure](#azure)  
 2. [Публикация веб-узла в веб-хостинга](#host)
3. [Обновление на действующем сайте: повторная публикация](#update)

<a id="defaultpage"></a>
## <a name="setting-up-the-default-page"></a>Настройка страницы по умолчанию

При переходе к базовому адресу для веб-сайта, для пользователя отображается страница по умолчанию для веб-узла. Например, когда Default.htm устанавливается по умолчанию для сайта во www.contoso.com, затем перейдите в меню **www.contoso.com** является таким же, как переход к **www.contoso.com/Default.htm**.

В настоящее время используется сайтом **Default.cshtml** со страницей по умолчанию. Эта страница подходит в качестве страницы по умолчанию, но в этом учебнике вы не добавили все содержимое на эту страницу, поэтому он будет отображаться пустая страница. Откройте Default.cshtml и замените содержимое следующим кодом.

[!code-cshtml[Main](publishing/samples/sample1.cshtml)]

Теперь все готово для публикации веб-узла. Во-первых вы увидите, как развертывание узла в Azure, а затем развернуть его на веб-хостинга. Любой вариант работает в веб-сайте, и требуется выполнять только один из параметров развертывания.

<a id="azure"></a>
## <a name="publishing-your-site-to-microsoft-azure"></a>Публикация веб-узла в Microsoft Azure

Этот учебник будет сначала показано, как развертывание веб-узла в Microsoft Azure. При входе с учетной записью Майкрософт, можно создать до 10 бесплатных узлов в Azure. Эти бесплатные веб-сайты предоставляют удобный способ для тестирования веб-сайтов. Всегда можно удалить этот сайт примере позже можно отказаться от всех свободных узлов. Можно создать бесплатную пробную учетную запись всего за несколько минут. Дополнительные сведения см. в разделе [бесплатная пробная версия](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).

На ленте WebMatrix щелкните **публикации** кнопки.

![Публикация кнопки на ленте WebMatrix](publishing/_static/image1.png)

**Опубликовать свой сайт** диалоговое окно. Если не вошли в учетную запись Майкрософт диалоговое окно будет содержать **Приступая к работе с Azure** ссылку. Щелкните эту ссылку.

![Публикация веб-узла](publishing/_static/image2.png)

Не вошли в учетную запись Майкрософт снова предоставляется возможность выполнить вход. Для публикации сайта в Azure необходимо войти в учетную запись Майкрософт.

![Войти](publishing/_static/image3.png)

После входа в учетную запись Майкрософт, диалоговое окно содержит ссылки для создания нового сайта в Azure или подключиться к одной из существующих узлов в Azure.

![Создание нового сайта](publishing/_static/image4.png)

Выберите **создать новый сайт**.

Если название проекта **WebPagesMovies**, имя по умолчанию для веб-узла будет **webpagesmovies.azurewebsites.net**. Скорее всего, это имя по умолчанию не доступна, что указывает красный восклицательный знак.

![Имя веб-сайта по умолчанию](publishing/_static/image5.png)

Изменить имя узла в то, что доступен и выберите расположение, близкий к папке.

![Имя измененного сайта](publishing/_static/image6.png)

Нажмите кнопку **ОК**.

WebMatrix performss тест, чтобы определить, совместима ли сервер с веб-узла.

![проверки совместимости](publishing/_static/image7.png)

Выберите **Продолжить**.

Отображаются результаты проверки совместимости.

![результат совместимости](publishing/_static/image8.png)

Выберите **Продолжить**.

WebMatrix отображает файлы и базы данных, которые будут опубликованы на сайте. Поскольку это первый раз, публикации сайта, перечислены все файлы. Файл, который еще не готов для публикации, можно снять. В последующих публикаций будет отображаться только измененные файлы. В разделе [обновление на действующем сайте: повторная публикация](#update).

![Предварительный просмотр публикации](publishing/_static/image9.png)

Выберите **Продолжить**.

После развертывания узла Azure отображается сообщение, которое указывает, что развертывание завершено.

![Публикация завершения](publishing/_static/image10.png)

Сайта и базы данных были опубликованы в Azure и теперь доступны для просмотра. Щелкните ссылку в сообщение, указывающее завершения публикации, и вы увидите развернутого узла. Вы или все, кто имеет доступ к Интернету можно добавить или изменить записи в базе данных.

![](publishing/_static/image11.png)

<a id="host"></a>
## <a name="publishing-your-site-to-a-web-hosting-company"></a>Публикация веб-узла в веб-хостинга

Если вы решили не опубликовать в Azure, вместо этого можно опубликовать веб-узла для веб-хостинга.

Нажмите кнопку **найти веб-размещения** ссылку.

![Кнопка «Найти размещения веб-сайтов» в диалоговом окне «Параметры публикации»](publishing/_static/image12.png)

Перейдите на страницу на сайте Майкрософт со списком поставщиков услуг размещения, которые поддерживают ASP.NET.

![На сайте Microsoft со списком поставщиков услуг размещения](publishing/_static/image13.png)

Очевидно, что может быть сложно понять теперь точно размещения возможностях могут потребоваться в долгосрочной перспективе. Ниже приведены несколько факторов, которые следует учитывать.

- В целях WebPagesMovies сайта не нужно иметь отдельный дополнительный для SQL Server, который часто дополнительные затраты. На сайте вы используете SQL Server Compact Edition, который является самодостаточным. Тем не менее может потребоваться доступ к SQL Server для некоторых будущих веб-сайта в работе. Если вы считаете, что может оказаться, убедитесь, что можно добавить возможности SQL Server более поздней версии.
- Проверьте, поддерживает ли поставщик услуг размещения протокола публикации веб-развертывания. Можно опубликовать с помощью протокола FTP, но он является более удобным для использования веб-развертывания.

Некоторые сайты предоставляют бесплатный пробный период. Бесплатная пробная версия — хороший способ повторите публикацию и размещение при его по-прежнему будете экспериментировать с WebMatrix и ASP.NET Web Pages.

Выберите один, что вам нравится. В этом учебнике мы выбрали DiscountASP.NET, так как у пока мы создали учебника, эту компанию рекламной акции, позволяют создать узел свободного несколько месяцев.

> [!NOTE]
> Выбор поставщика услуг размещения в этом учебнике не должны интерпретироваться как является одобрением эту компанию какой-либо. Однако нам было необходимо выбрать одну для иллюстрации и DiscountASP.NET является одним из многих компаний, поддерживаемых веб-страниц ASP.NET, протокол веб-развертывания для публикации.


Как правило после зарегистрировались с помощью поставщика услуг размещения, компания отправляет сообщение электронной почты, содержащий имя пользователя и пароль, URL-адрес веб-сервера и т. д. Если хостинга поддерживает протокол веб-развертывания, они может отправить вам файл, содержащий параметры публикации или позволяют загрузить. Файл параметров публикации упрощает процесс для вас.

После зарегистрировались и готов к публикации, нажмите кнопку **публикации** кнопку на ленте WebMatrix. **Параметры публикации** диалоговое окно.

Если поставщик услуг размещения отправить файл параметров публикации, нажмите кнопку **импортировать параметры публикации** связывания и импорта файла. При отсутствии файла параметров публикации, заполните поля, используя значения, которые хостинга отправил вам по электронной почте. Вот **параметры публикации** диалоговое окно будет выглядеть после выполнения:

![Параметры публикации заполнено, в диалоговом окне «Параметры публикации»](publishing/_static/image14.png)

Нажмите кнопку **Проверка подключения**. Если все компоненты норме, диалоговое окно сообщает **успешное подключение**, то есть могут взаимодействовать с сервером поставщика услуг размещения.

![Сообщение успешно, если публикация настройки верны](publishing/_static/image15.png)

Если проблема, WebMatrix старается не сообщит о том, какие именно:

![Сообщение об ошибке в случае проблем с параметрами публикации](publishing/_static/image16.png)

Нажмите кнопку **Сохранить** для сохранения параметров. В WebMatrix присутствует для выполнения тестов, чтобы убедиться в том, что он может взаимодействовать правильно узел размещения:

![Сообщение для проверки процесса публикации предложения](publishing/_static/image17.png)

Нажмите кнопку **Да**. WebMatrix передает некоторые файлы примеров с поставщиком услуг размещения. По завершении проверки совместимости WebMatrix сообщает о результатах:

![Результаты теста публикации](publishing/_static/image18.png)

Если вы готовы пойти дальше и нажмите кнопку **Продолжить** в самом начать процесс публикации. WebMatrix решает, что файлы находятся в веб-узла и уже находятся на сервере узла (а прямо сейчас нет) и отобразится окно предварительного просмотра в процессе публикации:

![Предварительный просмотр какие файлы, которые будет отправлен в процессе публикации](publishing/_static/image19.png)

Включает в себя список файлов для публикации веб-страниц, созданных как *Movies.cshtml*. Список также содержит файлы для помощников, которые вы уже установили, файлы для запуска SQL Server Compact Edition для своей базы данных и т. д. В результате процесса начальной публикации может быть значительной.

Нажмите кнопку **Продолжить**. WebMatrix копирует файлы на сервер поставщика услуг размещения. При завершении его результаты отображаются в строке состояния:

![Сообщение о состоянии панели при успешном завершении процесса публикации](publishing/_static/image20.png)

Чтобы увидеть ваш действующий сайт, щелкните ссылку в строке состояния. Добавить *фильмов* URL-адрес, и вы увидите *Movies.cshtml* созданный файл:

![Действующем сайте, показывающий страницу фильмов](publishing/_static/image21.png)

<a id="update"></a>
## <a name="updating-the-live-site-republishing"></a>Обновление на действующем сайте: повторная публикация

После публикации веб-узла (в Azure или веб-хостинга) существуют две копии &mdash; версию на компьютере и на доступ к службе. Возможно, потребуется продолжать разработку узла (в подобной ситуации, в рамках следующего набора данных учебника). При этом необходимо опубликовать веб-узел, чтобы скопировать изменения от компьютера поставщика услуг. Процесс публикации в WebMatrix можно определить, какие файлы были изменены на веб-узла и опубликовать только те файлы.

Чтобы посмотреть, как работает переиздание откройте *Movies.cshtml* сайта, внесите изменения малых, а затем сохраните файл. Например, измените заголовок на `Movies - Updated`.

Нажмите кнопку **публикации** кнопку на ленте. WebMatrix определяет наличие изменений и предварительный просмотр файлов, которые она будет опубликована.

![Диалоговое окно «Опубликовать», показывает измененные файлы, готовые для переиздания](publishing/_static/image22.png)

> [!IMPORTANT] 
> 
> По умолчанию WebMatrix публикует базы данных (*.sdf* файла) только для первой публикации сайта. После публикации веб-узла и пользователи взаимодействуют с веб-сайта, базы данных на действующем сайте обычно есть реальные данные с веб-узла. Вы должны быть очень осторожность, чтобы не перезаписать действующую базу данных с *.sdf* файл, который находится на компьютере, который обычно содержит только данные теста. Именно поэтому предупреждение о **публикация приведет к перезаписи всех удаленных баз данных**, и почему флажок *WebPagesMovies.sdf* по умолчанию снят.


Нажмите кнопку **Продолжить**. WebMatrix публикует измененных файлов и показано сообщение об успешном выполнении, как и при первом запуске публикации.

Перейдите на действующем сайте (если она по-прежнему отображается, могут щелкнуть ссылку в сообщение об успешном выполнении) и убедитесь, что изменения были опубликованы.

> [!TIP] 
> 
> **Удаленное редактирование файлов**
> 
> В качестве альтернативы для изменения веб-узла и последующая повторная публикация можно редактировать удаленные файлы непосредственно в WebMatrix. В этом случае откройте файл, к поставщику услуг и WebMatrix загружает копию его для редактирования. Каждый раз при сохранении файла, WebMatrix отправляет изменения на сайт.
> 
> Изменение удаленного — легко вносить изменения в ваш действующий сайт. Однако изменения, внесенные таким образом не синхронизированы с файлами в локальном сайте. Чтобы синхронизировать локальные файлы с удаленного узла, можно загрузить удаленные файлы. Этот процесс работает очень похоже на публикации, за исключением того, в обратном порядке.
> 
> Мы не описываются более о удаленное редактирование и удаленной загрузки средств WebMatrix здесь. Они весьма полезно в том случае, если несколько пользователей должны работать на том же узле, на разных компьютерах. Дополнительные сведения см. в разделе [публикации и изменять удаленный сайт в WebMatrix 2 бета-версии](https://go.microsoft.com/fwlink/?LinkId=251591).


## <a name="additional-resources"></a>Дополнительные ресурсы

- [Форум по ASP.NET WebMatrix ASP.NET Web Pages](https://forums.asp.net/1224.aspx/1?WebMatrix+and+ASP+NET+Web+Pages), отлично подходят для учета вопросы и ответы.

>[!div class="step-by-step"]
[Назад](layouts.md)
