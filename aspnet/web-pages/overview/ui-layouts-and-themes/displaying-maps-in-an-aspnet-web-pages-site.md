---
uid: web-pages/overview/ui-layouts-and-themes/displaying-maps-in-an-aspnet-web-pages-site
title: "Отображение карты в ASP.NET Web Pages (Razor) сайта | Документы Microsoft"
author: tfitzmac
description: "В этой статье объясняется, как отображать интерактивные карты на страницах в зависимости от служб, предоставляемых Bing, Google, Ma сопоставление веб-сайта ASP.NET Web Pages (Razor)..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/20/2014
ms.topic: article
ms.assetid: b5c268dd-ca6a-4562-b94c-a220fcf01f58
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/displaying-maps-in-an-aspnet-web-pages-site
msc.type: authoredcontent
ms.openlocfilehash: 6f3e6a0cfb8c08cd971e88986d0f059dd8237aab
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/24/2018
---
<a name="displaying-maps-in-an-aspnet-web-pages-razor-site"></a>Отображение карты в веб-страницы (Razor) узла ASP.NET
====================
по [Tom FitzMacken](https://github.com/tfitzmac)

> В этой статье объясняется, как для отображения интерактивных maps на страницах в зависимости от сопоставления служб, предоставляемых Bing, Google, Yahoo и MapQuest веб-сайта ASP.NET Web Pages (Razor).
> 
> Что вы узнаете следующее.
> 
> - Как создать схему на основе адреса.
> - Как создать карту, в зависимости от координаты широты и долготы.
> - Как зарегистрировать учетную запись разработчика Bing Maps и получить ключ, используемый с Bing Maps.
> 
> Это функция ASP.NET, представленные в статье:
> 
> - `Maps` Вспомогательные.
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a>Версии программного обеспечения, используемая в этом учебнике
> 
> 
> - Веб-страниц ASP.NET (Razor) 2
> - WebMatrix 2
>   
> 
> Этот учебник также работает с WebMatrix 3.


В веб-страницы, можно отобразить сопоставления на странице с помощью `Maps` поддержки. Можно создавать схемы, либо на основе адреса или набор координат широты и долготы. `Maps` Класса позволяет вызывать обработчики популярных карты, включая Bing, Google, Yahoo и MapQuest.

Шаги для добавления сопоставления на странице одинаковы независимо от того, какое ядро карты вызова. Просто добавьте ссылку на файл JavaScript, который делает доступных методов для отображения карты, а затем вызвать методы `Maps` вспомогательный.

Выберите службы карты, в зависимости от `Maps` используется вспомогательный метод. Можно использовать любой из них:

- `Maps.GetBingHtml`
- `Maps.GetGoogleHtml`
- `Maps.GetYahooHtml`
- `Maps.GetMapQuestHtml`

## <a name="installing-the-pieces-you-need"></a>Установка необходимых компонентов

Для отображения карты, следует эти элементы:

- `Maps` Вспомогательные. В версии 2 Библиотека вспомогательных методов ASP.NET Web — этого вспомогательного объекта. Если не было добавлено библиотеки, можно установить на сайте как пакет NuGet. Дополнительные сведения см. в разделе [Установка помощников в узел веб-страниц ASP.NET](https://go.microsoft.com/fwlink/?LinkId=252372). (В галерее, поиск `microsoft-web-helpers` пакета.)
- Библиотеки jQuery. Несколько шаблонов узла WebMatrix уже включены библиотеки jQuery в их *сценарий* папки. Если у вас этих библиотек, можно загрузить последние библиотеки jQuery непосредственно из [jQuery.org](http://jQuery.org) сайта. Или можно создать новый сайт с помощью шаблона (например, **начального сайта** шаблон) и скопируйте файлы jQuery с этого сайта, для текущего веб-узла.

Наконец Если вы хотите использовать службу Bing maps, необходимо создать учетную запись (бесплатно) и получить ключ. Чтобы получить ключ, выполните следующие действия.

1. Создать учетную запись на [учетную запись разработчика Bing Maps](https://www.microsoft.com/maps/developers/web.aspx). Необходимо иметь учетную запись Майкрософт (Windows Live ID) также.

    Можно указать, что вы хотите использовать ключ для **оценки и тестирования**. Если вы тестируете функции сопоставления на компьютере с помощью IIS Express и WebMatrix, перейдите **сайта** рабочей области и Примечание URL-адрес веб-узла (например, `http://localhost:50408`, хотя этот номер порта, скорее всего, будут разными). Эту функцию можно использовать *localhost* адрес в качестве узла при регистрации.
2. После регистрации учетной записи, перейдите в центр учетных записей Bing Maps и щелкните **Создание или просмотр ключей**:

    ![сопоставление 2](displaying-maps-in-an-aspnet-web-pages-site/_static/image1.png)
3. Запишите ключ, который создает Bing.

## <a name="creating-a-map-based-on-an-address-using-google"></a>Создание карты по адресам (с помощью Google)

Приведенный ниже показано, как создать страницу, которая подготавливает к просмотру схему по адресам. В этом примере показано, как использовать карты Google.

1. Создайте файл с именем *MapAddress.cshtml* в корневом узле. Эта страница будет создать карту, исходя из адреса, который можно передать.
2. Скопируйте следующий код в файл, перезапись существующего содержимого.

    [!code-cshtml[Main](displaying-maps-in-an-aspnet-web-pages-site/samples/sample1.cshtml)]

    Обратите внимание, следующие функции страницы:

    - `<script>` Элемент в `<head>` элемент. В примере `<script>` ссылок на элементы *jquery 1.6.4.min.js* файла, являющегося уменьшенный (сжатие) версия библиотеки jQuery версия 1.6.4. Обратите внимание, что ссылка предполагается, что *.js* файл находится в *сценариев* папки сайта. 

        > [!NOTE]
        > Если вы используете другой версии библиотеки jQuery, убедитесь, что вы неправильно указывают этой версии.
    - Вызов `@Maps.GetGoogleHtml` в основной области страницы. Для сопоставления адреса, необходимо передать строка адреса. Методы для других модулей, карты работают аналогичным образом (`@Maps.GetYahooHtml`, `@Maps.GetMapQuestHtml`).
- Запустите страницу и введите адрес. На странице отображается карта, в зависимости от карты Google, который показывает расположение, указанное.

    ![сопоставление 1](displaying-maps-in-an-aspnet-web-pages-site/_static/image2.png)

## <a name="creating-a-map-based-on-latitude-and-longitude-coordinates-using-bing"></a>Создание карты на основе широты и долготы координаты (с помощью Bing)

В этом примере показано, как создать карту, в соответствии с координатами. В этом примере показано, как для работы с картами Bing и включение ключа Bing. (Можно создать карты, в соответствии с координатами, кроме того, с помощью других модулей, карты без использования ключа Bing.)

1. Создайте файл с именем *MapCoordinates.cshtml* в корневой каталог сайта и заменить существующее содержимое со следующими кода и разметки:

    [!code-cshtml[Main](displaying-maps-in-an-aspnet-web-pages-site/samples/sample2.cshtml)]
2. Замените `your-key-here` значением ключа Bing Maps, созданные в более ранних версий.
3. Запустите *MapCoordinates.cshtml* введите координаты широты и долготы и нажмите кнопку **Map It!** . (Если вы не знаете все координаты, попробуйте следующее. Это расположение на Microsoft Редмонд).

    - Широта: 47.6781005859375
    - Долготы:-122.158317565918

    Эта страница отображается с помощью координат, заданные вами.

    ![сопоставление 3](displaying-maps-in-an-aspnet-web-pages-site/_static/image3.png)

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a>Дополнительные ресурсы


[Справочник по API Microsoft.Maps](https://msdn.microsoft.com/library/gg427611.aspx)
