---
uid: whitepapers/mvc3-release-notes
title: "ASP.NET MVC 3 | Документы Microsoft"
author: rick-anderson
description: 
ms.author: aspnetcontent
manager: wpickett
ms.date: 10/06/2010
ms.topic: article
ms.assetid: f44c166e-7e91-48a0-a6f8-d9285f3594e5
ms.technology: 
ms.prod: .net-framework
msc.legacyurl: /whitepapers/mvc3-release-notes
msc.type: content
ms.openlocfilehash: 92a6dee24b8942d721e3537a712be141155e61df
ms.sourcegitcommit: d8aa1d314891e981460b5e5c912afb730adbb3ad
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/05/2018
---
<a name="aspnet-mvc-3"></a><span data-ttu-id="a4a4e-102">ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="a4a4e-102">ASP.NET MVC 3</span></span>
====================
- [<span data-ttu-id="a4a4e-103">Обзор набора средств Visual Studio для Unity</span><span class="sxs-lookup"><span data-stu-id="a4a4e-103">Overview</span></span>](#overview)
- [<span data-ttu-id="a4a4e-104">Замечания по установке</span><span class="sxs-lookup"><span data-stu-id="a4a4e-104">Installation Notes</span></span>](#installation-notes)
- [<span data-ttu-id="a4a4e-105">Требования к программному обеспечению</span><span class="sxs-lookup"><span data-stu-id="a4a4e-105">Software Requirements</span></span>](#software-requirements)
- [<span data-ttu-id="a4a4e-106">Документация</span><span class="sxs-lookup"><span data-stu-id="a4a4e-106">Documentation</span></span>](#documentation)
- [<span data-ttu-id="a4a4e-107">Поддержка</span><span class="sxs-lookup"><span data-stu-id="a4a4e-107">Support</span></span>](#support)
- [<span data-ttu-id="a4a4e-108">Обновление проекта ASP.NET MVC 2 до ASP.NET MVC 3 Tools обновления</span><span class="sxs-lookup"><span data-stu-id="a4a4e-108">Upgrading an ASP.NET MVC 2 Project to ASP.NET MVC 3 Tools Update</span></span>](#upgrading)
- [<span data-ttu-id="a4a4e-109">Обновление средств ASP.NET MVC 3 (12 апреля 2011 г.)</span><span class="sxs-lookup"><span data-stu-id="a4a4e-109">ASP.NET MVC 3 Tools Update (April 12, 2011)</span></span>](#tu-changes)

    - [<span data-ttu-id="a4a4e-110">Диалоговое окно «Добавление контроллера» теперь позволяет формировать контроллеры с кодом доступа к представлениям и данных</span><span class="sxs-lookup"><span data-stu-id="a4a4e-110">"Add Controller" dialog box can now scaffold controllers with views and data access code</span></span>](#tu-AddControllerDialog)
    - [<span data-ttu-id="a4a4e-111">Усовершенствования «ASP.NET MVC 3 новый проект» диалоговое окно</span><span class="sxs-lookup"><span data-stu-id="a4a4e-111">Improvements to the "ASP.NET MVC 3 New Project" Dialog Box</span></span>](#tu-ImprovementsNewDialogBox)
    - [<span data-ttu-id="a4a4e-112">Шаблоны проектов добавлена платформа Modernizr 1.7</span><span class="sxs-lookup"><span data-stu-id="a4a4e-112">Project templates now include Modernizr 1.7</span></span>](#tu-Modernizr)
    - [<span data-ttu-id="a4a4e-113">Шаблоны проектов включены обновленные версии jQuery, jQuery UI и jQuery проверки</span><span class="sxs-lookup"><span data-stu-id="a4a4e-113">Project templates include updated versions of jQuery, jQuery UI, and jQuery Validation</span></span>](#tu-UpdatedJQuery)
    - [<span data-ttu-id="a4a4e-114">Шаблоны проектов добавлена платформа ADO.NET Entity Framework 4.1 в виде предустановленного пакета NuGet</span><span class="sxs-lookup"><span data-stu-id="a4a4e-114">Project templates now include ADO.NET Entity Framework 4.1 as a pre-installed NuGet package</span></span>](#tu-EF)
    - [<span data-ttu-id="a4a4e-115">Шаблоны проектов включены библиотеки JavaScript в виде предустановленных пакетов NuGet</span><span class="sxs-lookup"><span data-stu-id="a4a4e-115">Project templates include JavaScript libraries as pre-installed NuGet packages</span></span>](#tu-JavaScriptLibsNuget)
    - [<span data-ttu-id="a4a4e-116">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="a4a4e-116">Known Issues</span></span>](#tu-KI)
- [<span data-ttu-id="a4a4e-117">ASP.NET MVC 3 RTM (13 января 2011 г.)</span><span class="sxs-lookup"><span data-stu-id="a4a4e-117">ASP.NET MVC 3 RTM (January 13, 2011)</span></span>](#MVC3RTM)

    - [<span data-ttu-id="a4a4e-118">Изменение: Обновленную версию jQuery UI для 1.8.7</span><span class="sxs-lookup"><span data-stu-id="a4a4e-118">Change: Updated the version of jQuery UI to 1.8.7</span></span>](#RTM-1)
    - [<span data-ttu-id="a4a4e-119">Изменение: Изменить значение по умолчанию ModelMetadataProvider обратно в DataAnnotationsModelMetadataProvider</span><span class="sxs-lookup"><span data-stu-id="a4a4e-119">Change: Changed the default ModelMetadataProvider back to DataAnnotationsModelMetadataProvider</span></span>](#RTM-2)
    - [<span data-ttu-id="a4a4e-120">Исправлена ошибка: Вставка части выражения Razor, содержащий результаты пробелов в нем выполняется в обратном направлении</span><span class="sxs-lookup"><span data-stu-id="a4a4e-120">Fixed: Pasting part of a Razor expression that contains whitespace results in it being reversed</span></span>](#RTM-3)
    - [<span data-ttu-id="a4a4e-121">Исправлена ошибка: Переименование файла Razor, который открыт в редакторе отключает окрашивание синтаксиса и технологию IntelliSense</span><span class="sxs-lookup"><span data-stu-id="a4a4e-121">Fixed: Renaming a Razor file that is opened in the editor disables syntax colorization and IntelliSense</span></span>](#RTM-4)
    - [<span data-ttu-id="a4a4e-122">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="a4a4e-122">Known Issues</span></span>](#RTM-KI)
    - [<span data-ttu-id="a4a4e-123">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="a4a4e-123">Breaking Changes</span></span>](#RTM-BC)
- [<span data-ttu-id="a4a4e-124">ASP.NET MVC 3 версии-кандидата 2 (10 декабря 2010 г.)</span><span class="sxs-lookup"><span data-stu-id="a4a4e-124">ASP.NET MVC 3 Release Candidate 2 (December 10, 2010)</span></span>](#_Toc2)

    - [<span data-ttu-id="a4a4e-125">Изменения шаблонов проекта для включения jQuery 1.4.4 1.7 проверки jQuery и jQuery UI 1.8.6y 1.8.6 пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="a4a4e-125">Project Templates Changed to Include jQuery 1.4.4, jQuery Validation 1.7, and jQuery UI 1.8.6y UI 1.8.6</span></span>](#_Toc2_1)
    - [<span data-ttu-id="a4a4e-126">Класс добавлены «AdditionalMetadataAttribute»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-126">Added "AdditionalMetadataAttribute" Class</span></span>](#_Toc2_2)
    - [<span data-ttu-id="a4a4e-127">Улучшенное представление формирования шаблонов</span><span class="sxs-lookup"><span data-stu-id="a4a4e-127">Improved View Scaffolding</span></span>](#_Toc2_3)
    - [<span data-ttu-id="a4a4e-128">Добавленный метод Html.Raw</span><span class="sxs-lookup"><span data-stu-id="a4a4e-128">Added Html.Raw Method</span></span>](#_Toc2_3)
    - [<span data-ttu-id="a4a4e-129">Свойство переименовано «Controller.ViewModel» и «Представление» значение «ViewBag»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-129">Renamed "Controller.ViewModel" Property and the "View" Property To "ViewBag"</span></span>](#_Toc2_4)
    - [<span data-ttu-id="a4a4e-130">Переименованные «ControllerSessionStateAttribute» класс «SessionStateAttribute»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-130">Renamed "ControllerSessionStateAttribute" Class to "SessionStateAttribute"</span></span>](#_Toc2_5)
    - [<span data-ttu-id="a4a4e-131">Переименованный RemoteAttribute «Fields» значение «AdditionalFields»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-131">Renamed RemoteAttribute "Fields" Property to "AdditionalFields"</span></span>](#_Toc2_6)
    - [<span data-ttu-id="a4a4e-132">Переименовать «SkipRequestValidationAttribute» на «AllowHtmlAttribute»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-132">Renamed "SkipRequestValidationAttribute" to "AllowHtmlAttribute"</span></span>](#_Toc2_7)
    - [<span data-ttu-id="a4a4e-133">Метод измененные «Html.ValidationMessage» для отображения первой полезные сообщения об ошибке</span><span class="sxs-lookup"><span data-stu-id="a4a4e-133">Changed "Html.ValidationMessage" Method to Display the First Useful Error Message</span></span>](#_Toc2_8)
    - [<span data-ttu-id="a4a4e-134">Фиксированный @model объявления, чтобы не добавлять пробелы в документ</span><span class="sxs-lookup"><span data-stu-id="a4a4e-134">Fixed @model Declaration to not Add Whitespace to the Document</span></span>](#_Toc2_9)
    - [<span data-ttu-id="a4a4e-135">Свойство добавлено «FileExtensions» для обработчиков представлений для поддержки имен файлов запускаемых</span><span class="sxs-lookup"><span data-stu-id="a4a4e-135">Added "FileExtensions" Property to View Engines to Support Engine-Specific File Names</span></span>](#_Toc2_10)
    - [<span data-ttu-id="a4a4e-136">Вспомогательный метод фиксированный «LabelFor» для порождения правильное значение для атрибута «For»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-136">Fixed "LabelFor" Helper to Emit the Correct Value for the "For" Attribute</span></span>](#_Toc2_11)
    - [<span data-ttu-id="a4a4e-137">Метод фиксированный «RenderAction», чтобы предоставить явные значения приоритета во время привязки модели</span><span class="sxs-lookup"><span data-stu-id="a4a4e-137">Fixed "RenderAction" Method to Give Explicit Values Precedence During Model Binding</span></span>](#_Toc2_12)
    - [<span data-ttu-id="a4a4e-138">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="a4a4e-138">Breaking Changes</span></span>](#_Toc2_BC)
    - [<span data-ttu-id="a4a4e-139">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="a4a4e-139">Known Issues</span></span>](#_Toc2_KI)
- [<span data-ttu-id="a4a4e-140">ASP.NET MVC 3 версии-кандидата (9 ноября 2010 г.)</span><span class="sxs-lookup"><span data-stu-id="a4a4e-140">ASP.NET MVC 3 Release Candidate (Nov 9, 2010)</span></span>](#TOC_ASP_NET_3_RC)

    - [<span data-ttu-id="a4a4e-141">Новые возможности в версии-Кандидате ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="a4a4e-141">New Features in ASP.NET MVC 3 RC</span></span>](#_Toc276711785)
    - [<span data-ttu-id="a4a4e-142">Диспетчер пакетов NuGet</span><span class="sxs-lookup"><span data-stu-id="a4a4e-142">NuGet Package Manager</span></span>](#_Toc276711786)
    - [<span data-ttu-id="a4a4e-143">Улучшенная «Новый проект» диалоговое окно</span><span class="sxs-lookup"><span data-stu-id="a4a4e-143">Improved "New Project" Dialog Box</span></span>](#_Toc276711787)
    - [<span data-ttu-id="a4a4e-144">Контроллеры sessionless</span><span class="sxs-lookup"><span data-stu-id="a4a4e-144">Sessionless Controllers</span></span>](#_Toc276711788)
    - [<span data-ttu-id="a4a4e-145">Новые атрибуты проверки</span><span class="sxs-lookup"><span data-stu-id="a4a4e-145">New Validation Attributes</span></span>](#_Toc276711789)
    - [<span data-ttu-id="a4a4e-146">Новые перегрузки для методов «LabelForModel» и «LabelFor»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-146">New Overloads for "LabelFor" and "LabelForModel" Methods</span></span>](#_Toc276711790)
    - [<span data-ttu-id="a4a4e-147">Дочернее действие кэширования выходных данных</span><span class="sxs-lookup"><span data-stu-id="a4a4e-147">Child Action Output Caching</span></span>](#_Toc276711791)
    - [<span data-ttu-id="a4a4e-148">«Добавление представления» улучшения диалоговых окон</span><span class="sxs-lookup"><span data-stu-id="a4a4e-148">"Add View" Dialog Box Improvements</span></span>](#_Toc276711792)
    - [<span data-ttu-id="a4a4e-149">Гранулярная проверка запросов</span><span class="sxs-lookup"><span data-stu-id="a4a4e-149">Granular Request Validation</span></span>](#_Toc276711793)
    - [<span data-ttu-id="a4a4e-150">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="a4a4e-150">Breaking Changes</span></span>](#_Toc276711794)
    - [<span data-ttu-id="a4a4e-151">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="a4a4e-151">Known Issues</span></span>](#_Toc276711795)
- [<span data-ttu-id="a4a4e-152">ASP. Бета-версии MVC 3 заметках о (6 октября 2010 г.)</span><span class="sxs-lookup"><span data-stu-id="a4a4e-152">ASP.MVC 3 Beta Notes (Oct 6, 2010)</span></span>](#TOC_ASP_NET_3_Beta)

    - [<span data-ttu-id="a4a4e-153">Новые возможности в бета-версии ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="a4a4e-153">New Features in ASP.NET MVC 3 Beta</span></span>](#0.1__Toc274034215)
    - [<span data-ttu-id="a4a4e-154">Диспетчер пакетов NuPack</span><span class="sxs-lookup"><span data-stu-id="a4a4e-154">NuPack Package Manager</span></span>](#0.1__Toc274034216)
    - [<span data-ttu-id="a4a4e-155">Улучшенное диалоговое окно нового проекта</span><span class="sxs-lookup"><span data-stu-id="a4a4e-155">Improved New Project Dialog Box</span></span>](#0.1__Toc274034217)
    - [<span data-ttu-id="a4a4e-156">Упрощенный способ указания строго типизированного моделей в представлений Razor</span><span class="sxs-lookup"><span data-stu-id="a4a4e-156">Simplified Way to Specify Strongly Typed Models in Razor Views</span></span>](#0.1__Toc274034218)
    - [<span data-ttu-id="a4a4e-157">Поддержка новых веб-страниц ASP.NET вспомогательные методы</span><span class="sxs-lookup"><span data-stu-id="a4a4e-157">Support for New ASP.NET Web Pages Helper Methods</span></span>](#0.1__Toc274034219)
    - [<span data-ttu-id="a4a4e-158">Поддержка внедрения дополнительных зависимостей</span><span class="sxs-lookup"><span data-stu-id="a4a4e-158">Additional Dependency Injection Support</span></span>](#0.1__Toc274034220)
    - [<span data-ttu-id="a4a4e-159">Новая поддержка ненавязчивого основе jQuery Ajax</span><span class="sxs-lookup"><span data-stu-id="a4a4e-159">New Support for Unobtrusive jQuery-Based Ajax</span></span>](#0.1__Toc274034221)
    - [<span data-ttu-id="a4a4e-160">Новые средства поддержки ненавязчивого jQuery проверки</span><span class="sxs-lookup"><span data-stu-id="a4a4e-160">New Support for Unobtrusive jQuery Validation</span></span>](#0.1__Toc274034222)
    - [<span data-ttu-id="a4a4e-161">Новые приложения флагов для клиентской проверки и ненавязчивого JavaScript</span><span class="sxs-lookup"><span data-stu-id="a4a4e-161">New Application-Wide Flags for Client Validation and Unobtrusive JavaScript</span></span>](#0.1__Toc274034223)
    - [<span data-ttu-id="a4a4e-162">Новая поддержка код, выполняемый перед запуском представления</span><span class="sxs-lookup"><span data-stu-id="a4a4e-162">New Support for Code that Runs Before Views Run</span></span>](#0.1__Toc274034224)
    - [<span data-ttu-id="a4a4e-163">Новая поддержка синтаксиса Razor VBHTML</span><span class="sxs-lookup"><span data-stu-id="a4a4e-163">New Support for the VBHTML Razor Syntax</span></span>](#0.1__Toc274034225)
    - [<span data-ttu-id="a4a4e-164">Более точный контроль над ValidateInputAttribute</span><span class="sxs-lookup"><span data-stu-id="a4a4e-164">More Granular Control over ValidateInputAttribute</span></span>](#0.1__Toc274034226)
    - [<span data-ttu-id="a4a4e-165">Вспомогательные методы преобразовать символы подчеркивания дефисы для имен атрибутов HTML, заданные с помощью анонимных объектов</span><span class="sxs-lookup"><span data-stu-id="a4a4e-165">Helpers Convert Underscores to Hyphens for HTML Attribute Names Specified Using Anonymous Objects</span></span>](#0.1__Toc274034227)
    - [<span data-ttu-id="a4a4e-166">Исправления ошибок</span><span class="sxs-lookup"><span data-stu-id="a4a4e-166">Bug Fixes</span></span>](#0.1__Toc274034228)
    - [<span data-ttu-id="a4a4e-167">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="a4a4e-167">Breaking Changes</span></span>](#0.1__Toc274034229)
    - [<span data-ttu-id="a4a4e-168">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="a4a4e-168">Known Issues</span></span>](#0.1__Toc274034230)
- [<span data-ttu-id="a4a4e-169">Disclaimer</span><span class="sxs-lookup"><span data-stu-id="a4a4e-169">Disclaimer</span></span>](#0.1__Toc274034231)

<a id="overview"></a>
## <a name="overview"></a><span data-ttu-id="a4a4e-170">Обзор</span><span class="sxs-lookup"><span data-stu-id="a4a4e-170">Overview</span></span>

<span data-ttu-id="a4a4e-171">В этом документе описывается выпуск ASP.NET MVC 3 RTM для Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-171">This document describes the release of ASP.NET MVC 3 RTM for Visual Studio 2010.</span></span> <span data-ttu-id="a4a4e-172">ASP.NET MVC — это платформа для разработки веб-приложений, который использует шаблон Model-View-Controller (MVC).</span><span class="sxs-lookup"><span data-stu-id="a4a4e-172">ASP.NET MVC is a framework for developing Web applications that uses the Model-View-Controller (MVC) pattern.</span></span> <span data-ttu-id="a4a4e-173">Установщик ASP.NET MVC 3 содержит следующие компоненты:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-173">The ASP.NET MVC 3 installer includes the following components:</span></span>

- <span data-ttu-id="a4a4e-174">Компоненты среды выполнения ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="a4a4e-174">ASP.NET MVC 3 runtime components</span></span>
- <span data-ttu-id="a4a4e-175">Средства ASP.NET MVC 3 Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="a4a4e-175">ASP.NET MVC 3 Visual Studio 2010 tools</span></span>
- <span data-ttu-id="a4a4e-176">Компоненты времени выполнения веб-страниц ASP.NET</span><span class="sxs-lookup"><span data-stu-id="a4a4e-176">ASP.NET Web Pages run-time components</span></span>
- <span data-ttu-id="a4a4e-177">Инструменты Visual Studio 2010 веб-страниц ASP.NET</span><span class="sxs-lookup"><span data-stu-id="a4a4e-177">ASP.NET Web Pages Visual Studio 2010 tools</span></span>
- <span data-ttu-id="a4a4e-178">Диспетчер пакетов Майкрософт для .NET (NuGet)</span><span class="sxs-lookup"><span data-stu-id="a4a4e-178">Microsoft Package Manager for .NET (NuGet)</span></span>
- <span data-ttu-id="a4a4e-179">Обновление для Visual Studio 2010, которая обеспечивает поддержку синтаксиса Razor.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-179">An update for Visual Studio 2010 that enables support for Razor syntax.</span></span> <span data-ttu-id="a4a4e-180">(Сведения см. в статье базы знаний 2483190.)</span><span class="sxs-lookup"><span data-stu-id="a4a4e-180">(For details, see KnowledgeBase article 2483190.)</span></span>

<span data-ttu-id="a4a4e-181">Полный набор заметок о выпуске для каждой предварительной версии ASP.NET MVC 3 можно найти на веб-сайте ASP.NET по следующему АДРЕСУ:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-181">The full set of release notes for each pre-release version of ASP.NET MVC 3 can be found on the ASP.NET website at the following URL:</span></span>

<span data-ttu-id="a4a4e-182">https://www.asp.net/learn/whitepapers/mvc3-release-notes</span><span class="sxs-lookup"><span data-stu-id="a4a4e-182">https://www.asp.net/learn/whitepapers/mvc3-release-notes</span></span>

<a id="installation-notes"></a>
## <a name="installation-notes"></a><span data-ttu-id="a4a4e-183">Замечания по установке</span><span class="sxs-lookup"><span data-stu-id="a4a4e-183">Installation Notes</span></span>

<span data-ttu-id="a4a4e-184">Чтобы установить ASP.NET MVC 3 RTM с помощью установщика веб-платформы (Web PI), посетите следующую страницу:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-184">To install ASP.NET MVC 3 RTM using the Web Platform Installer (Web PI), visit the following page:</span></span>

[<span data-ttu-id="a4a4e-185">https://www.microsoft.com/web/gallery/install.aspx?appid=MVC3</span><span class="sxs-lookup"><span data-stu-id="a4a4e-185">https://www.microsoft.com/web/gallery/install.aspx?appid=MVC3</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appid=MVC3)

<span data-ttu-id="a4a4e-186">Кроме того можно загрузить установщик для ASP.NET MVC 3 RTM для Visual Studio 2010 на следующей странице:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-186">Alternatively, you can download the installer for ASP.NET MVC 3 RTM for Visual Studio 2010 from the following page:</span></span>

<span data-ttu-id="a4a4e-187">https://go.microsoft.com/fwlink/?LinkID=208140</span><span class="sxs-lookup"><span data-stu-id="a4a4e-187">https://go.microsoft.com/fwlink/?LinkID=208140</span></span>

<span data-ttu-id="a4a4e-188">ASP.NET MVC 3 можно установить и выполнять side-by-side с ASP.NET MVC 2.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-188">ASP.NET MVC 3 can be installed and can run side-by-side with ASP.NET MVC 2.</span></span>

<a id="software-requirements"></a>
## <a name="software-requirements"></a><span data-ttu-id="a4a4e-189">Требования к программному обеспечению</span><span class="sxs-lookup"><span data-stu-id="a4a4e-189">Software Requirements</span></span>

<span data-ttu-id="a4a4e-190">Компоненты времени выполнения ASP.NET MVC 3 требуется следующее программное обеспечение:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-190">The ASP.NET MVC 3 run-time components require the following software:</span></span>

- <span data-ttu-id="a4a4e-191">.NET framework версии 4.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-191">.NET Framework version 4.</span></span> 

    <span data-ttu-id="a4a4e-192">Средства ASP.NET MVC 3 Visual Studio 2010 требуется следующее программное обеспечение:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-192">ASP.NET MVC 3 Visual Studio 2010 tools require the following software:</span></span>
- <span data-ttu-id="a4a4e-193">Visual Studio 2010 или Visual Web Developer 2010 Express.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-193">Visual Studio 2010 or Visual Web Developer 2010 Express.</span></span>

<a id="documentation"></a>
## <a name="documentation"></a><span data-ttu-id="a4a4e-194">Документация</span><span class="sxs-lookup"><span data-stu-id="a4a4e-194">Documentation</span></span>

<span data-ttu-id="a4a4e-195">Документация по ASP.NET MVC доступна на веб-сайте MSDN по АДРЕСУ:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-195">Documentation for ASP.NET MVC is available on the MSDN Web site at the following URL:</span></span>

[<span data-ttu-id="a4a4e-196">https://go.microsoft.com/fwlink/?LinkId=205717</span><span class="sxs-lookup"><span data-stu-id="a4a4e-196">https://go.microsoft.com/fwlink/?LinkId=205717</span></span>](https://go.microsoft.com/fwlink/?LinkId=205717)

<span data-ttu-id="a4a4e-197">Учебники и другие сведения о ASP.NET MVC доступны на странице MVC ASP.NET веб-сайта по следующему АДРЕСУ:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-197">Tutorials and other information about ASP.NET MVC are available on the MVC page of the ASP.NET Web site at the following URL:</span></span>

[<span data-ttu-id="a4a4e-198">https://www.asp.net/mvc/</span><span class="sxs-lookup"><span data-stu-id="a4a4e-198">https://www.asp.net/mvc/</span></span>](../mvc/index.md)

<a id="support"></a>
## <a name="support"></a><span data-ttu-id="a4a4e-199">Поддержка</span><span class="sxs-lookup"><span data-stu-id="a4a4e-199">Support</span></span>

<span data-ttu-id="a4a4e-200">Это выпуск полностью поддерживается.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-200">This is a fully supported release.</span></span> <span data-ttu-id="a4a4e-201">Сведения о получении технической поддержки можно найти в [сайте технической поддержки Майкрософт](https://support.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="a4a4e-201">Information about getting technical support can be found at the [Microsoft Support website](https://support.microsoft.com/).</span></span>

<span data-ttu-id="a4a4e-202">Также вы можете задать вопросы об этом выпуске на форуме ASP.NET MVC, где члены сообщества ASP.NET друг другу, предоставляя полезные сведения:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-202">Also feel free to post questions about this release to the ASP.NET MVC forum, where members of the ASP.NET community are frequently able to provide informal support:</span></span>

[<span data-ttu-id="a4a4e-203">https://forums.asp.net/1146.aspx</span><span class="sxs-lookup"><span data-stu-id="a4a4e-203">https://forums.asp.net/1146.aspx</span></span>](https://forums.asp.net/1146.aspx)

<a id="upgrading"></a>
## <a name="upgrading-an-aspnet-mvc-2-project-to-aspnet-mvc-3-tools-update"></a><span data-ttu-id="a4a4e-204">Обновление проекта ASP.NET MVC 2 до ASP.NET MVC 3 Tools обновления</span><span class="sxs-lookup"><span data-stu-id="a4a4e-204">Upgrading an ASP.NET MVC 2 Project to ASP.NET MVC 3 Tools Update</span></span>

<span data-ttu-id="a4a4e-205">ASP.NET MVC 3 можно установить параллельно с ASP.NET MVC 2 на том же компьютере, что обеспечивает гибкость в выборе при обновлении приложения ASP.NET MVC 2 до ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-205">ASP.NET MVC 3 can be installed side by side with ASP.NET MVC 2 on the same computer, which gives you flexibility in choosing when to upgrade an ASP.NET MVC 2 application to ASP.NET MVC 3.</span></span>

<span data-ttu-id="a4a4e-206">Чтобы вручную обновить существующее приложение ASP.NET MVC 2 до версии 3, выполните следующие действия:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-206">To manually upgrade an existing ASP.NET MVC 2 application to version 3, do the following:</span></span>

1. <span data-ttu-id="a4a4e-207">Создайте новый пустой проект ASP.NET MVC 3 на компьютере.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-207">Create a new empty ASP.NET MVC 3 project on your computer.</span></span> <span data-ttu-id="a4a4e-208">Этот проект будет содержать некоторые файлы, которые необходимы для обновления.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-208">This project will contain some files that are required for the upgrade.</span></span>
2. <span data-ttu-id="a4a4e-209">Скопируйте следующие файлы из проекта ASP.NET MVC 3 в папку проекта ASP.NET MVC 2.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-209">Copy the following files from the ASP.NET MVC 3 project into the corresponding location of your ASP.NET MVC 2 project.</span></span> <span data-ttu-id="a4a4e-210">Необходимо обновить все ссылки на библиотеку jQuery с учетом нового имени файла (jQuery-1.5.1.js):</span><span class="sxs-lookup"><span data-stu-id="a4a4e-210">You'll need to update any references to the jQuery library to account for the new filename ( jQuery-1.5.1.js):</span></span> 

    - <span data-ttu-id="a4a4e-211">/Views/Web.config</span><span class="sxs-lookup"><span data-stu-id="a4a4e-211">/Views/Web.config</span></span>
    - <span data-ttu-id="a4a4e-212">/packages.config</span><span class="sxs-lookup"><span data-stu-id="a4a4e-212">/packages.config</span></span>
    - <span data-ttu-id="a4a4e-213">отличающиеся от принятых\*.js</span><span class="sxs-lookup"><span data-stu-id="a4a4e-213">/scripts/\*.js</span></span>
    - <span data-ttu-id="a4a4e-214">/Content/themes/\*.\*</span><span class="sxs-lookup"><span data-stu-id="a4a4e-214">/Content/themes/\*.\*</span></span>
3. <span data-ttu-id="a4a4e-215">Копировать *пакетов* папок в корне пустое решение проект ASP.NET MVC 3 в корневой папке решения, который находится в каталоге, где размещен SLN-файл решения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-215">Copy the *packages* folder in the root of the empty ASP.NET MVC 3 project solution into the root of your solution, which is in the directory where the solution's .sln file is located.</span></span>
4. <span data-ttu-id="a4a4e-216">Если проект ASP.NET MVC 2 содержит все области, скопируйте файл /Views/Web.config в папку *представления* папку для каждой области.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-216">If your ASP.NET MVC 2 project contains any areas, copy the /Views/Web.config file to the *Views* folder of each area.</span></span>
5. <span data-ttu-id="a4a4e-217">В обоих файлах Web.config в проекте ASP.NET MVC 2 глобальный поиск и замените версию ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-217">In both Web.config files in the ASP.NET MVC 2 project, globally search and replace the ASP.NET MVC version.</span></span> <span data-ttu-id="a4a4e-218">Найти следующее:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-218">Find the following:</span></span> 

    [!code-console[Main](mvc3-release-notes/samples/sample1.cmd)]

    <span data-ttu-id="a4a4e-219">Замените его следующим кодом:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-219">Replace it with the following:</span></span>

    [!code-console[Main](mvc3-release-notes/samples/sample2.cmd)]
6. <span data-ttu-id="a4a4e-220">В обозревателе решений удалите ссылку на *System.Web.Mvc* (какие указывает на библиотеку DLL из версии 2), затем добавьте ссылку на *System.Web.Mvc* (v3.0.0.0).</span><span class="sxs-lookup"><span data-stu-id="a4a4e-220">In Solution Explorer, delete the reference to *System.Web.Mvc* (which points to the DLL from version 2), then add a reference to *System.Web.Mvc* (v3.0.0.0).</span></span>
7. <span data-ttu-id="a4a4e-221">Добавьте ссылку на System.Web.WebPages.dll и System.Web.Helpers.dll.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-221">Add a reference to System.Web.WebPages.dll and System.Web.Helpers.dll.</span></span> <span data-ttu-id="a4a4e-222">Эти сборки расположены в следующих папках:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-222">These assemblies are located in the following folders:</span></span> 

    - <span data-ttu-id="a4a4e-223">%ProgramFiles%\ Microsoft ASP.NET\ASP.NET 3\Assemblies MVC</span><span class="sxs-lookup"><span data-stu-id="a4a4e-223">%ProgramFiles%\ Microsoft ASP.NET\ASP.NET MVC 3\Assemblies</span></span>
    - <span data-ttu-id="a4a4e-224">%ProgramFiles%\ Pages\v1.0\Assemblies Microsoft ASP.NET\ASP.NET Web</span><span class="sxs-lookup"><span data-stu-id="a4a4e-224">%ProgramFiles%\ Microsoft ASP.NET\ASP.NET Web Pages\v1.0\Assemblies</span></span>
8. <span data-ttu-id="a4a4e-225">В обозревателе решений щелкните правой кнопкой мыши имя проекта и выберите команду Выгрузить проект.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-225">In Solution Explorer, right-click the project name and select Unload Project.</span></span> <span data-ttu-id="a4a4e-226">Затем щелкните правой кнопкой мыши имя проекта и выберите изменение, *ProjectName*CSPROJ-файл.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-226">Then right-click the project name again and select Edit *ProjectName*.csproj.</span></span>
9. <span data-ttu-id="a4a4e-227">Найдите *ProjectTypeGuids* и замените {F85E285D-A4E0-4152-9332-AB1D724D3325} на {E53F8FEA-EAE0-44A6-8774-FFD645390401}.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-227">Locate the *ProjectTypeGuids* element and replace {F85E285D-A4E0-4152-9332-AB1D724D3325} with {E53F8FEA-EAE0-44A6-8774-FFD645390401}.</span></span>
10. <span data-ttu-id="a4a4e-228">Сохранить изменения, щелкните правой кнопкой мыши проект и выберите команду перезагрузить проект.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-228">Save the changes, right-click the project, and then select Reload Project.</span></span>
11. <span data-ttu-id="a4a4e-229">В корневом файле Web.config приложения, добавьте следующие параметры, чтобы *сборки* раздела.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-229">In the application's root Web.config file, add the following settings to the *assemblies* section.</span></span> 

    [!code-xml[Main](mvc3-release-notes/samples/sample3.xml)]
12. <span data-ttu-id="a4a4e-230">Если проект ссылается на все библиотеки сторонних разработчиков, которые компилируются с помощью ASP.NET MVC 2, добавьте следующие выделяются *bindingRedirect* элемент в файл Web.config в корне приложения  *Конфигурация* раздела:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-230">If the project references any third-party libraries that are compiled using ASP.NET MVC 2, add the following highlighted *bindingRedirect* element to the Web.config file in the application root under the *configuration* section:</span></span> 

    [!code-xml[Main](mvc3-release-notes/samples/sample4.xml)]

<a id="tu-changes"></a>
## <a name="changes-in-aspnet-mvc-3-tools-update"></a><span data-ttu-id="a4a4e-231">Обновление средств изменения в ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="a4a4e-231">Changes in ASP.NET MVC 3 Tools Update</span></span>

<span data-ttu-id="a4a4e-232">В этом разделе описаны изменения, внесенные в выпуске обновления средств ASP.NET MVC 3 с момента выпуска ASP.NET MVC 3 RTM.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-232">This section describes changes made in the ASP.NET MVC 3 Tools Update release since the ASP.NET MVC 3 RTM release.</span></span>

<a id="tu-AddControllerDialog"></a>
### <a name="add-controller-dialog-box-can-now-scaffold-controllers-with-views-and-data-access-code"></a><span data-ttu-id="a4a4e-233">Диалоговое окно «Добавление контроллера» теперь позволяет формировать контроллеры с кодом доступа к представлениям и данных</span><span class="sxs-lookup"><span data-stu-id="a4a4e-233">"Add Controller" dialog box can now scaffold controllers with views and data access code</span></span>

<span data-ttu-id="a4a4e-234">Формирование шаблонов — это быстрый способ формирования контроллеров и представления для вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-234">Scaffolding is a way of quickly generating a controller and views for your application.</span></span> <span data-ttu-id="a4a4e-235">После создания кода можно изменить его в соответствии с требованиями проекта.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-235">After the code has been generated, you can edit it to meet your project's requirements.</span></span>

<span data-ttu-id="a4a4e-236">Для запуска *добавления контроллера* диалоговое окно в ASP.NET MVC 3, щелкните правой кнопкой мыши *контроллеров* папки в *обозревателе решений*, нажмите кнопку *добавить*, а затем нажмите кнопку *контроллера*.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-236">To launch the *Add Controller* dialog box in ASP.NET MVC 3, right-click the *Controllers* folder in *Solution Explorer*, click *Add*, and then click *Controller*.</span></span> <span data-ttu-id="a4a4e-237">Диалоговое окно улучшен предлагать дополнительные параметры формирования шаблонов.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-237">The dialog box has been enhanced to offer additional scaffolding options.</span></span>

![](mvc3-release-notes/_static/image1.png)

<span data-ttu-id="a4a4e-238">Доступны три шаблона по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-238">There are three scaffolding templates available by default.</span></span>

#### <a name="empty-controller"></a><span data-ttu-id="a4a4e-239">Пустой контроллер</span><span class="sxs-lookup"><span data-stu-id="a4a4e-239">Empty Controller</span></span>

<span data-ttu-id="a4a4e-240">Этот шаблон создает пустой файл контроллера.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-240">This template generates an empty controller file.</span></span> <span data-ttu-id="a4a4e-241">Этот шаблон является эквивалентом не проверяет *добавить действия для создания, редактирования и сведений, удалите сценарии* в предыдущих версиях ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-241">This template is equivalent to not checking *Add actions for create, edit, details, delete scenarios* in previous versions of ASP.NET MVC.</span></span> <span data-ttu-id="a4a4e-242">При выборе данного шаблона другие параметры доступны.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-242">If you choose this, no further options are available.</span></span>

#### <a name="controller-with-empty-readwrite-actions"></a><span data-ttu-id="a4a4e-243">Контроллер с действиями пустой чтения и записи</span><span class="sxs-lookup"><span data-stu-id="a4a4e-243">Controller with empty read/write actions</span></span>

<span data-ttu-id="a4a4e-244">Этот шаблон создает файл контроллера, который содержит все необходимые методами, но без реализации их кода в методы.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-244">This template generates a controller file that has all the required action methods but no implementation code in the methods.</span></span> <span data-ttu-id="a4a4e-245">Этот шаблон аналогичен установленному флажку *добавить действия для создания, редактирования и сведений, удалите сценарии* в предыдущих версиях ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-245">This template is equivalent to checking *Add actions for create, edit, details, delete scenarios* in previous versions of ASP.NET MVC.</span></span> <span data-ttu-id="a4a4e-246">При выборе данного шаблона другие параметры доступны.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-246">If you choose this, no further options are available.</span></span>

#### <a name="controller-with-readwrite-actions-and-views-using-entity-framework"></a><span data-ttu-id="a4a4e-247">Контроллер с действиями чтения и записи и представлениями, использующий Entity Framework</span><span class="sxs-lookup"><span data-stu-id="a4a4e-247">Controller with read/write actions and views, using Entity Framework</span></span>

<span data-ttu-id="a4a4e-248">Этот шаблон позволяет быстро создавать пользовательский интерфейс рабочего ввода данных.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-248">This template enables you to quickly create a working data-entry user interface.</span></span> <span data-ttu-id="a4a4e-249">Он создает код, обрабатывающий ряд общих требований и сценариев, таких как следующие:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-249">It generates code that handles a range of common requirements and scenarios, such as the following:</span></span>

- <span data-ttu-id="a4a4e-250">*Доступ к данным*.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-250">*Data access*.</span></span> <span data-ttu-id="a4a4e-251">Созданный код считывает и записывает сущности в базе данных.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-251">The generated code reads and writes entities in a database.</span></span> <span data-ttu-id="a4a4e-252">Он работает с использованием подхода Entity Framework Code First, если выбрать существующий класс контекста данных или позволить шаблону создать новый *DbContext* класса.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-252">It works with the Entity Framework Code First approach if you choose an existing data context class or if you let the template generate a new *DbContext* class.</span></span> <span data-ttu-id="a4a4e-253">Она также работает с использованием подхода Entity Framework Database First или Model First, если выбрать существующую *ObjectContext* класса.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-253">It also works with the Entity Framework Database First or Model First approach if you choose an existing *ObjectContext* class.</span></span>
- <span data-ttu-id="a4a4e-254">*Проверка*.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-254">*Validation*.</span></span> <span data-ttu-id="a4a4e-255">Созданный код использует привязки модели ASP.NET MVC и функции метаданных, чтобы отправки форм проверяются в соответствии с правилами, объявленными в классе модели.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-255">The generated code uses ASP.NET MVC model binding and metadata features so that form submissions are validated according to rules declared on your model class.</span></span> <span data-ttu-id="a4a4e-256">Это включает в себя встроенные правила проверки, такие как *необходимые* и *StringLength* атрибуты и пользовательские правила проверки.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-256">This includes built-in validation rules, such as the *Required* and *StringLength* attributes, and custom validation rules.</span></span>
- <span data-ttu-id="a4a4e-257">*Один ко многим связи*.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-257">*One-to-many relationships*.</span></span> <span data-ttu-id="a4a4e-258">Если вы определили один ко многим связей по внешнему ключу между классами модели, созданный код сформирует раскрывающиеся списки для выбора связанных сущностей.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-258">If you define one-to-many foreign-key relationships between your model classes, the generated code will produce drop-down lists for selecting related entities.</span></span> <span data-ttu-id="a4a4e-259">Например можно определить следующие классы модели Entity Framework Code First соглашения:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-259">For example, you might define the following model classes following Entity Framework Code First conventions:</span></span> 

    [!code-csharp[Main](mvc3-release-notes/samples/sample5.cs)]

    <span data-ttu-id="a4a4e-260">При формировании шаблона контроллера для *продукта* класса, его представления позволяют пользователям выбирать *категории* объекта для каждого *продукта* экземпляра.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-260">When you then scaffold a controller for the *Product* class, its views will allow users to choose a *Category* object for each *Product* instance.</span></span>

    <span data-ttu-id="a4a4e-261">Этот шаблон предоставляет дополнительные возможности для *добавить контроллер* диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-261">This template enables additional options in the *Add Controller* dialog box.</span></span> <span data-ttu-id="a4a4e-262">Для *класс модели*, можно выбрать любой класс модели в вашем решении, который определяет тип данных, которые пользователи смогут для создания или изменения:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-262">For *Model class*, you can choose any model class in your solution, which determines the type of data that users will be able to create or edit:</span></span>
- <span data-ttu-id="a4a4e-263">Если вы хотите использовать Entity Framework Code First, можно выбрать любой класс модели.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-263">If you want to use Entity Framework Code First, you can choose any model class.</span></span>
- <span data-ttu-id="a4a4e-264">При использовании Entity Framework Database First или Entity Framework Model First, не забудьте выбрать класс сущности, определенный в концептуальной модели.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-264">If you are using Entity Framework Database First or Entity Framework Model First, be sure to choose an entity class defined in your conceptual model.</span></span>

<span data-ttu-id="a4a4e-265">Для *класс контекста данных*, можно выбрать следующие параметры:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-265">For *Data Context class*, you can make these choices:</span></span>

- <span data-ttu-id="a4a4e-266">Если вы хотите использовать Code First и не имеют существующие данные контекста класса, выберите ** новый контекст данных **.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-266">If you want to use Code First and have no existing data context class, choose **New data context **.</span></span> <span data-ttu-id="a4a4e-267">Класс контекста данных создается автоматически.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-267">A data context class will then be generated for you.</span></span>
- <span data-ttu-id="a4a4e-268">Если вы хотите использовать Code First и класса контекста данных, то выберите его.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-268">If you want to use Code First and have an existing data context class, choose it here.</span></span> <span data-ttu-id="a4a4e-269">Обновляется для выбранного класса модели.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-269">It will be updated to persist the model class you have selected.</span></span>
- <span data-ttu-id="a4a4e-270">При использовании Database First или Model First выберите класс контекста объекта.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-270">If you are using Database First or Model First, choose your object context class here.</span></span>

<span data-ttu-id="a4a4e-271">Для представлений выберите модуль просмотра, который вы хотите использовать, или параметр Нет, если не требуется формировать представления.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-271">For Views, choose the view engine you want to use, or choose None if you don't want to scaffold any views.</span></span>

<span data-ttu-id="a4a4e-272">Можно выбрать дополнительные Optionsto указания дополнительных параметров сформированных представлений.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-272">You can select Advanced Optionsto specify further options for the generated views.</span></span> <span data-ttu-id="a4a4e-273">Например можно выбрать макет или главную страницу.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-273">For example, you can choose the layout or master page to use.</span></span>

<a id="tu-ImprovementsNewDialogBox"></a>
### <a name="improvements-to-the-aspnet-mvc-3-new-project-dialog-box"></a><span data-ttu-id="a4a4e-274">Усовершенствования «ASP.NET MVC 3 новый проект» диалоговое окно</span><span class="sxs-lookup"><span data-stu-id="a4a4e-274">Improvements to the "ASP.NET MVC 3 New Project" Dialog Box</span></span>

<span data-ttu-id="a4a4e-275">Диалоговое окно, используемого для создания новых проектов ASP.NET MVC 3 содержит множество улучшений, указанных ниже.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-275">The dialog box you use to create new ASP.NET MVC 3 projects includes multiple improvements, as listed below.</span></span>

![](mvc3-release-notes/_static/image2.png)

#### <a name="new-intranet-project-template"></a><span data-ttu-id="a4a4e-276">Новый шаблон «Проект интрасети»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-276">New "Intranet Project" Template</span></span>

<span data-ttu-id="a4a4e-277">В списке шаблон проекта включает новый шаблон приложение интрасети.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-277">The Project Template list includes a new Intranet Application template.</span></span> <span data-ttu-id="a4a4e-278">Этот шаблон содержит параметры для создания веб-приложения, используя проверку подлинности Windows вместо проверки подлинности форм.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-278">This template contains settings for building a web application using Windows authentication instead of forms authentication.</span></span> <span data-ttu-id="a4a4e-279">Так как приложения интрасети требуются некоторые параметры IIS, которые нельзя инкапсулировать в шаблоне проекта, шаблон включает файл readme с инструкциями по шаблона работы со службами IIS.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-279">Because an intranet application requires some IIS settings that can't be encapsulated in a project template, the template includes a readme file with instructions for how to make the project template work in IIS.</span></span> <span data-ttu-id="a4a4e-280">Документация по новому шаблону приложение интрасети доступно на веб-сайте MSDN по АДРЕСУ:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-280">Documentation for the a new Intranet Application template is available on the MSDN website at the following URL:</span></span>

<span data-ttu-id="a4a4e-281">[https://msdn.microsoft.com/library/gg703322(VS.98).aspx](https://msdn.microsoft.com/library/gg703322(VS.98).aspx)</span><span class="sxs-lookup"><span data-stu-id="a4a4e-281">[https://msdn.microsoft.com/library/gg703322(VS.98).aspx](https://msdn.microsoft.com/library/gg703322(VS.98).aspx)</span></span>

#### <a name="project-templates-are-now-html5-enabled"></a><span data-ttu-id="a4a4e-282">Шаблоны проектов теперь поддерживают HTML5</span><span class="sxs-lookup"><span data-stu-id="a4a4e-282">Project templates are now HTML5 enabled</span></span>

<span data-ttu-id="a4a4e-283">Диалоговое окно нового проекта теперь содержит параметр для добавления функций HTML5 в шаблоны проектов.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-283">The new-project dialog box now contains an option to add HTML5-specific features to the project templates.</span></span> <span data-ttu-id="a4a4e-284">При выборе параметра вызывает будут созданы представления, содержащие новые HTML5 `<header>`, `<footer>`, и `<navigation>` элементы.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-284">Selecting the option causes views to be generated that contain the new HTML5 `<header>`, `<footer>`, and `<navigation>` elements.</span></span> <span data-ttu-id="a4a4e-285">элементы.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-285">elements.</span></span>

<span data-ttu-id="a4a4e-286">Обратите внимание, что более ранние версии браузеров не поддерживают теги HTML5.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-286">Note that earlier versions of browsers do not support HTML5-specific tags.</span></span> <span data-ttu-id="a4a4e-287">Чтобы устранить это ограничение, шаблоны проектов HTML5 содержат ссылку на библиотеку Modernizr.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-287">To address this limitation, the HTML5 project templates include a reference to the Modernizr library.</span></span> <span data-ttu-id="a4a4e-288">(См. следующий раздел).</span><span class="sxs-lookup"><span data-stu-id="a4a4e-288">(See the next section.)</span></span>

<a id="tu-Modernizr"></a>
### <a name="project-templates-now-include-modernizr-17"></a><span data-ttu-id="a4a4e-289">Шаблоны проектов добавлена платформа Modernizr 1.7</span><span class="sxs-lookup"><span data-stu-id="a4a4e-289">Project templates now include Modernizr 1.7</span></span>

<span data-ttu-id="a4a4e-290">Modernizr — это библиотека JavaScript, которая обеспечивает поддержку CSS 3 и HTML5 в браузерах, которые пока не поддерживает эти возможности.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-290">Modernizr is a JavaScript library that enables support for CSS 3 and HTML5 in browsers that do not yet support these features.</span></span> <span data-ttu-id="a4a4e-291">Эта библиотека включена как предварительно установленный пакет NuGet в шаблонах для проектов ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-291">This library is included as a pre-installed NuGet package in templates for ASP.NET MVC 3 projects.</span></span> <span data-ttu-id="a4a4e-292">Дополнительные сведения о библиотеке Modernizr см. в разделе [http://www.modernizr.com/](http://www.modernizr.com/).</span><span class="sxs-lookup"><span data-stu-id="a4a4e-292">For more information about Modernizr, see [http://www.modernizr.com/](http://www.modernizr.com/).</span></span>

<a id="tu-UpdatedJQuery"></a>
### <a name="project-templates-include-updated-versions-of-jquery-jquery-ui-and-jquery-validation"></a><span data-ttu-id="a4a4e-293">Шаблоны проектов включены обновленные версии jQuery, jQuery UI и jQuery проверки</span><span class="sxs-lookup"><span data-stu-id="a4a4e-293">Project templates include updated versions of jQuery, jQuery UI, and jQuery Validation</span></span>

<span data-ttu-id="a4a4e-294">Шаблоны проектов теперь содержат следующие версии скриптов jQuery:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-294">The project templates now include the following versions of the jQuery scripts:</span></span>

- <span data-ttu-id="a4a4e-295">1.5.1 jQuery</span><span class="sxs-lookup"><span data-stu-id="a4a4e-295">jQuery 1.5.1</span></span>
- <span data-ttu-id="a4a4e-296">jQuery Validation 1.8</span><span class="sxs-lookup"><span data-stu-id="a4a4e-296">jQuery Validation 1.8</span></span>
- <span data-ttu-id="a4a4e-297">jQuery UI 1.8.11.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-297">jQuery UI 1.8.11</span></span>

<span data-ttu-id="a4a4e-298">Эти библиотеки включены в виде предустановленных пакетов NuGet.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-298">These libraries are included as pre-installed NuGet packages.</span></span>

<a id="tu-EF"></a>
### <a name="project-templates-now-include-adonet-entity-framework-41-as-a-pre-installed-nuget-package"></a><span data-ttu-id="a4a4e-299">Шаблоны проектов добавлена платформа ADO.NET Entity Framework 4.1 в виде предустановленного пакета NuGet</span><span class="sxs-lookup"><span data-stu-id="a4a4e-299">Project templates now include ADO.NET Entity Framework 4.1 as a pre-installed NuGet package</span></span>

<span data-ttu-id="a4a4e-300">ADO.NET Entity Framework 4.1 включает возможность Code First.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-300">The ADO.NET Entity Framework 4.1 includes the Code First feature.</span></span> <span data-ttu-id="a4a4e-301">Код сначала — это новый шаблон разработки для платформы Entity Framework ADO.NET, который представляет собой альтернативу существующим шаблонам Database First и Model First.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-301">Code First is a new development pattern for the ADO.NET Entity Framework that provides an alternative to the existing Database First and Model First patterns.</span></span>

<span data-ttu-id="a4a4e-302">Code First предназначен для определения модели с помощью классов POCO («старые объекты CLR») на языке Visual Basic или C#.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-302">Code First is focused around defining your model using POCO classes ("plain old CLR objects") written in Visual Basic or C#.</span></span> <span data-ttu-id="a4a4e-303">Эти классы затем можно сопоставить с существующей базы данных или использовать для создания схемы базы данных.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-303">These classes can then be mapped to an existing database or be used to generate a database schema.</span></span> <span data-ttu-id="a4a4e-304">Дополнительные настройки можно указать с помощью *DataAnnotations* атрибуты или интерфейсов API.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-304">Additional configuration can be supplied using *DataAnnotations* attributes or using fluent APIs.</span></span>

<span data-ttu-id="a4a4e-305">Документацию по использованию кода Firstwith ASP.NET MVC доступна на веб-сайте ASP.NET по следующим URL-адресам:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-305">Documentation for using Code Firstwith ASP.NET MVC is available on the ASP.NET website at the following URLs:</span></span>

<span data-ttu-id="a4a4e-306">[https://www.asp.net/mvc/tutorials/getting-started-with-mvc3-part1-cs](../mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) [https://www.asp.net/entity-framework/tutorials/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application](../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)</span><span class="sxs-lookup"><span data-stu-id="a4a4e-306">[https://www.asp.net/mvc/tutorials/getting-started-with-mvc3-part1-cs](../mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) [https://www.asp.net/entity-framework/tutorials/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application](../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)</span></span>

<a id="tu-JavaScriptLibsNuget"></a>
### <a name="project-templates-include-javascript-libraries-as-pre-installed-nuget-packages"></a><span data-ttu-id="a4a4e-307">Шаблоны проектов включены библиотеки JavaScript в виде предустановленных пакетов NuGet</span><span class="sxs-lookup"><span data-stu-id="a4a4e-307">Project templates include JavaScript libraries as pre-installed NuGet packages</span></span>

<span data-ttu-id="a4a4e-308">При создании нового проекта ASP.NET MVC 3, проект включает файлы JavaScript, указанные ранее (например, библиотеку Modernizr), которые устанавливаются с помощью NuGet вместо непосредственного добавления скриптов в папку Scripts шаблона проекта содержимое.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-308">When you create a new ASP.NET MVC 3 project, the project includes the JavaScript files mentioned previously (for example, the Modernizr library) by installing them using NuGet instead of directly adding the scripts to the Scripts folder in the project template contents.</span></span> <span data-ttu-id="a4a4e-309">Это позволяет использовать NuGet для обновления скриптов до последней версии при выходе новых версий скриптов.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-309">This enables you to use NuGet to update the scripts to the latest version when new versions of the scripts are released.</span></span>

<span data-ttu-id="a4a4e-310">Например учитывая частоту новых выпусков jQuery, версии jQuery, включенная в шаблон проекта в определенный момент будет устарела.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-310">For example, given the frequency of new jQuery releases, the version of jQuery included in the project template will at some point be out of date.</span></span> <span data-ttu-id="a4a4e-311">Тем не менее поскольку jQuery включен как устанавливаемый пакет NuGet, вы получите уведомление в диалоговом окне NuGet появлении новых версий jQuery.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-311">However, because jQuery is included as an installed NuGet package, you will be notified in the NuGet dialog box when newer versions of jQuery are available.</span></span>

<span data-ttu-id="a4a4e-312">Так как номер версии jQuery содержится в имени файла, при обновлении jQuery до последней версии также требуется обновить `<script>` тег, который ссылается на файл jQuery с указанием нового имени файла.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-312">Because jQuery includes the version number in the file name, updating jQuery to the latest version also requires updating the `<script>` tag that references the jQuery file to use the new file name.</span></span> <span data-ttu-id="a4a4e-313">Другие включенные библиотеки скриптов не входят: номер версии в имени скрипта, поэтому их можно легко обновить до последних версий.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-313">Other included script libraries do not include the version number in the script name, so they can be more easily updated to their latest versions.</span></span>

<a id="tu-KI"></a>
## <a name="known-issues"></a><span data-ttu-id="a4a4e-314">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="a4a4e-314">Known Issues</span></span>

- <span data-ttu-id="a4a4e-315">В некоторых случаях установка может завершиться сбоем с ошибка сообщение «сбой установки с кодом ошибки (0x80070643)».</span><span class="sxs-lookup"><span data-stu-id="a4a4e-315">In some cases, installation may fail with the error message "Installation failed with error code (0x80070643)".</span></span> <span data-ttu-id="a4a4e-316">Сведения о способах решения этой проблемы см. в разделе [статье базы знаний 2531566](https://support.microsoft.com/kb/2531566).</span><span class="sxs-lookup"><span data-stu-id="a4a4e-316">For information about how to work around this issue, see [KnowledgeBase article 2531566](https://support.microsoft.com/kb/2531566).</span></span>
- <span data-ttu-id="a4a4e-317">Формирование шаблонов для добавления контроллера не формируются сущности, которые используют преимущества поддержки наследования сущностей в платформе Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-317">The scaffolding for adding a controller does not scaffold entities that take advantage of entity inheritance support within Entity Framework.</span></span> <span data-ttu-id="a4a4e-318">Например, если базовый *лицо* класс, от которого наследует *студента* класса формирование шаблонов *студента* класс приведет к создаваемый код, который не компилируется.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-318">For example, given a base *Person* class that's inherited by a *Student* class, scaffolding the *Student* class will result in generated code that does not compile.</span></span>
- <span data-ttu-id="a4a4e-319">Создание нового проекта ASP.NET MVC 3 в папке решения причины *NullReferenceException* ошибки.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-319">Creating a new ASP.NET MVC 3 project within a solution folder causes a *NullReferenceException* error.</span></span> <span data-ttu-id="a4a4e-320">Это решение подходит для создания проекта ASP.NET MVC 3 в корень решения и затем переместить его в папке решения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-320">The workaround is to create the ASP.NET MVC 3 project in the root of the solution and then move it into the solution folder.</span></span>
- <span data-ttu-id="a4a4e-321">IntelliSense для синтаксиса Razor не работает, если установлен ReSharper.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-321">IntelliSense for Razor syntax does not work when ReSharper is installed.</span></span> <span data-ttu-id="a4a4e-322">Если установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3, см. в записи [Razor Intellisense и ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хэйди Hariri которой обсуждается совместное использование этих компонентов.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-322">If you have ReSharper installed and want to take advantage of the Razor IntelliSense support in ASP.NET MVC 3, see the entry [Razor Intellisense and ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) on Hadi Hariri's blog, which discusses ways to use them together today.</span></span>
- <span data-ttu-id="a4a4e-323">Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, которое меньше, чем планировалось.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-323">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="a4a4e-324">При редактировании представления Razor (.cshtml или. *vbhtml* файл), представления.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-324">When you are editing a Razor view (.cshtml or .*vbhtml* file), views.</span></span> <span data-ttu-id="a4a4e-325">ASP.NET MVC 3 не включает фрагменты для представлений Razor... фрагмент кода для ASP.NET MVC aspxselecting отображаются</span><span class="sxs-lookup"><span data-stu-id="a4a4e-325">ASP.NET MVC 3 does not include any snippets for Razor views..aspxselecting a code snippet for ASP.NET MVC will show snippets for</span></span>
- <span data-ttu-id="a4a4e-326">Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютере, где не установлена среда Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-326">If you install ASP.NET MVC 3 for Visual Web Developer Express on a computer where Visual Studio is not installed, and then later install Visual Studio, you must reinstall ASP.NET MVC 3.</span></span> <span data-ttu-id="a4a4e-327">Visual Studio и Visual Web Developer Express совместно использовать компоненты, обновленные установщиком ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-327">Visual Studio and Visual Web Developer Express share components that are upgraded by the ASP.NET MVC 3 installer.</span></span> <span data-ttu-id="a4a4e-328">То же самое касается при установке ASP.NET MVC 3 для Visual Studio на компьютере, который не содержит Visual Web Developer Express, а затем установить Visual Web Developer, экспресс-выпуск.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-328">The same issue applies if you install ASP.NET MVC 3 for Visual Studio on a computer that does not have Visual Web Developer Express and then later install Visual Web Developer Express.</span></span>

<a id="MVC3RTM"></a>
## <a name="changes-in-aspnet-mvc-3-rtm"></a><span data-ttu-id="a4a4e-329">Изменения в ASP.NET MVC 3 RTM</span><span class="sxs-lookup"><span data-stu-id="a4a4e-329">Changes in ASP.NET MVC 3 RTM</span></span>

<span data-ttu-id="a4a4e-330">В этом разделе описаны изменения и исправления ошибок в выпуске ASP.NET MVC 3 RTM, выполненных с момента выпуска версии-кандидата 2.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-330">This section describes changes and bug fixes made in the ASP.NET MVC 3 RTM release since the RC2 release.</span></span>

<a id="RTM-1"></a>
### <a name="change-updated-the-version-of-jquery-ui-to-187"></a><span data-ttu-id="a4a4e-331">Изменение: Обновленную версию jQuery UI для 1.8.7</span><span class="sxs-lookup"><span data-stu-id="a4a4e-331">Change: Updated the version of jQuery UI to 1.8.7</span></span>

<span data-ttu-id="a4a4e-332">Шаблоны проектов ASP.NET MVC для Visual Studio были добавлены последнюю версию библиотеки jQuery UI.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-332">The ASP.NET MVC project templates for Visual Studio were updated to include the latest version of the jQuery UI library.</span></span> <span data-ttu-id="a4a4e-333">Шаблоны также содержат минимальный набор файлов ресурсов, необходимых для jQuery UI, таких как связанные CSS и файлы изображений.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-333">The templates also include the minimal set of resource files required by jQuery UI, such as the associated CSS and image files.</span></span>

<a id="RTM-2"></a>
### <a name="change-changed-the-default-modelmetadataprovider-back-to-dataannotationsmodelmetadataprovider"></a><span data-ttu-id="a4a4e-334">Изменение: Изменить значение по умолчанию ModelMetadataProvider обратно в DataAnnotationsModelMetadataProvider</span><span class="sxs-lookup"><span data-stu-id="a4a4e-334">Change: Changed the default ModelMetadataProvider back to DataAnnotationsModelMetadataProvider</span></span>

<span data-ttu-id="a4a4e-335">В выпуске версии-кандидата 2 появилась в ASP.NET MVC 3 *CachedDataAnnotationsMetadataProvider* класс, который предоставлен кэширования на базе существующей *DataAnnotationsModelMetadataProvider* классов как Повышение производительности.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-335">The RC2 release of ASP.NET MVC 3 introduced a *CachedDataAnnotationsMetadataProvider* class that provided caching on top of the existing *DataAnnotationsModelMetadataProvider* class as a performance improvement.</span></span> <span data-ttu-id="a4a4e-336">Тем не менее, некоторые ошибки поступили с этой реализацией, чтобы отменить изменение и переместить в проект MVC фьючерсов, находящейся на [Интернет-стек любви ASP.NET](https://github.com/aspnet/AspNetWebStack).</span><span class="sxs-lookup"><span data-stu-id="a4a4e-336">However, some bugs were reported with this implementation, so the change has been reverted and moved into the MVC Futures project, which is available at [ASP.NET WebStack](https://github.com/aspnet/AspNetWebStack).</span></span>

<a id="RTM-3"></a>
### <a name="fixed-pasting-part-of-a-razor-expression-that-contains-whitespace-results-in-it-being-reversed"></a><span data-ttu-id="a4a4e-337">Исправлена ошибка: Вставка части выражения Razor, содержащий результаты пробелов в нем выполняется в обратном направлении</span><span class="sxs-lookup"><span data-stu-id="a4a4e-337">Fixed: Pasting part of a Razor expression that contains whitespace results in it being reversed</span></span>

<span data-ttu-id="a4a4e-338">В предварительных версиях ASP.NET MVC 3 при вставке элемента Razor выражение, которое содержит пробелы в файле Razor, результирующее выражение меняется на противоположный.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-338">In pre-release versions of ASP.NET MVC 3, when you paste a part of a Razor expression that contains whitespace into a Razor file, the resulting expression is reversed.</span></span> <span data-ttu-id="a4a4e-339">Например рассмотрим следующий блок кода Razor.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-339">For example, consider the following Razor code block:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample6.cshtml)]

<span data-ttu-id="a4a4e-340">Если вы выберите текст «первый param» в первый метод и вставьте его в качестве аргумента в второй метод, результатом является следующим образом:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-340">If you select the text "first param" in the first method and paste it as an argument into the second method, the result is as follows:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample7.cshtml)]

<span data-ttu-id="a4a4e-341">Правильное поведение — что операции вставки следует привести следующие:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-341">The correct behavior is that the paste operation should result in the following:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample8.cshtml)]

<span data-ttu-id="a4a4e-342">Эта проблема исправлена в RTM-версии таким образом, выражение правильно сохранены во время операции вставки.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-342">This issue has been fixed in the RTM release so that the expression is correctly preserved during the paste operation.</span></span>

<a id="RTM-4"></a>
### <a name="fixed-renaming-a-razor-file-that-is-opened-in-the-editor-disables-syntax-colorization-and-intellisense"></a><span data-ttu-id="a4a4e-343">Исправлена ошибка: Переименование файла Razor, который открыт в редакторе отключает окрашивание синтаксиса и технологию IntelliSense</span><span class="sxs-lookup"><span data-stu-id="a4a4e-343">Fixed: Renaming a Razor file that is opened in the editor disables syntax colorization and IntelliSense</span></span>

<span data-ttu-id="a4a4e-344">Переименование файла Razor с помощью обозревателя решений, пока файл открыт в окне редактора вызывает выделение синтаксиса и технологию IntelliSense для прекращения работы для этого файла.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-344">Renaming a Razor file using Solution Explorer while the file is opened in the editor window causes syntax highlighting and IntelliSense to stop working for that file.</span></span> <span data-ttu-id="a4a4e-345">Эта проблема была исправлена, чтобы выделить и IntelliSense сохраняются после переименования.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-345">This has been fixed so that highlighting and IntelliSense are maintained after a rename.</span></span>

<a id="RTM-KI"></a>
## <a name="known-issues"></a><span data-ttu-id="a4a4e-346">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="a4a4e-346">Known Issues</span></span>

- <span data-ttu-id="a4a4e-347">Если вы закроете Visual Studio 2010 SP1 Beta при открытом консоли диспетчера пакетов NuGet, Visual Studio аварийно завершает работу и предпринимается попытка перезапустить.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-347">If you close Visual Studio 2010 SP1 Beta while the NuGet Package Manager Console is open, Visual Studio crashes and attempts to restart.</span></span> <span data-ttu-id="a4a4e-348">Эта проблема будет устранена в RTM-версии Visual Studio 2010 с пакетом обновления 1.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-348">This will be fixed in the RTM release of Visual Studio 2010 SP1.</span></span>
- <span data-ttu-id="a4a4e-349">Установщик ASP.NET MVC 3 способен установить Начальная версия диспетчера пакетов NuGet.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-349">The ASP.NET MVC 3 installer is only able to install an initial version of the NuGet package manager.</span></span> <span data-ttu-id="a4a4e-350">После установки исходная версия NuGet можно установить и обновить с помощью менеджера расширений Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-350">After you have installed the initial version, NuGet can be installed and updated using Visual Studio Extension Manager.</span></span> <span data-ttu-id="a4a4e-351">Если уже установлена NuGet, перейдите к коллекции расширений Visual Studio для обновления до последней версии NuGet.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-351">If you already have NuGet installed, go to the Visual Studio Extension Gallery to update to the latest version of NuGet.</span></span>
- <span data-ttu-id="a4a4e-352">Создание нового проекта ASP.NET MVC 3 в папке решения причины *NullReferenceException* ошибки.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-352">Creating a new ASP.NET MVC 3 project within a solution folder causes a *NullReferenceException* error.</span></span> <span data-ttu-id="a4a4e-353">Это решение подходит для создания проекта ASP.NET MVC 3 в корень решения и затем переместить его в папке решения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-353">The workaround is to create the ASP.NET MVC 3 project in the root of the solution and then move it into the solution folder.</span></span>
- <span data-ttu-id="a4a4e-354">Программа установки может занять гораздо больше времени, чем в предыдущих версиях ASP.NET MVC для выполнения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-354">The installer might take much longer than previous versions of ASP.NET MVC to complete.</span></span> <span data-ttu-id="a4a4e-355">Это так, как он обновляет компонентов Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-355">This is because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="a4a4e-356">IntelliSense для синтаксиса Razor не работает, если установлен ReSharper.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-356">IntelliSense for Razor syntax does not work when ReSharper is installed.</span></span> <span data-ttu-id="a4a4e-357">Если установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3, см. в записи [Razor Intellisense и ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хэйди Hariri которой обсуждается совместное использование этих компонентов.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-357">If you have ReSharper installed and want to take advantage of the Razor IntelliSense support in ASP.NET MVC 3, see the entry [Razor Intellisense and ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) on Hadi Hariri's blog, which discusses ways to use them together today.</span></span>
- <span data-ttu-id="a4a4e-358">CCSHTML и VBHTML представления, созданные с помощью бета-версии ASP.NET MVC 3 не имеют свои действия сборки установлено неправильно, в результате просматривать эти типы опускаются при публикации проекта.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-358">CCSHTML and VBHTML views created with the Beta version of ASP.NET MVC 3 do not have their build action set correctly, with the result that these view types are omitted when the project is published.</span></span> <span data-ttu-id="a4a4e-359">Действие построения для этих файлов должно иметь значение «Содержимое».</span><span class="sxs-lookup"><span data-stu-id="a4a4e-359">The Build Action value for these files should be set to "Content".</span></span> <span data-ttu-id="a4a4e-360">ASP.NET MVC 3 RTM устраняет эту проблему для новых файлов, но не правильный параметр для существующих файлов в проект, созданный с помощью предварительной версии.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-360">ASP.NET MVC 3 RTM fixes this issue for new files, but doesn't correct the setting for existing files for a project created with prerelease versions.</span></span>
- ![](mvc3-release-notes/_static/image3.png)
- <span data-ttu-id="a4a4e-361">Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, которое меньше, чем планировалось.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-361">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="a4a4e-362">При изменении представления Razor (файл cshtml), перейдите к контроллера пункта меню в Visual Studio будет недоступен и существуют не фрагменты кода.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-362">When you are editing a Razor view (.cshtml file), the Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>
- <span data-ttu-id="a4a4e-363">Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютере, где не установлена среда Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-363">If you install ASP.NET MVC 3 for Visual Web Developer Express on a computer where Visual Studio is not installed, and then later install Visual Studio, you must reinstall ASP.NET MVC 3.</span></span> <span data-ttu-id="a4a4e-364">Visual Studio и Visual Web Developer Express совместно использовать компоненты, обновленные установщиком ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-364">Visual Studio and Visual Web Developer Express share components that are upgraded by the ASP.NET MVC 3 installer.</span></span> <span data-ttu-id="a4a4e-365">То же самое касается при установке ASP.NET MVC 3 для Visual Studio на компьютере, который не содержит Visual Web Developer Express, а затем установить Visual Web Developer, экспресс-выпуск.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-365">The same issue applies if you install ASP.NET MVC 3 for Visual Studio on a computer that does not have Visual Web Developer Express and then later install Visual Web Developer Express.</span></span>

<a id="RTM-BC"></a>
## <a name="breaking-changes"></a><span data-ttu-id="a4a4e-366">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="a4a4e-366">Breaking Changes</span></span>

- <span data-ttu-id="a4a4e-367">В предыдущих версиях ASP.NET MVC, фильтры действий создания каждого запроса, за исключением того, в некоторых случаях.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-367">In previous versions of ASP.NET MVC, action filters are create per request except in a few cases.</span></span> <span data-ttu-id="a4a4e-368">Такое поведение было никогда не гарантируется поведение, но просто реализации и контракт для фильтров не рассматривать их без сохранения состояния.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-368">This behavior was never a guaranteed behavior but merely an implementation detail and the contract for filters was to consider them stateless.</span></span> <span data-ttu-id="a4a4e-369">В ASP.NET MVC 3 фильтры кэшируются более агрессивно.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-369">In ASP.NET MVC 3, filters are cached more aggressively.</span></span> <span data-ttu-id="a4a4e-370">Таким образом любое пользовательское действие фильтров, которые неправильно хранить состояние экземпляра может быть нарушена.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-370">Therefore, any custom action filters which improperly store instance state might be broken.</span></span>
- <span data-ttu-id="a4a4e-371">Фильтры исключений, которые имеют одинаковое изменился порядок выполнения фильтров исключений *порядок* значение.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-371">The order of execution for exception filters has changed for exception filters that have the same *Order* value.</span></span> <span data-ttu-id="a4a4e-372">В ASP.NET MVC 2 и более ранних версиях исключение фильтры на контроллере, имеют одинаковое *порядок* значение как на метод действия выполняются перед фильтрами исключений в методе действия.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-372">In ASP.NET MVC 2 and earlier, exception filters on the controller that have the same *Order* value as those on an action method are executed before the exception filters on the action method.</span></span> <span data-ttu-id="a4a4e-373">Обычно это будет иметь место при фильтры исключений применяются без заданного *порядок* значение.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-373">This would typically be the case when exception filters are applied without a specified *Order* value.</span></span> <span data-ttu-id="a4a4e-374">В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-374">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="a4a4e-375">Как и в более ранних версиях Если *порядок* свойство явно указано, фильтры выполняются в указанном порядке.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-375">As in earlier versions, if the *Order* property is explicitly specified, the filters are run in the specified order.</span></span>
- <span data-ttu-id="a4a4e-376">Новое свойство с именем *FileExtensions* был добавлен в *VirtualPathProviderViewEngine* базового класса.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-376">A new property named *FileExtensions* was added to the *VirtualPathProviderViewEngine* base class.</span></span> <span data-ttu-id="a4a4e-377">При ASP.NET ищет представления по пути (не по имени), рассматриваются только представления с расширением файла, содержащихся в списке, заданного этим свойством новый.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-377">When ASP.NET looks up a view by path (not by name), only views with a file extension contained in the list specified by this new property are considered.</span></span> <span data-ttu-id="a4a4e-378">Это критическое изменение в приложениях, которых поставщика настраиваемого построения регистрируется для включения пользовательских расширений файлов для представления веб-формы и в которых поставщик ссылается на эти представления, используя полный путь, а не имя.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-378">This is a breaking change in applications where a custom build provider is registered in order to enable a custom file extension for Web Form views and where the provider references those views by using a full path rather than a name.</span></span> <span data-ttu-id="a4a4e-379">Обходной путь заключается в изменении значение *FileExtensions* включив пользовательское расширение файла.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-379">The workaround is to modify the value of the *FileExtensions* property to include the custom file extension.</span></span>
- <span data-ttu-id="a4a4e-380">Настраиваемый контроллер реализацию фабрики, непосредственно реализовывать *IControllerFactory* интерфейса необходимо предоставить реализацию нового *GetControllerSessionBehavior* метод, который был добавить интерфейс в этом выпуске.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-380">Custom controller factory implementations that directly implement the *IControllerFactory* interface must provide an implementation of the new *GetControllerSessionBehavior* method that was added to the interface in this release.</span></span> <span data-ttu-id="a4a4e-381">Как правило, рекомендуется не реализуют этот интерфейс непосредственно и вместо этого создайте производный класс из *DefaultControllerFactory*.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-381">In general, it is recommended that you do not implement this interface directly and instead derive your class from *DefaultControllerFactory*.</span></span>

<a id="_Toc2"></a>
## <a name="changes-in-aspnet-mvc-3-rc2"></a><span data-ttu-id="a4a4e-382">Изменения в версии-кандидата 2 ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="a4a4e-382">Changes in ASP.NET MVC 3 RC2</span></span>

<span data-ttu-id="a4a4e-383">В этом разделе описываются изменения (новые функции и исправления ошибок) в выпуске ASP.NET MVC 3 RC2 с момента выпуска версии-КАНДИДАТА.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-383">This section describes changes (new features and bug fixes) made in the ASP.NET MVC 3 RC2 release since the RC release.</span></span>

<a id="_Toc2_1"></a>
### <a name="project-templates-changed-to-include-jquery-144-jquery-validation-17-and-jquery-ui-186"></a><span data-ttu-id="a4a4e-384">Для включения jQuery 1.4.4 1.7 проверки jQuery и jQuery UI 1.8.6 изменения проекта шаблонов</span><span class="sxs-lookup"><span data-stu-id="a4a4e-384">Project Templates Changed to Include jQuery 1.4.4, jQuery Validation 1.7, and jQuery UI 1.8.6</span></span>

<span data-ttu-id="a4a4e-385">Шаблоны проектов для ASP.NET MVC 3 теперь включают последние версии jQuery, jQuery и jQuery проверки пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-385">The project templates for ASP.NET MVC 3 now include the latest versions of jQuery, jQuery Validation, and jQuery UI.</span></span> <span data-ttu-id="a4a4e-386">пользовательский Интерфейс jQuery — это новая функция в шаблоны проектов и предоставляет пользовательский интерфейс мини-приложения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-386">jQuery UI is a new addition to the project templates and provides useful user interface widgets.</span></span> <span data-ttu-id="a4a4e-387">Дополнительные сведения о jQuery UI посетите их Главная страница: [http://jqueryui.com/](http://jqueryui.com/).</span><span class="sxs-lookup"><span data-stu-id="a4a4e-387">For more information about jQuery UI, visit their homepage: [http://jqueryui.com/](http://jqueryui.com/).</span></span>

<a id="_Toc2_2"></a>
### <a name="added-additionalmetadataattribute-class"></a><span data-ttu-id="a4a4e-388">Класс добавлены «AdditionalMetadataAttribute»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-388">Added "AdditionalMetadataAttribute" Class</span></span>

<span data-ttu-id="a4a4e-389">Можно использовать *AdditionalMetadataAttribute* класса для заполнения *ModelMetadata.AdditionalValues* словарь для свойства модели.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-389">You can use the *AdditionalMetadataAttribute* class to populate the *ModelMetadata.AdditionalValues* dictionary for a model property.</span></span>

<span data-ttu-id="a4a4e-390">Например предположим, что модель представления имеет свойства, которые должны отображаться только администратор.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-390">For example, suppose a view model has properties that should be displayed only to an administrator.</span></span> <span data-ttu-id="a4a4e-391">Модели, могут быть добавлены с помощью нового атрибута, с помощью AdminOnly как ключ и значение true, как значение, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-391">That model can be annotated with the new attribute using AdminOnly as the key and true as the value, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample9.cs)]

<span data-ttu-id="a4a4e-392">Эти метаданные доступны к любому шаблону отображения или редактора при отображении представления модели продукта.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-392">This metadata is made available to any display or editor template when a product view model is rendered.</span></span> <span data-ttu-id="a4a4e-393">Именно вы разработчик приложений следует интерпретировать сведения метаданных.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-393">It is up to you as application developer to interpret the metadata information.</span></span>

<a id="_Toc2_3"></a>
### <a name="improved-view-scaffolding"></a><span data-ttu-id="a4a4e-394">Улучшенное представление формирования шаблонов</span><span class="sxs-lookup"><span data-stu-id="a4a4e-394">Improved View Scaffolding</span></span>

<span data-ttu-id="a4a4e-395">Шаблоны T4, используемый для формирования шаблонов представлений теперь создания вызовы шаблона вспомогательные методы, например *EditorFor* вместо вспомогательные методы, такие как *TextBoxFor*.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-395">The T4 templates used for scaffolding views now generate calls to template helper methods such as *EditorFor* instead of helpers such as *TextBoxFor*.</span></span> <span data-ttu-id="a4a4e-396">Это изменение улучшает поддержка метаданных модели в виде атрибуты данных заметок, когда диалоговое окно добавления представления создает представление.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-396">This change improves support for metadata on the model in the form of data annotation attributes when the Add View dialog box generates a view.</span></span>

<span data-ttu-id="a4a4e-397">Добавить представление формирования шаблонов также включает использование сведения о первичном ключе на модели, основываются на стандартах и улучшены возможности обнаружения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-397">The Add View scaffolding also includes improved detection and usage of primary key information on the model, based on convention.</span></span> <span data-ttu-id="a4a4e-398">Например диалоговое окно добавления представления использует эти сведения, чтобы убедиться, что значение первичного ключа является не формирования шаблонов как поля формы для редактирования.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-398">For example, the Add View dialog box uses this information to ensure that the primary key value is not scaffolded as an editable form field.</span></span>

<span data-ttu-id="a4a4e-399">По умолчанию изменения и создать шаблоны содержат ссылки на сценарии jQuery, необходимые для клиентской проверки.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-399">The default Edit and Create templates include references to the jQuery scripts needed for client validation.</span></span>

<a id="_Toc2_4"></a>
### <a name="added-htmlraw-method"></a><span data-ttu-id="a4a4e-400">Добавленный метод Html.Raw</span><span class="sxs-lookup"><span data-stu-id="a4a4e-400">Added Html.Raw Method</span></span>

<span data-ttu-id="a4a4e-401">По умолчанию Razor просматривать engine кодирует в формате HTML все значения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-401">By default, the Razor view engine HTML-encodes all values.</span></span> <span data-ttu-id="a4a4e-402">Например, следующий фрагмент кода кодирует HTML внутри переменная приветствия, чтобы он отображается на странице как `<strong>Hello World!</strong>`.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-402">For example, the following code snippet encodes the HTML inside the greeting variable so that it is displayed in the page as `<strong>Hello World!</strong>`.</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample10.cshtml)]

<span data-ttu-id="a4a4e-403">Новый *Html.Raw* метод предоставляет простой способ отображения HTML без кодировки, когда содержимое заведомо безопасна.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-403">The new *Html.Raw* method provides a simple way of displaying unencoded HTML when the content is known to be safe.</span></span> <span data-ttu-id="a4a4e-404">Следующий пример отображает ту же строку, но строка подготавливается к просмотру как разметку:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-404">The following example displays the same string, but the string is rendered as markup:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample11.cshtml)]

<a id="_Toc2_5"></a>
### <a name="renamed-controllerviewmodel-property-and-the-view-property-to-viewbag"></a><span data-ttu-id="a4a4e-405">Свойство переименовано «Controller.ViewModel» и «Представление» значение «ViewBag»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-405">Renamed "Controller.ViewModel" Property and the "View" Property To "ViewBag"</span></span>

<span data-ttu-id="a4a4e-406">Ранее *ViewModel* свойство *контроллера* корреспондируемых для *представление* свойства представления.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-406">Previously, the *ViewModel* property of *Controller* corresponded to the *View* property of a view.</span></span> <span data-ttu-id="a4a4e-407">Оба эти свойства предоставляют способ доступа значения *ViewDataDictionary* с помощью синтаксиса динамического метода доступа свойства.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-407">Both of these properties provide a way to access values of the *ViewDataDictionary* object using dynamic property-accessor syntax.</span></span> <span data-ttu-id="a4a4e-408">Оба свойства должны совпадать во избежание путаницы и иметь более стабильные были переименованы.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-408">Both properties have been renamed to be the same in order to avoid confusion and to be more consistent.</span></span>

<a id="_Toc2_6"></a>
### <a name="renamed-controllersessionstateattribute-class-to-sessionstateattribute"></a><span data-ttu-id="a4a4e-409">Переименованные «ControllerSessionStateAttribute» класс «SessionStateAttribute»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-409">Renamed "ControllerSessionStateAttribute" Class to "SessionStateAttribute"</span></span>

<span data-ttu-id="a4a4e-410">*ControllerSessionStateAttribute* класс впервые появился в выпуске версии-КАНДИДАТА ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-410">The *ControllerSessionStateAttribute* class was introduced in the RC release of ASP.NET MVC 3.</span></span> <span data-ttu-id="a4a4e-411">Свойство был переименован в быть короче.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-411">The property was renamed to be more succinct.</span></span>

<a id="_Toc2_7"></a>
### <a name="renamed-remoteattribute-fields-property-to-additionalfields"></a><span data-ttu-id="a4a4e-412">Переименованный RemoteAttribute «Fields» значение «AdditionalFields»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-412">Renamed RemoteAttribute "Fields" Property to "AdditionalFields"</span></span>

<span data-ttu-id="a4a4e-413">*RemoteAttribute* класса *поля* свойство вызвало конфликт между пользователями.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-413">The *RemoteAttribute* class's *Fields* property caused some confusion among users.</span></span> <span data-ttu-id="a4a4e-414">Переименование этого свойства значение *AdditionalFields* уточняет, его назначение.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-414">Renaming this property to *AdditionalFields* clarifies its intent.</span></span>

<a id="_Toc2_8"></a>
### <a name="renamed-skiprequestvalidationattribute-to-allowhtmlattribute"></a><span data-ttu-id="a4a4e-415">Переименовать «SkipRequestValidationAttribute» на «AllowHtmlAttribute»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-415">Renamed "SkipRequestValidationAttribute" to "AllowHtmlAttribute"</span></span>

<span data-ttu-id="a4a4e-416">*SkipRequestValidationAttribute* атрибут был переименован в *AllowHtmlAttribute* для оптимизации представления его предполагаемого использования.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-416">The *SkipRequestValidationAttribute* attribute was renamed to *AllowHtmlAttribute* to better represent its intended usage.</span></span>

<a id="_Toc2_9"></a>
### <a name="changed-htmlvalidationmessage-method-to-display-the-first-useful-error-message"></a><span data-ttu-id="a4a4e-417">Метод измененные «Html.ValidationMessage» для отображения первой полезные сообщения об ошибке</span><span class="sxs-lookup"><span data-stu-id="a4a4e-417">Changed "Html.ValidationMessage" Method to Display the First Useful Error Message</span></span>

<span data-ttu-id="a4a4e-418">*Html.ValidationMessage* была исправлена метод для отображения первого сообщений вместо просто отображения первой ошибки.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-418">The *Html.ValidationMessage* method was fixed to show the first useful error message instead of simply displaying the first error.</span></span>

<span data-ttu-id="a4a4e-419">Во время привязки модели *ModelState* словарь может заполняться из нескольких источников сообщений об ошибках о свойстве, включая из самой модели (если он реализует *IValidatableObject* ), из атрибутов проверки, применяемый к свойству, а также из исключения, возникшие при доступе к этому свойству.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-419">During model binding, the *ModelState* dictionary can be populated from multiple sources with error messages about the property, including from the model itself (if it implements *IValidatableObject*), from validation attributes applied to the property, and from exceptions thrown while the property is being accessed.</span></span>

<span data-ttu-id="a4a4e-420">Когда *Html.ValidationMessage* метод отображает сообщение проверки, она пропускает записи состояния модели, включающие исключение, так как они обычно не предназначены для конечного пользователя.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-420">When the *Html.ValidationMessage* method displays a validation message, it skips model-state entries that include an exception, because these are generally not intended for the end user.</span></span> <span data-ttu-id="a4a4e-421">Вместо этого метод ищет первое сообщение проверки, не связанный с исключением и отображает это сообщение.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-421">Instead, the method looks for the first validation message that is not associated with an exception and displays that message.</span></span> <span data-ttu-id="a4a4e-422">Если сообщение не найдено, то по умолчанию сообщения об ошибке, связанной с первое исключение.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-422">If no such message is found, it defaults to a generic error message that is associated with the first exception.</span></span>

<a id="_Toc2_10"></a>
### <a name="fixed-model-declaration-to-not-add-whitespace-to-the-document"></a><span data-ttu-id="a4a4e-423">Фиксированный @model объявления, чтобы не добавлять пробелы в документ</span><span class="sxs-lookup"><span data-stu-id="a4a4e-423">Fixed @model Declaration to not Add Whitespace to the Document</span></span>

<span data-ttu-id="a4a4e-424">В более ранних выпусках  *@model*  объявление в верхней части представления добавить пустую строку в готовом для просмотра выходных данных HTML.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-424">In earlier releases, the *@model* declaration at the top of a view added a blank line to the rendered HTML output.</span></span> <span data-ttu-id="a4a4e-425">Эта проблема была исправлена, чтобы объявление не содержит пробелов.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-425">This has been fixed so that the declaration does not introduce whitespace.</span></span>

<a id="_Toc2_11"></a>
### <a name="added-fileextensions-property-to-view-engines-to-support-engine-specific-file-names"></a><span data-ttu-id="a4a4e-426">Свойство добавлено «FileExtensions» для обработчиков представлений для поддержки имен файлов запускаемых</span><span class="sxs-lookup"><span data-stu-id="a4a4e-426">Added "FileExtensions" Property to View Engines to Support Engine-Specific File Names</span></span>

<span data-ttu-id="a4a4e-427">Обработчик представлений можно получить с помощью явное представление пути, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-427">A view engine can return a view using an explicit view path as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample12.cs)]

<span data-ttu-id="a4a4e-428">Первый обработчик представлений всегда пытается визуализации представления.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-428">The first view engine always attempts to render the view.</span></span> <span data-ttu-id="a4a4e-429">По умолчанию обработчик представлений веб-форм — первый обработчик представлений; Поскольку обработчик веб-формы не удается отобразить представление Razor, возникает ошибка.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-429">By default, the Web Forms view engine is the first view engine; because the Web Forms engine cannot render a Razor view, an error occurs.</span></span> <span data-ttu-id="a4a4e-430">Теперь имеют обработчиков представлений *FileExtensions* свойство, которое используется для указания расширения файлов, они поддерживают.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-430">View engines now have a *FileExtensions* property that is used to specify which file extensions they support.</span></span> <span data-ttu-id="a4a4e-431">Это свойство проверяется ASP.NET определяет, может ли обработчик представлений отображения файла.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-431">This property is checked when ASP.NET determines whether a view engine can render a file.</span></span> <span data-ttu-id="a4a4e-432">Это критическое изменение, и Дополнительные сведения, включенные в [критические изменения](#_Toc2_BC) раздел этого документа.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-432">This is a breaking change and more details are included in the [Breaking Changes](#_Toc2_BC) section of this document.</span></span>

<a id="_Toc2_12"></a>
### <a name="fixed-labelfor-helper-to-emit-the-correct-value-for-the-for-attribute"></a><span data-ttu-id="a4a4e-433">Вспомогательный метод фиксированный «LabelFor» для порождения правильное значение для атрибута «For»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-433">Fixed "LabelFor" Helper to Emit the Correct Value for the "For" Attribute</span></span>

<span data-ttu-id="a4a4e-434">Where была исправлена ошибка *LabelFor* к просмотру метод *для* атрибут, который соответствует *ввода* элемента *имя* атрибутом его идентификатора.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-434">A bug was fixed where the *LabelFor* method rendered a *for* attribute that matches the *input* element's *name* attribute instead of its ID.</span></span> <span data-ttu-id="a4a4e-435">Согласно спецификации W3C *для* атрибут должен соответствовать *ввода* идентификатор элемента.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-435">According to the W3C, the *for* attribute should match the *input* element's ID.</span></span>

<a id="_Toc2_13"></a>
### <a name="fixed-renderaction-method-to-give-explicit-values-precedence-during-model-binding"></a><span data-ttu-id="a4a4e-436">Метод фиксированный «RenderAction», чтобы предоставить явные значения приоритета во время привязки модели</span><span class="sxs-lookup"><span data-stu-id="a4a4e-436">Fixed "RenderAction" Method to Give Explicit Values Precedence During Model Binding</span></span>

<span data-ttu-id="a4a4e-437">В более ранних версиях, явно заданные значения, которые были переданы *RenderAction* метод были обрабатываются в пользу текущих значений формы во время привязки модели внутри дочернее действие.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-437">In earlier versions, explicit values that were passed to the *RenderAction* method were being ignored in favor of the current form values during model binding inside a child action.</span></span> <span data-ttu-id="a4a4e-438">Исправление гарантирует, что явно заданные значения имеют более высокий приоритет, во время привязки модели.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-438">The fix ensures that explicit values take precedence during model binding.</span></span>

<a id="_Toc2_BC"></a>
## <a name="breaking-changes"></a><span data-ttu-id="a4a4e-439">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="a4a4e-439">Breaking Changes</span></span>

- <span data-ttu-id="a4a4e-440">В предыдущих версиях ASP.NET MVC фильтры действий были созданы по запросу за исключением того, в некоторых случаях.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-440">In previous versions of ASP.NET MVC, action filters were created per request except in a few cases.</span></span> <span data-ttu-id="a4a4e-441">Такое поведение было никогда не гарантируется поведение, но просто реализации и контракт для фильтров не рассматривать их без сохранения состояния.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-441">This behavior was never a guaranteed behavior but merely an implementation detail and the contract for filters was to consider them stateless.</span></span> <span data-ttu-id="a4a4e-442">В ASP.NET MVC 3 фильтры кэшируются более агрессивно.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-442">In ASP.NET MVC 3, filters are cached more aggressively.</span></span> <span data-ttu-id="a4a4e-443">Таким образом любое пользовательское действие фильтров, которые неправильно хранить состояние экземпляра может быть нарушена.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-443">Therefore, any custom action filters which improperly store instance state might be broken.</span></span>
- <span data-ttu-id="a4a4e-444">Фильтры исключений, которые имеют одинаковое изменился порядок выполнения фильтров исключений *порядок* значение.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-444">The order of execution for exception filters has changed for exception filters that have the same *Order* value.</span></span> <span data-ttu-id="a4a4e-445">Фильтрация в ASP.NET MVC 2 и более ранних версиях исключение на контроллере, который обнаружил ту же *порядок* значение, как те, в методе действия выполнялись перед фильтрами исключений в методе действия.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-445">In ASP.NET MVC 2 and earlier, exception filters on the controller that had the same *Order* value as those on an action method were executed before the exception filters on the action method.</span></span> <span data-ttu-id="a4a4e-446">Это обычно случай может возникнуть при применении фильтров исключений без заданного *порядок* значение.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-446">This would typically be the case when exception filters were applied without a specified *Order* value.</span></span> <span data-ttu-id="a4a4e-447">В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-447">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="a4a4e-448">Как и в более ранних версиях Если *порядок* свойство явно указано, фильтры выполняются в указанном порядке.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-448">As in earlier versions, if the *Order* property is explicitly specified, the filters are run in the specified order.</span></span>
- <span data-ttu-id="a4a4e-449">Новое свойство с именем *FileExtensions* был добавлен в *VirtualPathProviderViewEngine* базового класса.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-449">A new property named *FileExtensions* was added to the *VirtualPathProviderViewEngine* base class.</span></span> <span data-ttu-id="a4a4e-450">При ASP.NET ищет представления по пути (не по имени), рассматриваются только представления с расширением файла, содержащихся в списке, заданного этим свойством новый.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-450">When ASP.NET looks up a view by path (not by name), only views with a file extension contained in the list specified by this new property are considered.</span></span> <span data-ttu-id="a4a4e-451">Это критическое изменение в приложениях, которых поставщика настраиваемого построения регистрируется для включения пользовательских расширений файлов для представления веб-формы и в которых поставщик ссылается на эти представления, используя полный путь, а не имя.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-451">This is a breaking change in applications where a custom build provider is registered in order to enable a custom file extension for Web Form views and where the provider references those views by using a full path rather than a name.</span></span> <span data-ttu-id="a4a4e-452">Обходной путь заключается в изменении значение *FileExtensions* включив пользовательское расширение файла.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-452">The workaround is to modify the value of the *FileExtensions* property to include the custom file extension.</span></span>
- <span data-ttu-id="a4a4e-453">Настраиваемый контроллер реализацию фабрики, непосредственно реализовывать *IControllerFactory* интерфейса необходимо предоставить реализацию нового *GetControllerSessionBehavior ** метод, который был добавлен интерфейс в этом выпуске*.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-453">Custom controller factory implementations that directly implement the *IControllerFactory* interface must provide an implementation of the new *GetControllerSessionBehavior**method that was added to the interface in this release*.</span></span> <span data-ttu-id="a4a4e-454">Как правило, рекомендуется не реализуют этот интерфейс непосредственно и вместо этого создайте производный класс из *DefaultControllerFactory*.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-454">In general, it is recommended that you do not implement this interface directly and instead derive your class from *DefaultControllerFactory*.</span></span>

<a id="_Toc2_KI"></a>
## <a name="known-issues"></a><span data-ttu-id="a4a4e-455">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="a4a4e-455">Known Issues</span></span>

- <span data-ttu-id="a4a4e-456">Установщик ASP.NET MVC 3 способен установить Начальная версия диспетчера пакетов NuGet.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-456">The ASP.NET MVC 3 installer is only able to install an initial version of the NuGet package manager.</span></span> <span data-ttu-id="a4a4e-457">После установки исходная версия NuGet можно установить и обновить с помощью менеджера расширений Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-457">After you have installed the initial version, NuGet can be installed and updated using Visual Studio Extension Manager.</span></span> <span data-ttu-id="a4a4e-458">Если уже установлена NuGet, перейдите к коллекции расширений Visual Studio для обновления до последней версии NuGet.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-458">If you already have NuGet installed, go to the Visual Studio Extension Gallery to update to the latest version of NuGet.</span></span>
- <span data-ttu-id="a4a4e-459">Создание нового проекта ASP.NET MVC 3 в папке решения причины *NullReferenceException* ошибки.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-459">Creating a new ASP.NET MVC 3 project within a solution folder causes a *NullReferenceException* error.</span></span> <span data-ttu-id="a4a4e-460">Это решение подходит для создания проекта ASP.NET MVC 3 в корень решения и затем переместить его в папке решения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-460">The workaround is to create the ASP.NET MVC 3 project in the root of the solution and then move it into the solution folder.</span></span>
- <span data-ttu-id="a4a4e-461">Программа установки может занять гораздо больше времени, чем в предыдущих версиях ASP.NET MVC для выполнения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-461">The installer might take much longer than previous versions of ASP.NET MVC to complete.</span></span> <span data-ttu-id="a4a4e-462">Это так, как он обновляет компонентов Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-462">This is because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="a4a4e-463">IntelliSense для синтаксиса Razor не работает, если установлен ReSharper.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-463">IntelliSense for Razor syntax does not work when ReSharper is installed.</span></span> <span data-ttu-id="a4a4e-464">Если установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3 RC2, см. в записи [Razor Intellisense и ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хэйди Hariri которой обсуждается совместное использование этих компонентов.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-464">If you have ReSharper installed and want to take advantage of the Razor IntelliSense support in ASP.NET MVC 3 RC2, see the entry [Razor Intellisense and ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) on Hadi Hariri's blog, which discusses ways to use them together today.</span></span>
- <span data-ttu-id="a4a4e-465">CSHTML и VBHTML представления, созданные с помощью бета-версии ASP.NET MVC 3 не имеют свои действия сборки установлено неправильно, в результате просматривать эти типы опускаются при публикации проекта.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-465">CSHTML and VBHTML views created with the Beta version of ASP.NET MVC 3 do not have their build action set correctly, with the result that these view types are omitted when the project is published.</span></span> <span data-ttu-id="a4a4e-466">*Действие при построении* значение для этих файлов должно быть присвоено содержимому».</span><span class="sxs-lookup"><span data-stu-id="a4a4e-466">The *Build Action* value for these files should be set to Content".</span></span> <span data-ttu-id="a4a4e-467">ASP.NET MVC 3 RC2 устраняет эту проблему для новых файлов, но не правильный параметр для существующих файлов в проект, созданный с помощью бета-версии.![](mvc3-release-notes/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="a4a4e-467">ASP.NET MVC 3 RC2 fixes this issue for new files, but doesn't correct the setting for existing files for a project created with the Beta version.![](mvc3-release-notes/_static/image4.png)</span></span>
- <span data-ttu-id="a4a4e-468">Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, которое меньше, чем планировалось.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-468">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="a4a4e-469">При изменении представления Razor (файл cshtml), перейдите к контроллера пункта меню в Visual Studio будет недоступен и существуют не фрагменты кода.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-469">When you are editing a Razor view (.cshtml file), the Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>
- <span data-ttu-id="a4a4e-470">Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютере, где не установлена среда Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-470">If you install ASP.NET MVC 3 for Visual Web Developer Express on a computer where Visual Studio is not installed, and then later install Visual Studio, you must reinstall ASP.NET MVC 3.</span></span> <span data-ttu-id="a4a4e-471">Visual Studio и Visual Web Developer Express совместно использовать компоненты, обновленные установщиком ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-471">Visual Studio and Visual Web Developer Express share components that are upgraded by the ASP.NET MVC 3 installer.</span></span> <span data-ttu-id="a4a4e-472">То же самое касается при установке ASP.NET MVC 3 для Visual Studio на компьютере, который не содержит Visual Web Developer Express, а затем установить Visual Web Developer, экспресс-выпуск.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-472">The same issue applies if you install ASP.NET MVC 3 for Visual Studio on a computer that does not have Visual Web Developer Express and then later install Visual Web Developer Express.</span></span>
- <span data-ttu-id="a4a4e-473">Установка ASP.NET MVC 3 версии-Кандидата 2 не обновляет NuGet, если у вас уже есть он установлен.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-473">Installing ASP.NET MVC 3 RC 2 does not update NuGet if you already have it installed.</span></span> <span data-ttu-id="a4a4e-474">Обновить NuGet, перейдите к диспетчеру расширений Visual Studio и оно должно отображаться как доступное обновление.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-474">To upgrade NuGet, go to the Visual Studio Extension manager and it should show up as an available update.</span></span> <span data-ttu-id="a4a4e-475">Вы можете обновить NuGet до последней версии из него.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-475">You can upgrade NuGet to the latest release from there.</span></span>

<a id="TOC_ASP_NET_3_RC"></a>
## <a name="aspnet-mvc-3-release-candidate"></a><span data-ttu-id="a4a4e-476">ASP.NET MVC 3, версия-кандидат</span><span class="sxs-lookup"><span data-stu-id="a4a4e-476">ASP.NET MVC 3 Release Candidate</span></span>

<span data-ttu-id="a4a4e-477">ASP.NET MVC, версия-кандидат был выпущен 9 ноября 2010 г.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-477">ASP.NET MVC Release Candidate was released on November 9, 2010.</span></span>

<a id="_Toc276711785"></a>
## <a name="new-features-in-aspnet-mvc-3-rc"></a><span data-ttu-id="a4a4e-478">Новые возможности в версии-Кандидате ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="a4a4e-478">New Features in ASP.NET MVC 3 RC</span></span>

<span data-ttu-id="a4a4e-479">В этом разделе описываются функции, которые были введены в версии ASP.NET MVC 3, версия-Кандидат с момента выпуска бета-версии.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-479">This section describes features that have been introduced in the ASP.NET MVC 3 RC release since the Beta release.</span></span>

<a id="_Toc276711786"></a>
### <a name="nuget-package-manager"></a><span data-ttu-id="a4a4e-480">Диспетчер пакетов NuGet</span><span class="sxs-lookup"><span data-stu-id="a4a4e-480">NuGet Package Manager</span></span>

<span data-ttu-id="a4a4e-481">ASP.NET MVC 3 включает диспетчера пакетов NuGet (прежнее название — NuPack), который представляет собой средство интеграции пакета управления для добавления библиотеки и средства для проектов Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-481">ASP.NET MVC 3 includes the NuGet Package Manager (formerly known as NuPack), which is an integrated package management tool for adding libraries and tools to Visual Studio projects.</span></span> <span data-ttu-id="a4a4e-482">Это средство автоматизирует действия, которые разработчики сегодня предпринять, чтобы получить библиотеку в их исходном дереве.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-482">This tool automates the steps that developers take today to get a library into their source tree.</span></span>

<span data-ttu-id="a4a4e-483">Из командной строки, как окно интегрированной консоли внутри Visual Studio 2010, в контекстном меню Visual Studio и как набор командлетов PowerShell можно работать с помощью NuGet.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-483">You can work with NuGet as a command-line tool, as an integrated console window inside Visual Studio 2010, from the Visual Studio context menu, and as a set of PowerShell cmdlets.</span></span>

<span data-ttu-id="a4a4e-484">Дополнительные сведения о NuGet см. в статье [документации по Nuget](https://docs.microsoft.com/nuget/).</span><span class="sxs-lookup"><span data-stu-id="a4a4e-484">For more information about NuGet, read the [Nuget Documentation](https://docs.microsoft.com/nuget/).</span></span>

<a id="_Toc276711787"></a>
### <a name="improved-new-project-dialog-box"></a><span data-ttu-id="a4a4e-485">Улучшенная «Новый проект» диалоговое окно</span><span class="sxs-lookup"><span data-stu-id="a4a4e-485">Improved "New Project" Dialog Box</span></span>

<span data-ttu-id="a4a4e-486">При создании нового проекта в диалоговом окне нового проекта теперь позволяет указать обработчик представлений, а также тип проекта ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-486">When you create a new project, the New Project dialog box now lets you specify the view engine as well as an ASP.NET MVC project type.</span></span>

![](mvc3-release-notes/_static/image5.png)

<span data-ttu-id="a4a4e-487">В этом выпуске включается поддержка изменение списка шаблонов и представление модулей, перечисленных в диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-487">Support for modifying the list of templates and view engines listed in the dialog box is included in this release.</span></span>

<span data-ttu-id="a4a4e-488">Ниже перечислены шаблоны по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-488">The default templates are the following:</span></span>

<span data-ttu-id="a4a4e-489">Пустой.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-489">Empty.</span></span> <span data-ttu-id="a4a4e-490">Содержит минимальный набор файлов для проекта ASP.NET MVC, включая структурой каталогов по умолчанию для проектов ASP.NET MVC Site.css файл, содержащий стили ASP.NET MVC по умолчанию, а также сценарии каталог, содержащий файлы JavaScript по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-490">Contains a minimal set of files for an ASP.NET MVC project, including the default directory structure for ASP.NET MVC projects, a Site.css file that contains the default ASP.NET MVC styles, and a Scripts directory that contains the default JavaScript files.</span></span>

<span data-ttu-id="a4a4e-491">Интернет-приложения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-491">Internet Application.</span></span> <span data-ttu-id="a4a4e-492">Содержит функции образец, демонстрирующий использование поставщика членства в ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-492">Contains sample functionality that demonstrates how to use the membership provider with ASP.NET MVC.</span></span>

<span data-ttu-id="a4a4e-493">Список шаблонов проектов, отображаемый в диалоговом окне указывается в реестре Windows.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-493">The list of project templates that is displayed in the dialog box is specified in the Windows registry.</span></span>

<a id="_Toc276711788"></a>
### <a name="sessionless-controllers"></a><span data-ttu-id="a4a4e-494">Контроллеры sessionless</span><span class="sxs-lookup"><span data-stu-id="a4a4e-494">Sessionless Controllers</span></span>

<span data-ttu-id="a4a4e-495">Новый *ControllerSessionStateAttribute* дает больший контроль над поведение состояния сеанса для контроллеров, указав [System.Web.SessionState.SessionStateBehavior](https://msdn.microsoft.com/library/system.web.sessionstate.sessionstatebehavior.aspx) значение перечисления.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-495">The new *ControllerSessionStateAttribute* gives you more control over session-state behavior for controllers by specifying a [System.Web.SessionState.SessionStateBehavior](https://msdn.microsoft.com/library/system.web.sessionstate.sessionstatebehavior.aspx) enumeration value.</span></span>

<span data-ttu-id="a4a4e-496">В следующем примере показано, как отключить состояние сеанса для всех запросов к контроллеру.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-496">The following example shows how to turn off session state for all requests to a controller.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample13.cs)]

<span data-ttu-id="a4a4e-497">Приведенный ниже показано, как задать состояние сеанса только для чтения для всех запросов к контроллеру.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-497">The following example shows how to set read-only session state for all requests to a controller.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample14.cs)]

<a id="_Toc276711789"></a>
### <a name="new-validation-attributes"></a><span data-ttu-id="a4a4e-498">Новые атрибуты проверки</span><span class="sxs-lookup"><span data-stu-id="a4a4e-498">New Validation Attributes</span></span>

#### <a name="compareattribute"></a><span data-ttu-id="a4a4e-499">CompareAttribute</span><span class="sxs-lookup"><span data-stu-id="a4a4e-499">CompareAttribute</span></span>

<span data-ttu-id="a4a4e-500">Новый *CompareAttribute* атрибут проверки позволяет сравнить значения двух свойств модели.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-500">The new *CompareAttribute* validation attribute lets you compare the values of two different properties of a model.</span></span> <span data-ttu-id="a4a4e-501">В следующем примере *ComparePassword* свойство должно соответствовать *пароль* поле, чтобы быть допустимыми.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-501">In the following example, the *ComparePassword* property must match the *Password* field in order to be valid.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample15.cs)]

#### <a name="remoteattribute"></a><span data-ttu-id="a4a4e-502">RemoteAttribute</span><span class="sxs-lookup"><span data-stu-id="a4a4e-502">RemoteAttribute</span></span>

<span data-ttu-id="a4a4e-503">Новый *RemoteAttribute* атрибут проверки позволяет пользоваться преимуществами jQuery проверки подключения в удаленный проверяющий элемент управления, который позволяет вызывать на сервере, который выполняет логики проверки для проверки со стороны клиента.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-503">The new *RemoteAttribute* validation attribute takes advantage of the jQuery Validation plug-in's remote validator, which enables client-side validation to call a method on the server that performs the actual validation logic.</span></span>

<span data-ttu-id="a4a4e-504">В следующем примере *UserName* свойство имеет *RemoteAttribute* применения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-504">In the following example, the *UserName* property has the *RemoteAttribute* applied.</span></span> <span data-ttu-id="a4a4e-505">При изменении этого свойства в представлении редактирования, клиентская проверка будет вызывать действие с именем *UserNameAvailable* на *UsersController* класса, чтобы проверить это поле.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-505">When editing this property in an Edit view, client validation will call an action named *UserNameAvailable* on the *UsersController* class in order to validate this field.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample16.cs)]

<span data-ttu-id="a4a4e-506">В следующем примере показано состояние соответствующего контроллера.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-506">The following example shows the corresponding controller.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample17.cs)]

<span data-ttu-id="a4a4e-507">По умолчанию имя свойства, атрибут применяется к передается в метод действия в параметр строки запроса.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-507">By default, the property name that the attribute is applied to is sent to the action method as a query-string parameter.</span></span>

<a id="_Toc276711790"></a>
### <a name="new-overloads-for-labelfor-and-labelformodel-methods"></a><span data-ttu-id="a4a4e-508">Новые перегрузки для методов «LabelForModel» и «LabelFor»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-508">New Overloads for "LabelFor" and "LabelForModel" Methods</span></span>

<span data-ttu-id="a4a4e-509">Были добавлены новые перегрузки для *LabelFor* и *LabelForModel* методы, позволяющие указать текст метки.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-509">New overloads have been added for the *LabelFor* and *LabelForModel* methods that let you specify the label text.</span></span> <span data-ttu-id="a4a4e-510">В следующем примере показано, как для использования этих перегрузок.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-510">The following example shows how to use these overloads.</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample18.cshtml)]

<a id="_Toc276711791"></a>
### <a name="child-action-output-caching"></a><span data-ttu-id="a4a4e-511">Дочернее действие кэширования выходных данных</span><span class="sxs-lookup"><span data-stu-id="a4a4e-511">Child Action Output Caching</span></span>

<span data-ttu-id="a4a4e-512">*OutputCacheAttribute* поддерживает кэширование вывода дочерних действий, которые вызываются с помощью *Html.RenderAction* или *Html.Action* вспомогательные методы.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-512">The *OutputCacheAttribute* supports output caching of child actions that are called by using the *Html.RenderAction* or *Html.Action* helper methods.</span></span> <span data-ttu-id="a4a4e-513">Следующий пример показывает представление, которое вызывает другую операцию.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-513">The following example shows a view that calls another action.</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample19.cshtml)]

<span data-ttu-id="a4a4e-514">*GetDate* действия помечается с помощью *OutputCacheAttribute*:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-514">The *GetDate* action is annotated with the *OutputCacheAttribute*:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample20.cs)]

<span data-ttu-id="a4a4e-515">Этот код, запускаемый результат вызова Html.Action("GetDate") кэшируются 100 секунд.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-515">When this code runs, the result of the call to Html.Action("GetDate") is cached for 100 seconds.</span></span>

<a id="_Toc276711792"></a>
### <a name="add-view-dialog-box-improvements"></a><span data-ttu-id="a4a4e-516">«Добавление представления» улучшения диалоговых окон</span><span class="sxs-lookup"><span data-stu-id="a4a4e-516">"Add View" Dialog Box Improvements</span></span>

<span data-ttu-id="a4a4e-517">Диалоговое окно добавления представления теперь отфильтровывает больше неподходящих типов, чем в предыдущих версиях, таких как многие типы .NET Framework core, при добавлении строго типизированного представления.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-517">When you add a strongly typed view, the Add View dialog box now filters out more non-applicable types than in previous releases, such as many core .NET Framework types.</span></span> <span data-ttu-id="a4a4e-518">Кроме того список теперь сортируется по имени класса, а не полное имя типа, что упрощает поиск типов.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-518">Also, the list is now sorted by the class name and not by the fully qualified type name, which makes it easier to find types.</span></span> <span data-ttu-id="a4a4e-519">Например имя типа будет отображаться как в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-519">For example, the type name is now displayed as in the following example:</span></span>

<span data-ttu-id="a4a4e-520">ClassName (пространство имен)</span><span class="sxs-lookup"><span data-stu-id="a4a4e-520">ClassName (namespace)</span></span>

<span data-ttu-id="a4a4e-521">В более ранних выпусках это было отображались бы следующим образом:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-521">In earlier releases, this would have been displayed as the following:</span></span>

<span data-ttu-id="a4a4e-522">Namespace.ClassName</span><span class="sxs-lookup"><span data-stu-id="a4a4e-522">Namespace.ClassName</span></span>

<a id="_Toc276711793"></a>
### <a name="granular-request-validation"></a><span data-ttu-id="a4a4e-523">Гранулярная проверка запросов</span><span class="sxs-lookup"><span data-stu-id="a4a4e-523">Granular Request Validation</span></span>

<span data-ttu-id="a4a4e-524">*Исключить* свойство *ValidateInputAttribute* больше не существует.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-524">The *Exclude* property of *ValidateInputAttribute* no longer exists.</span></span> <span data-ttu-id="a4a4e-525">Чтобы проверка запросов для определенных свойств модели, пропущенных во время привязки модели, используйте новый *SkipRequestValidationAttribute*.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-525">Instead, to have request validation skipped for specific properties of a model during model binding, use the new *SkipRequestValidationAttribute*.</span></span>

<span data-ttu-id="a4a4e-526">Например предположим, что метод действия используется для изменения записи блога:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-526">For example, suppose an action method is used to edit a blog post:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample21.cs)]

<span data-ttu-id="a4a4e-527">Пример модели представления для записи блога.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-527">The following example shows the view model for a blog post.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample22.cs)]

<span data-ttu-id="a4a4e-528">Когда пользователь отправляет некоторые разметки для описания свойства, завершится ошибкой привязки модели, за проверку запросов.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-528">When a user submits some markup for the Description property, model binding will fail due to request validation.</span></span> <span data-ttu-id="a4a4e-529">Чтобы отключить проверку запросов во время привязки модели для блога описание, применить *SkipRequpestValidationAttribute* для свойства, как показано в следующем примере:.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-529">To disable request validation during model binding for the blog post Description, apply the *SkipRequpestValidationAttribute* to the property, as shown in this example:.</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample23.cs)]

<span data-ttu-id="a4a4e-530">Кроме того, чтобы отключить проверку запросов для каждого свойства в модели, применяются *ValidateInputAttribute* со значением *false* метода действия:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-530">Alternatively, to turn off request validation for every property of the model, apply *ValidateInputAttribute* with a value of *false* to the action method:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample24.cs)]

<a id="_Toc276711794"></a>
## <a name="breaking-changes"></a><span data-ttu-id="a4a4e-531">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="a4a4e-531">Breaking Changes</span></span>

- <span data-ttu-id="a4a4e-532">Фильтры исключений, которые имеют одинаковое изменился порядок выполнения фильтров исключений *порядок* значение.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-532">The order of execution for exception filters has changed for exception filters that have the same *Order* value.</span></span> <span data-ttu-id="a4a4e-533">Фильтрация в ASP.NET MVC 2 и более ранних версиях исключение на контроллере, который обнаружил ту же *порядок* как те, в методе действия выполнялись перед фильтрами исключений в методе действия.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-533">In ASP.NET MVC 2 and earlier, exception filters on the controller that had the same *Order* as those on an action method were executed before the exception filters on the action method.</span></span> <span data-ttu-id="a4a4e-534">Это обычно случай может возникнуть при применении фильтров исключений без заданного *порядок* значение.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-534">This would typically be the case when exception filters were applied without a specified *Order* value.</span></span> <span data-ttu-id="a4a4e-535">В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-535">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="a4a4e-536">Как и в более ранних версиях Если *порядок* свойство явно указано, фильтры выполняются в указанном порядке.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-536">As in earlier versions, if the *Order* property is explicitly specified, the filters are run in the specified order.</span></span>
- <span data-ttu-id="a4a4e-537">Добавлено новое свойство с именем *FileExtensions* для *VirtualPathProviderViewEngine* базового класса.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-537">Added a new property named *FileExtensions* to the *VirtualPathProviderViewEngine* base class.</span></span> <span data-ttu-id="a4a4e-538">При поиске представления по пути (а не по имени), только те представления, расширение файла, содержащихся в список, указанный в новом свойстве считается.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-538">When looking up a view by path (and not by name), only views with a file extension contained in the list specified by this new property is considered.</span></span> <span data-ttu-id="a4a4e-539">Это критическое изменение для тех, кто регистрации пользовательской сборки поставщика, чтобы включить пользовательское расширение файла для веб-формы представления и и ссылки на эти представления, используя полный путь, а не имя.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-539">This is a breaking change for those who register a custom build provider to enable a custom file extension for web form views and and are referencing those views by using a full path rather than a name.</span></span> <span data-ttu-id="a4a4e-540">Обходной путь заключается в изменении значение *FileExtensions* включив пользовательское расширение файла.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-540">The workaround is to modify the value of the *FileExtensions* property to include the custom file extension.</span></span>

<a id="_Toc276711795"></a>
## <a name="known-issues"></a><span data-ttu-id="a4a4e-541">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="a4a4e-541">Known Issues</span></span>

- <span data-ttu-id="a4a4e-542">Программа установки может занять гораздо больше времени, чем в предыдущих версиях ASP.NET MVC для выполнения, так как он обновляет компонентов Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-542">The installer may take much longer than previous versions of ASP.NET MVC to complete because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="a4a4e-543">Добавить представление формирования шаблонов при выборе astrongly типизированные свойства только для записи закрепление представления.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-543">The Add View scaffolding when selecting astrongly typed view scaffolds write-only properties.</span></span> <span data-ttu-id="a4a4e-544">Они всегда должна обрабатываться средством формирования шаблонов.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-544">These should always be ignored by scaffolding.</span></span> <span data-ttu-id="a4a4e-545">Диалоговое окно добавления представления также закрепление свойства только для чтения при создании представления «Изменить» или «Создание».</span><span class="sxs-lookup"><span data-stu-id="a4a4e-545">The Add View dialog also scaffolds read-only properties when generating an "Edit" or "Create" view.</span></span> <span data-ttu-id="a4a4e-546">Формирования шаблонов свойства только для чтения следует только для отображения и список представлений.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-546">Read-only properties should only be scaffolded for the Display and List views.</span></span>
- <span data-ttu-id="a4a4e-547">Отладка не работает при установке параллельно с Async CTP-версия ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-547">Debugging doesn't work when ASP.NET MVC 3 is installed alongside the Async CTP.</span></span> <span data-ttu-id="a4a4e-548">ASP.NET MVC 3 не может быть установленных-параллельных с Async CTP.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-548">ASP.NET MVC 3 cannot be installed side-by-side with the Async CTP.</span></span> <span data-ttu-id="a4a4e-549">Удалите Async CTP исправление отладки.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-549">Uninstall the Async CTP to repair debugging.</span></span> <span data-ttu-id="a4a4e-550">Дополнительные сведения см. в статье [этой записи блога](http://drew-prog.blogspot.com/2010/11/how-to-uninstall-microsoft-aspnet-mvc-3.html) об удалении все части ASP.NET MVC 3, версия-Кандидат.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-550">For more details, read [this blog post](http://drew-prog.blogspot.com/2010/11/how-to-uninstall-microsoft-aspnet-mvc-3.html) about uninstalling all the pieces of ASP.NET MVC 3 RC.</span></span>
- <span data-ttu-id="a4a4e-551">Если установлен Resharper Razor Intellisense не работает.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-551">Razor Intellisense does not work when Resharper is installed.</span></span> <span data-ttu-id="a4a4e-552">Если установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки intellisense Razor в ASP.NET MVC 3 RC, прочитайте [этой записи блога](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) из JetBrains, в котором описывается, как использовать их совместно сегодня.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-552">If you have ReSharper installed and want to take advantage of the Razor intellisense support in ASP.NET MVC 3 RC, please read [this blog post](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) from JetBrains which discusses ways to use them together today.</span></span>
- <span data-ttu-id="a4a4e-553">Представления CSHTML и vbhtml-ФАЙЛАХ, созданных с помощью бета-версии для ASP.NET MVC 3 имеют свои действия построения правильно которых исключает их из публикации.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-553">CSHTML and VBHTML views created with Beta of ASP.NET MVC 3 do not have their build action correctly which omits them from publishing.</span></span> <span data-ttu-id="a4a4e-554">*Действие при построении* эти файлы должны иметь значение «Content».</span><span class="sxs-lookup"><span data-stu-id="a4a4e-554">The *Build Action* for these files should be set to "Content".</span></span> <span data-ttu-id="a4a4e-555">ASP.NET MVC 3 RC устраняет эту проблему для новых файлов, но не правильный параметр для существующих файлов в проект, созданный с помощью бета-версии.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-555">ASP.NET MVC 3 RC fixes this issue for new files, but doesn't correct the setting for existing files for a project created with the Beta.</span></span>
- <span data-ttu-id="a4a4e-556">Программа установки может занять гораздо больше времени, чем в предыдущих версиях ASP.NET MVC для выполнения, так как он обновляет компонентов Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-556">The installer may take much longer than previous versions of ASP.NET MVC to complete because it updates components of Visual Studio 2010.</span></span>
- <span data-ttu-id="a4a4e-557">Добавить представление формирования шаблонов при выборе «Edit» строго типизированы закрепление представление Неизменяемые свойства.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-557">The Add View scaffolding when selecting an "Edit" strongly typed view scaffolds read only properties.</span></span> <span data-ttu-id="a4a4e-558">Аналогичным образом свойства, доступные только для записи формирования шаблонов для представлений «Отображение».</span><span class="sxs-lookup"><span data-stu-id="a4a4e-558">Likewise, write-only properties are scaffolded for "Display" views.</span></span>
- <span data-ttu-id="a4a4e-559">Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, которое меньше, чем планировалось.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-559">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>
- <span data-ttu-id="a4a4e-560">Установка Visual Studio Async CTP приводит к конфликту с выпуском Razor, который входит в состав средства установки ASP.NET MVC 3.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-560">Installing the Visual Studio Async CTP causes a conflict with the Razor release that is included as part of the ASP.NET MVC 3 tooling installation.</span></span> <span data-ttu-id="a4a4e-561">Убедитесь, что не пытайтесь установить Visual Studio Async CTP и в выпуске Razor на том же компьютере.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-561">Make sure that you do not try to install both the Visual Studio Async CTP and the Razor release on the same machine.</span></span>
- <span data-ttu-id="a4a4e-562">При изменении представления Razor (файл cshtml), перейдите к контроллера пункта меню в Visual Studio будет недоступен и существуют не фрагменты кода.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-562">When you are editing a Razor view (.cshtml file), the Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>

<a id="TOC_ASP_NET_3_Beta"></a>
## <a name="aspnet-mvc-3-beta"></a><span data-ttu-id="a4a4e-563">Бета-версия ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="a4a4e-563">ASP.NET MVC 3 Beta</span></span>

<span data-ttu-id="a4a4e-564">Бета-версия ASP.NET MVC 3 был выпущен 6 октября 2010 г.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-564">ASP.NET MVC 3 Beta was released on October 6, 2010.</span></span> <span data-ttu-id="a4a4e-565">Следующие примечания относятся к бета-версии и могут быть любые обновления или изменения, на который ссылается раздел ASP.NET MVC 3, версия-кандидат выше.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-565">The following notes are specific to the Beta release, and are subject to any updates or changes referenced in the ASP.NET MVC 3 Release Candidate section above.</span></span>

## <a id="0.1__Toc274034215"></a><span data-ttu-id="a4a4e-566">Бета-версия ASP.NET MVC 3 новых Featuresin</span><span class="sxs-lookup"><span data-stu-id="a4a4e-566">New Featuresin ASP.NET MVC 3 Beta</span></span>

<a id="0.1__Default_validation_system"></a><span data-ttu-id="a4a4e-567">В этом разделе описываются функции, которые были введены в ASP.NET MVC 3, бета-версии.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-567">This section describes features that have been introduced in the ASP.NET MVC 3 Beta release.</span></span>

### <a id="0.1__Toc274034216"></a><span data-ttu-id="a4a4e-568">Диспетчер пакетов NuGet</span><span class="sxs-lookup"><span data-stu-id="a4a4e-568">NuGet Package Manager</span></span>

<span data-ttu-id="a4a4e-569">ASP.NET MVC 3 включает диспетчер пакетов NuGet, который является средство интегрированный пакет управления для добавления библиотеки и средства для проектов Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-569">ASP.NET MVC 3 includes NuGet Package Manager, which is an integrated package management tool for adding libraries and tools to Visual Studio projects.</span></span> <span data-ttu-id="a4a4e-570">В большинстве случаев она автоматизирует действия, которые разработчики сегодня предпринять для получения библиотеки в их исходном дереве.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-570">For the most part, it automates the steps that developers take today to get a library into their source tree.</span></span>

<span data-ttu-id="a4a4e-571">В качестве средства командной строки, как окно интегрированной консоли внутри Visual Studio 2010, в контекстном меню Visual Studio и как набор командлетов PowerShell можно работать с помощью NuGet.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-571">You can work with NuGet as a command line tool, as an integrated console window inside Visual Studio 2010, from the Visual Studio context menu, and as set of PowerShell cmdlets.</span></span>

<span data-ttu-id="a4a4e-572">Дополнительные сведения о NuGet см. в статье [документации по NuGet](https://docs.microsoft.com/nuget/).</span><span class="sxs-lookup"><span data-stu-id="a4a4e-572">For more information about NuGet, read the [NuGet Documentation](https://docs.microsoft.com/nuget/).</span></span>

### <a id="0.1__Toc274034217"></a><span data-ttu-id="a4a4e-573">Улучшенное диалоговое окно нового проекта</span><span class="sxs-lookup"><span data-stu-id="a4a4e-573">Improved New Project Dialog Box</span></span>

<span data-ttu-id="a4a4e-574">При создании нового проекта в диалоговом окне нового проекта теперь позволяет указать обработчик представлений, а также тип проекта ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-574">When you create a new project, the New Project dialog box now lets you specify the view engine as well as an ASP.NET MVC project type.</span></span>

![](mvc3-release-notes/_static/image6.png)

<span data-ttu-id="a4a4e-575">В этом выпуске не включена поддержка изменение списка шаблонов и представление модулей, перечисленных в диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-575">Support for modifying the list of templates and view engines listed in the dialog box is not included in this release.</span></span>

<span data-ttu-id="a4a4e-576">Ниже перечислены шаблоны по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-576">The default templates are the following:</span></span>

<span data-ttu-id="a4a4e-577">Пустой.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-577">Empty.</span></span> <span data-ttu-id="a4a4e-578">Содержит минимальный набор файлов для проекта ASP.NET MVC, включая структурой каталогов по умолчанию для проектов ASP.NET MVC, небольшой файл Site.css, содержащий стили ASP.NET MVC по умолчанию и сценарии каталог, содержащий файлы JavaScript по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-578">Contains a minimal set of files for an ASP.NET MVC project, including the default directory structure for ASP.NET MVC projects, a small Site.css file that contains the default ASP.NET MVC styles, and a Scripts directory that contains the default JavaScript files.</span></span>

<span data-ttu-id="a4a4e-579">Интернет-приложения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-579">Internet Application.</span></span> <span data-ttu-id="a4a4e-580">Содержит функции образец, демонстрирующий использование поставщика членства в ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-580">Contains sample functionality that demonstrates how to use the membership provider within ASP.NET MVC.</span></span>

### <a id="0.1__Toc274034218"></a><span data-ttu-id="a4a4e-581">Упрощенный способ указания строго типизированного моделей в представлений Razor</span><span class="sxs-lookup"><span data-stu-id="a4a4e-581">Simplified Way to Specify Strongly Typed Models in Razor Views</span></span>

<span data-ttu-id="a4a4e-582">Способ указания типа модели для строго типизированных представлений Razor, был упрощен путем с использованием нового @model директив для представлений CSHTML и @ModelType директивы VBHTML представления.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-582">The way to specify the model type for strongly typed Razor views has been simplified by using the new @model directive for CSHTML views and @ModelType directive for VBHTML views.</span></span> <span data-ttu-id="a4a4e-583">В более ранних версиях ASP.NET MVC необходимо указать что строго типизированные модели для Razor представления таким образом:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-583">In earlier versions of ASP.NET MVC, you would specify a strongly typed model for Razor views this way:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample25.cshtml)]

<span data-ttu-id="a4a4e-584">В этом выпуске можно использовать следующий синтаксис:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-584">In this release, you can use the following syntax:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample26.cshtml)]

### <a id="0.1__Toc274034219"></a><span data-ttu-id="a4a4e-585">Поддержка новых веб-страниц ASP.NET вспомогательные методы</span><span class="sxs-lookup"><span data-stu-id="a4a4e-585">Support for New ASP.NET Web Pages Helper Methods</span></span>

<span data-ttu-id="a4a4e-586">Новая технология ASP.NET Web Pages включает набор вспомогательных методов, которые можно использовать для добавления функциональных возможностей часто используемых представлений и контроллеров.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-586">The new ASP.NET Web Pages technology includes a set of helper methods that are useful for adding commonly used functionality to views and controllers.</span></span> <span data-ttu-id="a4a4e-587">ASP.NET MVC 3 поддерживает эти вспомогательные методы в контроллеры и представления (при необходимости).</span><span class="sxs-lookup"><span data-stu-id="a4a4e-587">ASP.NET MVC 3 supports using these helper methods within controllers and views (where appropriate).</span></span> <span data-ttu-id="a4a4e-588">Эти методы содержащиеся в сборке System.Web.Helpers.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-588">These methods are contained in the System.Web.Helpers assembly.</span></span> <span data-ttu-id="a4a4e-589">Ниже перечислены некоторые из вспомогательных методов веб-страниц ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-589">The following table lists a few of the ASP.NET Web Pages helper methods.</span></span>

| <span data-ttu-id="a4a4e-590">**Helper**</span><span class="sxs-lookup"><span data-stu-id="a4a4e-590">**Helper**</span></span> | <span data-ttu-id="a4a4e-591">**Описание**</span><span class="sxs-lookup"><span data-stu-id="a4a4e-591">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="a4a4e-592">Диаграмма</span><span class="sxs-lookup"><span data-stu-id="a4a4e-592">Chart</span></span> | <span data-ttu-id="a4a4e-593">Подготавливает к просмотру диаграммы в представлении.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-593">Renders a chart within a view.</span></span> <span data-ttu-id="a4a4e-594">Содержит методы, такие как Chart.ToWebImage, Chart.Save и Chart.Write.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-594">Contains methods such as Chart.ToWebImage, Chart.Save, and Chart.Write.</span></span> |
| <span data-ttu-id="a4a4e-595">Службы шифрования</span><span class="sxs-lookup"><span data-stu-id="a4a4e-595">Crypto</span></span> | <span data-ttu-id="a4a4e-596">Использует алгоритмы для создания правильно хэширования начальная и хэшированные пароли.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-596">Uses hashing algorithms to create properly salted and hashed passwords.</span></span> |
| <span data-ttu-id="a4a4e-597">WebGrid</span><span class="sxs-lookup"><span data-stu-id="a4a4e-597">WebGrid</span></span> | <span data-ttu-id="a4a4e-598">Отображает коллекцию объектов (как правило, данные из базы данных) в виде сетки.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-598">Renders a collection of objects (typically, data from a database) as a grid.</span></span> <span data-ttu-id="a4a4e-599">Поддерживает разбиение по страницам и сортировка.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-599">Supports paging and sorting.</span></span> |
| <span data-ttu-id="a4a4e-600">WebImage</span><span class="sxs-lookup"><span data-stu-id="a4a4e-600">WebImage</span></span> | <span data-ttu-id="a4a4e-601">Выводит изображение на экран.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-601">Renders an image.</span></span> |
| <span data-ttu-id="a4a4e-602">Веб-почты</span><span class="sxs-lookup"><span data-stu-id="a4a4e-602">WebMail</span></span> | <span data-ttu-id="a4a4e-603">Отправляет сообщение электронной почты.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-603">Sends an email message.</span></span> |

<span data-ttu-id="a4a4e-604">Краткий справочник раздел, содержащий вспомогательные методы и базовый синтаксис доступен как часть документации синтаксис ASP.NET Razor по следующему АДРЕСУ:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-604">A quick reference topic that lists the helpers and basic syntax is available as part of the ASP.NET Razor syntax documentation at the following URL:</span></span>

[<span data-ttu-id="a4a4e-605">https://www.asp.net/webmatrix/tutorials/asp-net-web-pages-api-reference</span><span class="sxs-lookup"><span data-stu-id="a4a4e-605">https://www.asp.net/webmatrix/tutorials/asp-net-web-pages-api-reference</span></span>](../web-pages/overview/api-reference/asp-net-web-pages-api-reference.md)

### <a id="0.1__Toc274034220"></a><span data-ttu-id="a4a4e-606">Поддержка внедрения дополнительных зависимостей</span><span class="sxs-lookup"><span data-stu-id="a4a4e-606">Additional Dependency Injection Support</span></span>

<span data-ttu-id="a4a4e-607">Построение для ASP.NET MVC 3 Preview 1 версии текущего выпуска включает добавлена поддержка двух новых служб и четыре существующими службами и улучшенная поддержка разрешении зависимостей и локатор общей службы.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-607">Building on the ASP.NET MVC 3 Preview 1 release, the current release includes added support for two new services and four existing services, and improved support for dependency resolution and the Common Service Locator.</span></span>

#### <a name="new-icontrolleractivator-interface-for-fine-grained-controller-instantiation"></a><span data-ttu-id="a4a4e-608">Новый интерфейс IControllerActivator для точного контроллера при создании экземпляра</span><span class="sxs-lookup"><span data-stu-id="a4a4e-608">New IControllerActivator Interface for Fine-Grained Controller Instantiation</span></span>

<span data-ttu-id="a4a4e-609">Интерфейс IControllerActivator обеспечивает более точное управление как контроллерами создаются через внедрения зависимостей.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-609">The new IControllerActivator interface provides more fine-grained control over how controllers are instantiated via dependency injection.</span></span> <span data-ttu-id="a4a4e-610">Ниже приведен пример интерфейса.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-610">The following example shows the interface:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample27.cs)]

<span data-ttu-id="a4a4e-611">Сравните это роли фабрики контроллеров.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-611">Contrast this to the role of the controller factory.</span></span> <span data-ttu-id="a4a4e-612">Фабрика контроллеров представляет собой реализацию интерфейса IControllerFactory, который отвечает, ищите тип контроллера, а также для создания экземпляра этого типа контроллера.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-612">A controller factory is an implementation of the IControllerFactory interface, which is responsible both for locating a controller type and for instantiating an instance of that controller type.</span></span>

<span data-ttu-id="a4a4e-613">Активаторы контроллеров отвечают только для создания экземпляра типа контроллера.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-613">Controller activators are responsible only for instantiating an instance of a controller type.</span></span> <span data-ttu-id="a4a4e-614">Они не выполняют поиск типа контроллера.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-614">They do not perform the controller type lookup.</span></span> <span data-ttu-id="a4a4e-615">После нахождения тип правильную контроллера, фабрики контроллеров должны делегировать экземпляр IControllerActivator фактического экземпляра контроллера.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-615">After locating a proper controller type, controller factories should delegate to an instance of IControllerActivator to handle the actual instantiation of the controller.</span></span>

<span data-ttu-id="a4a4e-616">Класс DefaultControllerFactory имеет новый конструктор, который принимает экземпляр IControllerFactory.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-616">The DefaultControllerFactory class has a new constructor that accepts an IControllerFactory instance.</span></span> <span data-ttu-id="a4a4e-617">Это позволяет применить внедрения зависимости для управления этот аспект создания контроллера без необходимости переопределить поведение по умолчанию для уточняющего запроса тип контроллера.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-617">This lets you apply Dependency Injection to manage this aspect of controller creation without having to override the default controller-type lookup behavior.</span></span>

#### <a name="iservicelocator-interface-replaced-with-idependencyresolver"></a><span data-ttu-id="a4a4e-618">IServiceLocator интерфейс заменена IDependencyResolver</span><span class="sxs-lookup"><span data-stu-id="a4a4e-618">IServiceLocator Interface Replaced with IDependencyResolver</span></span>

<span data-ttu-id="a4a4e-619">Основанные на отзывах сообщества ASP.NET MVC 3, бета-версии заменен использование интерфейса IServiceLocator облегченных IDependencyResolver интерфейса, определенного в соответствии с потребностями ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-619">Based on community feedback, the ASP.NET MVC 3 Beta release has replaced the use of the IServiceLocator interface with a slimmed-down IDependencyResolver interface specific to the needs of ASP.NET MVC.</span></span> <span data-ttu-id="a4a4e-620">Ниже приведен пример новый интерфейс.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-620">The following example shows the new interface:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample28.cs)]

<span data-ttu-id="a4a4e-621">В рамках этого изменения класса ServiceLocator также было заменено значением класса DependencyResolver.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-621">As part of this change, the ServiceLocator class was also replaced with the DependencyResolver class.</span></span> <span data-ttu-id="a4a4e-622">Регистрации сопоставителя зависимостей похожа на более ранних версиях ASP.NET MVC:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-622">Registration of a dependency resolver is similar to earlier versions of ASP.NET MVC:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample29.cs)]

<span data-ttu-id="a4a4e-623">Реализации этого интерфейса должны просто делегировать базовый контейнер внедрения зависимостей для предоставить зарегистрированную службу для запрошенного типа.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-623">Implementations of this interface should simply delegate to the underlying dependency injection container to provide the registered service for the requested type.</span></span>

<span data-ttu-id="a4a4e-624">При наличии зарегистрированных служб запрошенного типа, ASP.NET MVC ожидает от реализации этого интерфейса возвращает значение null из GetService и возвращать пустую коллекцию из GetServices.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-624">When there are no registered services of the requested type, ASP.NET MVC expects implementations of this interface to return null from GetService and to return an empty collection from GetServices.</span></span>

<span data-ttu-id="a4a4e-625">Новый класс DependencyResolver можно зарегистрировать классы, реализующие новый интерфейс IDependencyResolver или интерфейс локатора общей службы (IServiceLocator).</span><span class="sxs-lookup"><span data-stu-id="a4a4e-625">The new DependencyResolver class lets you register classes that implement either the new IDependencyResolver interface or the Common Service Locator interface (IServiceLocator).</span></span> <span data-ttu-id="a4a4e-626">Дополнительные сведения о локаторе общей службы см. в разделе [CommonServiceLocator на GitHub](https://github.com/unitycontainer/commonservicelocator).</span><span class="sxs-lookup"><span data-stu-id="a4a4e-626">For more information about Common Service Locator, see [CommonServiceLocator on GitHub](https://github.com/unitycontainer/commonservicelocator).</span></span>

<a id="0.1__Breaking_Changes"></a>

#### <a name="new-iviewactivator-interface-for-fine-grained-view-page-instantiation"></a><span data-ttu-id="a4a4e-627">Новый интерфейс IViewActivator для создания экземпляра точное представление страницы</span><span class="sxs-lookup"><span data-stu-id="a4a4e-627">New IViewActivator Interface for Fine-Grained View Page Instantiation</span></span>

<span data-ttu-id="a4a4e-628">Интерфейс IViewPageActivator обеспечивает более точное управление как просмотр страниц создаются через внедрения зависимостей.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-628">The new IViewPageActivator interface provides more fine-grained control over how view pages are instantiated via dependency injection.</span></span> <span data-ttu-id="a4a4e-629">Это относится к WebFormView экземпляры и экземпляры RazorView.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-629">This applies to both WebFormView instances and RazorView instances.</span></span> <span data-ttu-id="a4a4e-630">Ниже приведен пример новый интерфейс.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-630">The following example shows the new interface:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample30.cs)]

<span data-ttu-id="a4a4e-631">Теперь эти классы принимать IViewPageActivator аргумента конструктора, который позволяет внедрения зависимостей используется для управления как создаются типы ViewPage, ViewUserControl и WebViewPage.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-631">These classes now accept an IViewPageActivator constructor argument, which lets you use dependency injection to control how the ViewPage, ViewUserControl, and WebViewPage types are instantiated.</span></span>

#### <a name="new-dependency-resolver-support-for-existing-services"></a><span data-ttu-id="a4a4e-632">Поддержка нового Сопоставитель зависимостей для существующих служб</span><span class="sxs-lookup"><span data-stu-id="a4a4e-632">New Dependency Resolver Support for Existing Services</span></span>

<span data-ttu-id="a4a4e-633">Новый выпуск включает поддержку в разрешении зависимостей для следующих служб:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-633">The new release includes dependency resolution support for the following services:</span></span>

- <span data-ttu-id="a4a4e-634">Поставщиков проверки модели.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-634">Model validation providers.</span></span> <span data-ttu-id="a4a4e-635">Классы, реализующие ModelValidatorProvider могут быть зарегистрированы в сопоставителе зависимостей, и система будет использовать их для поддержки проверки на стороне клиента и сервера.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-635">Classes that implement ModelValidatorProvider can be registered in the dependency resolver, and the system will use them to support client- and server-side validation.</span></span>
- <span data-ttu-id="a4a4e-636">Поставщик метаданных модели.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-636">Model metadata provider.</span></span> <span data-ttu-id="a4a4e-637">Один класс, реализующий ModelMetadataProvider могут быть зарегистрированы в сопоставителе зависимостей, и система будет использовать для предоставления метаданных для шаблонов и проверка систем.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-637">A single class that implements ModelMetadataProvider can be registered in the dependency resolver, and the system will use it to provide metadata for the templating and validation systems.</span></span>
- <span data-ttu-id="a4a4e-638">Поставщики значений.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-638">Value providers.</span></span> <span data-ttu-id="a4a4e-639">Классы, реализующие ValueProviderFactory могут быть зарегистрированы в сопоставителе зависимостей, и система будет использовать их для создания поставщиков значений, используемые контроллером и во время привязки модели.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-639">Classes that implement ValueProviderFactory can be registered in the dependency resolver, and the system will use them to create value providers that are consumed by the controller and during model binding.</span></span>
- <span data-ttu-id="a4a4e-640">Связыватели моделей.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-640">Model binders.</span></span> <span data-ttu-id="a4a4e-641">Классы, реализующие IModelBinderProvider могут быть зарегистрированы в сопоставителе зависимостей, и система будет использовать их для создания модулей привязки модели, используемые системой привязки модели.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-641">Classes that implement IModelBinderProvider can be registered in the dependency resolver, and the system will use them to create model binders that are consumed by the model binding system.</span></span>

### <a id="0.1__Toc274034221"></a><span data-ttu-id="a4a4e-642">Новая поддержка ненавязчивого основе jQuery Ajax</span><span class="sxs-lookup"><span data-stu-id="a4a4e-642">New Support for Unobtrusive jQuery-Based Ajax</span></span>

<span data-ttu-id="a4a4e-643">ASP.NET MVC включает вспомогательные методы Ajax из следующего:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-643">ASP.NET MVC includes Ajax helper methods such as the following:</span></span>

- <span data-ttu-id="a4a4e-644">Ajax.ActionLink</span><span class="sxs-lookup"><span data-stu-id="a4a4e-644">Ajax.ActionLink</span></span>
- <span data-ttu-id="a4a4e-645">Ajax.RouteLink</span><span class="sxs-lookup"><span data-stu-id="a4a4e-645">Ajax.RouteLink</span></span>
- <span data-ttu-id="a4a4e-646">Ajax.BeginForm</span><span class="sxs-lookup"><span data-stu-id="a4a4e-646">Ajax.BeginForm</span></span>
- <span data-ttu-id="a4a4e-647">Ajax.BeginRouteForm</span><span class="sxs-lookup"><span data-stu-id="a4a4e-647">Ajax.BeginRouteForm</span></span>

<span data-ttu-id="a4a4e-648">Эти методы используют JavaScript для вызова метода действия на сервере, а не с помощью полной обратной передачи.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-648">These methods use JavaScript to invoke an action method on the server rather than using a full postback.</span></span> <span data-ttu-id="a4a4e-649">Эта функциональность была обновлена чтобы воспользоваться преимуществами jQuery ненавязчивого способом.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-649">This functionality has been updated to take advantage of jQuery in an unobtrusive manner.</span></span> <span data-ttu-id="a4a4e-650">Вместо того чтобы мешая основной работе раскрытием встроенные клиентские скрипты, эти вспомогательные методы разделения поведение из разметки с помощью выпуска атрибутов HTML5 с помощью *данных ajax* префикс.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-650">Rather than intrusively emitting inline client scripts, these helper methods separate the behavior from the markup by emitting HTML5 attributes using the *data-ajax* prefix.</span></span> <span data-ttu-id="a4a4e-651">Затем поведение применяется к разметке, ссылаясь на необходимые файлы JavaScript.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-651">Behavior is then applied to the markup by referencing the appropriate JavaScript files.</span></span> <span data-ttu-id="a4a4e-652">Убедитесь, что отсутствуют ссылки на следующие файлы JavaScript:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-652">Make sure that the following JavaScript files are referenced:</span></span>

- <span data-ttu-id="a4a4e-653">jquery-1.4.1.js</span><span class="sxs-lookup"><span data-stu-id="a4a4e-653">jquery-1.4.1.js</span></span>
- <span data-ttu-id="a4a4e-654">jQuery.unobtrusive.AJAX.js</span><span class="sxs-lookup"><span data-stu-id="a4a4e-654">jquery.unobtrusive.ajax.js</span></span>

<span data-ttu-id="a4a4e-655">Эта функция включена по умолчанию в файле Web.config в ASP.NET MVC 3 новых шаблонов проектов, но отключен по умолчанию для существующих проектов.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-655">This feature is enabled by default in the Web.config file in the ASP.NET MVC 3 new project templates, but is disabled by default for existing projects.</span></span> <span data-ttu-id="a4a4e-656">Дополнительные сведения см. в разделе [добавлено приложение флагов для клиентской проверки и ненавязчивого JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) далее в этом документе.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-656">For more information, see [Added application-wide flags for client validation and unobtrusive JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) later in this document.</span></span>

### <a id="0.1__Toc274034222"></a><span data-ttu-id="a4a4e-657">Новые средства поддержки ненавязчивого jQuery проверки</span><span class="sxs-lookup"><span data-stu-id="a4a4e-657">New Support for Unobtrusive jQuery Validation</span></span>

<span data-ttu-id="a4a4e-658">По умолчанию бета-версия ASP.NET MVC 3 использует проверки jQuery ненавязчивого образом для выполнения проверки на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-658">By default, ASP.NET MVC 3 Beta uses jQuery validation in an unobtrusive manner in order to perform client-side validation.</span></span> <span data-ttu-id="a4a4e-659">Чтобы включить ненавязчивой клиентской проверки, выполнить вызов как следующую команду в пределах представления:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-659">To enable unobtrusive client validation, make a call like the following from within a view:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample31.cs)]

<span data-ttu-id="a4a4e-660">Для этого необходимо, что свойство ViewContext.UnobtrusiveJavaScriptEnabled задано значение true, это можно сделать, выполнив следующий вызов:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-660">This requires that ViewContext.UnobtrusiveJavaScriptEnabled property is set to true, which you can do by making the following call:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample32.cs)]

<span data-ttu-id="a4a4e-661">Также убедитесь, что имеются следующие файлы JavaScript.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-661">Also make sure the following JavaScript files are referenced.</span></span>

- <span data-ttu-id="a4a4e-662">jquery-1.4.1.js</span><span class="sxs-lookup"><span data-stu-id="a4a4e-662">jquery-1.4.1.js</span></span>
- <span data-ttu-id="a4a4e-663">jQuery.Validate.js</span><span class="sxs-lookup"><span data-stu-id="a4a4e-663">jquery.validate.js</span></span>
- <span data-ttu-id="a4a4e-664">jQuery.Validate.unobtrusive.js</span><span class="sxs-lookup"><span data-stu-id="a4a4e-664">jquery.validate.unobtrusive.js</span></span>

<span data-ttu-id="a4a4e-665">Эта функция включена по умолчанию в файле Web.config в ASP.NET MVC 3 новых шаблонов проектов, но отключен по умолчанию для существующих проектов.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-665">This feature is enabled on by default in the Web.config file in the ASP.NET MVC 3 new project templates, but is disabled by default for existing projects.</span></span> <span data-ttu-id="a4a4e-666">Дополнительные сведения см. в разделе [нового приложения флагов для клиентской проверки и ненавязчивого JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) далее в этом документе.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-666">For more information, see [New application-wide flags for client validation and unobtrusive JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) later in this document.</span></span>

<a id="0.1__Toc274034223"></a>

### <a id="0.1_AddedApplicationWideFlagsForClientValida"></a><span data-ttu-id="a4a4e-667">Новые приложения флагов для клиентской проверки и ненавязчивого JavaScript</span><span class="sxs-lookup"><span data-stu-id="a4a4e-667">New Application-Wide Flags for Client Validation and Unobtrusive JavaScript</span></span>

<span data-ttu-id="a4a4e-668">Можно включить или отключить клиентская проверка и ненавязчивый JavaScript глобально с помощью статических членов класса HtmlHelper, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-668">You can enable or disable client validation and unobtrusive JavaScript globally using static members of the HtmlHelper class, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample33.cs)]

<span data-ttu-id="a4a4e-669">Шаблоны проектов по умолчанию включения ненавязчивого JavaScript по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-669">The default project templates enable unobtrusive JavaScript by default.</span></span> <span data-ttu-id="a4a4e-670">Кроме того, можно включить или отключить эти функции в файле Web.config приложения с помощью следующих параметров:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-670">You can also enable or disable these features in the root Web.config file of your application using the following settings:</span></span>

[!code-xml[Main](mvc3-release-notes/samples/sample34.xml)]

<span data-ttu-id="a4a4e-671">Так как эти возможности по умолчанию, в класс HtmlHelper, где можно переопределить параметры по умолчанию, как показано в следующих примерах появились новые перегрузки:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-671">Because you can enable these features by default, new overloads were introduced to the HtmlHelper class that let you override the default settings, as shown in the following examples:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample35.cs)]

<span data-ttu-id="a4a4e-672">Для обеспечения обратной совместимости оба эти функции по умолчанию отключены.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-672">For backward compatibility, both of these features are disabled by default.</span></span>

### <a id="0.1__Toc274034224"></a><span data-ttu-id="a4a4e-673">Новая поддержка код, выполняемый перед запуском представления</span><span class="sxs-lookup"><span data-stu-id="a4a4e-673">New Support for Code that Runs Before Views Run</span></span>

<span data-ttu-id="a4a4e-674">Теперь можно поместить в файл с именем \_viewstart.cshtml (или \_viewstart.vbhtml) в представлениях каталога и добавьте код, которые будут совместно использовать несколько представлений в этом каталоге и его подкаталогах.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-674">You can now put a file named \_viewstart.cshtml (or \_viewstart.vbhtml) in the Views directory and add code to it that will be shared among multiple views in that directory and its subdirectories.</span></span> <span data-ttu-id="a4a4e-675">Например, можно поместить следующий код в \_viewstart.cshtml страницы в папке ~/Views:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-675">For example, you might put the following code into the \_viewstart.cshtml page in the ~/Views folder:</span></span>

[!code-cshtml[Main](mvc3-release-notes/samples/sample36.cshtml)]

<span data-ttu-id="a4a4e-676">Задает страницу макета для каждого представления в папке «представления» и всем вложенным папкам рекурсивно.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-676">This sets the layout page for every view within the Views folder and all its subfolders recursively.</span></span> <span data-ttu-id="a4a4e-677">При представлении отображается код в \_viewstart.cshtml файл запускается до выполнения представления.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-677">When a view is being rendered, the code in the \_viewstart.cshtml file runs before the view code runs.</span></span> <span data-ttu-id="a4a4e-678">\_Viewstart.cshtml код применяется к каждому представлению в этой папке.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-678">The \_viewstart.cshtml code applies to every view in that folder.</span></span>

<span data-ttu-id="a4a4e-679">По умолчанию код в \_viewstart.cshtml файла также относится к представлениям в любой вложенной.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-679">By default, the code in the \_viewstart.cshtml file also applies to views in any subfolder.</span></span> <span data-ttu-id="a4a4e-680">Однако отдельные вложенные папки могут иметь собственную версию \_viewstart.cshtml файл; в том, что регистр, локальная версия имеет более высокий приоритет.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-680">However, individual subfolders can have their own version of the \_viewstart.cshtml file; in that case, the local version takes precedence.</span></span> <span data-ttu-id="a4a4e-681">Например, чтобы выполнить код, который является общим для всех представлений для HomeController, поместить \_viewstart.cshtml файл в папке ~/Views/Home.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-681">For example, to run code that is common to all views for the HomeController, put a \_viewstart.cshtml file in the ~/Views/Home folder.</span></span>

### <a id="0.1__Toc274034225"></a><span data-ttu-id="a4a4e-682">Новая поддержка синтаксиса Razor VBHTML</span><span class="sxs-lookup"><span data-stu-id="a4a4e-682">New Support for the VBHTML Razor Syntax</span></span>

<span data-ttu-id="a4a4e-683">Предыдущей предварительной версии ASP.NET MVC входит поддержка представления с использованием синтаксиса Razor, в зависимости от C#.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-683">The previous ASP.NET MVC preview included support for views using Razor syntax based on C#.</span></span> <span data-ttu-id="a4a4e-684">Эти представления позволяют использовать расширение файла .cshtml.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-684">These views use the .cshtml file extension.</span></span> <span data-ttu-id="a4a4e-685">В рамках выполняемой работы для поддержки Razor бета-версия ASP.NET MVC 3 добавлена поддержка синтаксиса Razor в Visual Basic, который использует расширение файла .vbhtml.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-685">As part of ongoing work to support Razor, the ASP.NET MVC 3 Beta introduces support for the Razor syntax in Visual Basic, which uses the .vbhtml file extension.</span></span>

<span data-ttu-id="a4a4e-686">Введение в синтаксис языка Visual Basic в VBHTML страниц см. в руководстве по следующему АДРЕСУ:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-686">For an introduction to using Visual Basic syntax in VBHTML pages, see the tutorial at the following URL:</span></span>

[<span data-ttu-id="a4a4e-687">https://www.asp.net/webmatrix/tutorials/asp-net-web-pages-visual-basic</span><span class="sxs-lookup"><span data-stu-id="a4a4e-687">https://www.asp.net/webmatrix/tutorials/asp-net-web-pages-visual-basic</span></span>](../web-pages/overview/getting-started/introducing-razor-syntax-vb.md)

### <a id="0.1__Toc274034226"></a><span data-ttu-id="a4a4e-688">Более точный контроль над ValidateInputAttribute</span><span class="sxs-lookup"><span data-stu-id="a4a4e-688">More Granular Control over ValidateInputAttribute</span></span>

<span data-ttu-id="a4a4e-689">ASP.NET MVC всегда включен класс ValidateInputAttribute, который вызывает базовой инфраструктуры проверки запроса ASP.NET важно убедиться, что входящий запрос не содержит потенциально опасные входные данные.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-689">ASP.NET MVC has always included the ValidateInputAttribute class, which invokes the core ASP.NET request validation infrastructure to make sure that the incoming request does not contain potentially malicious input.</span></span> <span data-ttu-id="a4a4e-690">По умолчанию включены проверки входных данных.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-690">By default, input validation is enabled.</span></span> <span data-ttu-id="a4a4e-691">Можно отключить проверку запросов с помощью атрибута ValidateInputAttribute, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-691">It is possible to disable request validation by using the ValidateInputAttribute attribute, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample37.cs)]

<span data-ttu-id="a4a4e-692">Тем не менее, многие веб-приложения имеют отдельные поля форм, необходимо разрешить HTML, пока оставшиеся поля, не следует.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-692">However, many web applications have individual form fields that need to allow HTML, while the remaining fields should not.</span></span> <span data-ttu-id="a4a4e-693">Класс ValidateInputAttribute теперь позволяет указать список полей, которые не должны быть включены в проверку запросов.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-693">The ValidateInputAttribute class now lets you specify a list of fields that should not be included in request validation.</span></span>

<span data-ttu-id="a4a4e-694">Например если вы разрабатываете механизмом поддержки блогов, может потребоваться разрешить разметки полей текста и Сводка.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-694">For example, if you are developing a blog engine, you might want to allow markup in the Body and Summary fields.</span></span> <span data-ttu-id="a4a4e-695">Эти поля могут быть представлены два входной элемент, каждый с атрибутом имя, соответствующее имени свойства («Тело» и «Сводка»).</span><span class="sxs-lookup"><span data-stu-id="a4a4e-695">These fields might be represented by two input element, each with a name attribute corresponding to the property name ("Body" and "Summary").</span></span> <span data-ttu-id="a4a4e-696">Чтобы отключить запрос проверки для этих полей, укажите имена (разделенных запятыми) в свойстве исключения класса ValidateInput, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-696">To disable request validation for these fields only, specify the names (comma-separated) in the Exclude property of the ValidateInput class, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample38.cs)]

### <a id="0.1__Toc274034227"></a><span data-ttu-id="a4a4e-697">Вспомогательные методы преобразовать символы подчеркивания дефисы для имен атрибутов HTML, заданные с помощью анонимных объектов</span><span class="sxs-lookup"><span data-stu-id="a4a4e-697">Helpers Convert Underscores to Hyphens for HTML Attribute Names Specified Using Anonymous Objects</span></span>

<span data-ttu-id="a4a4e-698">Вспомогательные методы позволяют указать пары имя/значение атрибута с помощью анонимный объект, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-698">Helper methods let you specify attribute name/value pairs using an anonymous object, as in the following example:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample39.cs)]

<span data-ttu-id="a4a4e-699">Такой подход не позволяет использовать дефисы в имени атрибута, поскольку дефис не может использоваться для имени свойства в ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-699">This approach doesn't let you use hyphens in the attribute name, because a hyphen cannot be used for a property name in ASP.NET.</span></span> <span data-ttu-id="a4a4e-700">Тем не менее дефисы, очень важны для настраиваемых атрибутов HTML5; Например HTML5 используется префикс «данные-».</span><span class="sxs-lookup"><span data-stu-id="a4a4e-700">However, hyphens are important for custom HTML5 attributes; for example, HTML5 uses the "data-" prefix.</span></span>

<span data-ttu-id="a4a4e-701">В то же время подчеркивания не может использоваться для имен атрибутов в формате HTML, но являются допустимыми в имена свойств.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-701">At the same time, underscores cannot be used for attribute names in HTML, but are valid within property names.</span></span> <span data-ttu-id="a4a4e-702">Таким образом Если указать атрибуты с помощью анонимного объекта и имена атрибутов содержит символ подчеркивания, вспомогательные методы Преобразует знаки подчеркивания дефисы.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-702">Therefore, if you specify attributes using an anonymous object, and if the attribute names include an underscore,, helper methods will convert the underscores to hyphens.</span></span> <span data-ttu-id="a4a4e-703">Например следующий синтаксис вспомогательный использует символ подчеркивания:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-703">For example, the following helper syntax uses an underscore:</span></span>

[!code-csharp[Main](mvc3-release-notes/samples/sample40.cs)]

<span data-ttu-id="a4a4e-704">Предыдущий пример следующей разметкой, при выполнении модуля поддержки:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-704">The previous example renders the following markup when the helper runs:</span></span>

[!code-html[Main](mvc3-release-notes/samples/sample41.html)]

## <a id="0.1__Toc274034228"></a><span data-ttu-id="a4a4e-705">Исправления ошибок</span><span class="sxs-lookup"><span data-stu-id="a4a4e-705">Bug Fixes</span></span>

<span data-ttu-id="a4a4e-706">Шаблон объекта по умолчанию для шаблона помощников EditorFor и DisplayFor теперь поддерживает упорядочение, указанный в свойстве DisplayAttribute.Order.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-706">The default object template for the EditorFor and DisplayFor template helpers now supports the ordering specified in the DisplayAttribute.Order property.</span></span> <span data-ttu-id="a4a4e-707">(В предыдущих версиях параметр Order не использовалась.)</span><span class="sxs-lookup"><span data-stu-id="a4a4e-707">(In previous versions, the Order setting was not used.)</span></span>

<span data-ttu-id="a4a4e-708">Клиентская проверка теперь поддерживает проверку переопределенных свойств, имеющих применения атрибутов проверки.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-708">Client validation now supports validation of overridden properties that have validation attributes applied.</span></span>

<span data-ttu-id="a4a4e-709">JsonValueProviderFactory зарегистрирован по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-709">JsonValueProviderFactory is now registered by default.</span></span>

## <a id="0.1__Toc274034229"></a><span data-ttu-id="a4a4e-710">Критические изменения</span><span class="sxs-lookup"><span data-stu-id="a4a4e-710">Breaking Changes</span></span>

<span data-ttu-id="a4a4e-711">Фильтры исключений, которые имеют одно и то же значение порядка изменился порядок выполнения фильтров исключений.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-711">The order of execution for exception filters has changed for exception filters that have the same Order value.</span></span> <span data-ttu-id="a4a4e-712">В ASP.NET MVC 2 и более ранних версий как те, в методе действия выполнялись перед фильтрами исключений в методе действия на контроллере с одинаковым порядком фильтры исключения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-712">In ASP.NET MVC 2 and earlier, exception filters on the controller with the same Order as those on an action method were executed before the exception filters on the action method.</span></span> <span data-ttu-id="a4a4e-713">Это обычно будет иметь место при без указанного значения порядка примененные фильтры исключений.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-713">This would typically be the case when exception filters were applied without a specified Order value.</span></span> <span data-ttu-id="a4a4e-714">В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-714">In ASP.NET MVC 3, this order has been reversed so that the most specific exception handler executes first.</span></span> <span data-ttu-id="a4a4e-715">Как в более ранних версиях Если свойство Order явно не указан, фильтры выполняются в указанном порядке.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-715">As in earlier versions, if the Order property is explicitly specified, the filters are run in the specified order.</span></span>

## <a id="0.1__Toc274034230"></a><span data-ttu-id="a4a4e-716">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="a4a4e-716">Known Issues</span></span>

<span data-ttu-id="a4a4e-717">Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, которое меньше, чем планировалось.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-717">During installation, the EULA acceptance dialog box displays the license terms in a window that is smaller than intended.</span></span>

<span data-ttu-id="a4a4e-718">Поддержка IntelliSense и выделение синтаксиса не представлений Razor не имеют.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-718">Razor views do not have IntelliSense support nor syntax highlighting.</span></span> <span data-ttu-id="a4a4e-719">Предполагается, что поддержку синтаксиса Razor в Visual Studio, будут включены в более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-719">It is anticipated that support for Razor syntax in Visual Studio will be included as part of a later release.</span></span>

<span data-ttu-id="a4a4e-720">При изменении представления Razor (CSHTML-файл), <a id="0.1__Toc224729061"> </a> <a id="0.1__Toc238051347"> </a> перейдите к контроллера пункта меню в Visual Studio будет недоступен и существуют не фрагментов кода.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-720">When you are editing a Razor view (CSHTML file), the <a id="0.1__Toc224729061"></a><a id="0.1__Toc238051347"></a> Go To Controller menu item in Visual Studio will not be available, and there are no code snippets.</span></span>

<span data-ttu-id="a4a4e-721">При использовании @model Просмотр синтаксис для указания строго типизированные CSHTML, зависящие от языка сочетания клавиш для типов не распознаются.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-721">When using the @model syntax to specify a strongly typed CSHTML view, language-specific shortcuts for types are not recognized.</span></span> <span data-ttu-id="a4a4e-722">Например @model int не будет работать, но @model Int32 будет работать.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-722">For example, @model int will not work, but @model Int32 will work.</span></span> <span data-ttu-id="a4a4e-723">Обходной путь для этой ошибки является использование текущее имя типа, при указании типа модели.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-723">The workaround for this bug is to use the actual type name when you specify the model type.</span></span>

<span data-ttu-id="a4a4e-724">При использовании @model синтаксис для указания строго типизированного представления CSHTML (или @ModelType для указания строго типизированного представления VBHTML), допускающие значение NULL типы и объявлениях массивов не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-724">When using the @model syntax to specify a strongly typed CSHTML view (or @ModelType to specify a strongly typed VBHTML view), nullable types and array declarations are not supported.</span></span> <span data-ttu-id="a4a4e-725">Например @model int? не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-725">For example, @model int? is not supported.</span></span> <span data-ttu-id="a4a4e-726">Вместо этого используйте `@model Nullable<Int32>`.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-726">Instead, use `@model Nullable<Int32>`.</span></span> <span data-ttu-id="a4a4e-727">Синтаксис @model string [], не поддерживается; вместо этого используйте `@model IList<string>`.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-727">The syntax @model string[] is also not supported; instead, use `@model IList<string>`.</span></span>

<span data-ttu-id="a4a4e-728">При обновлении проекта ASP.NET MVC 2 до ASP.NET MVC 3, убедитесь, что добавьте следующий раздел appSettings файла Web.config:</span><span class="sxs-lookup"><span data-stu-id="a4a4e-728">When you upgrade an ASP.NET MVC 2 project to ASP.NET MVC 3, make sure to add the following to the appSettings section of the Web.config file:</span></span>

[!code-xml[Main](mvc3-release-notes/samples/sample42.xml)]

<span data-ttu-id="a4a4e-729">Имеется известная проблема, которая вызывает проверку подлинности форм для перенаправления непроверенных пользователей всегда ~/Account или имя входа, без учета параметра форм проверки подлинности, используемого в файле Web.config. Решение — добавить следующий параметр приложения.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-729">There's a known issue that causes Forms Authentication to always redirect unauthenticated users to ~/Account/Login, ignoring the forms authentication setting used in Web.config. The workaround is to add the following app setting.</span></span>

[!code-xml[Main](mvc3-release-notes/samples/sample43.xml)]

## <a id="0.1__Toc274034231"></a><span data-ttu-id="a4a4e-730">Отказ от ответственности</span><span class="sxs-lookup"><span data-stu-id="a4a4e-730">Disclaimer</span></span>

<span data-ttu-id="a4a4e-731">© Корпорация Майкрософт, 2011.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-731">© 2011 Microsoft Corporation.</span></span> <span data-ttu-id="a4a4e-732">Все права защищены.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-732">All rights reserved.</span></span> <span data-ttu-id="a4a4e-733">Данный документ предоставляется «как-—.»</span><span class="sxs-lookup"><span data-stu-id="a4a4e-733">This document is provided "as-is."</span></span> <span data-ttu-id="a4a4e-734">Сведения и мнения, содержащиеся в этом документе, включая URL-адреса и ссылки на другие веб-сайта, могут изменяться без предварительного уведомления.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-734">Information and views expressed in this document, including URL and other Internet Web site references, may change without notice.</span></span> <span data-ttu-id="a4a4e-735">Вы принимаете на себя весь риск, связанный с его использованием.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-735">You bear the risk of using it.</span></span>

<span data-ttu-id="a4a4e-736">Этот документ не предоставляет вам каких-либо юридических прав интеллектуальной собственности на какие-либо продукты Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-736">This document does not provide you with any legal rights to any intellectual property in any Microsoft product.</span></span> <span data-ttu-id="a4a4e-737">Вы можете копировать и использовать этот документ для внутренних справочных целей.</span><span class="sxs-lookup"><span data-stu-id="a4a4e-737">You may copy and use this document for your internal, reference purposes.</span></span>
