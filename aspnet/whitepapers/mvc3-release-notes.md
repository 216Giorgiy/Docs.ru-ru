---
uid: whitepapers/mvc3-release-notes
title: "ASP.NET MVC 3 | Документы Microsoft"
author: rick-anderson
description: 
ms.author: aspnetcontent
manager: wpickett
ms.date: 10/06/2010
ms.topic: article
ms.assetid: f44c166e-7e91-48a0-a6f8-d9285f3594e5
ms.technology: 
ms.prod: .net-framework
msc.legacyurl: /whitepapers/mvc3-release-notes
msc.type: content
ms.openlocfilehash: c1fa5d31f68b44bfdfda61c870a6825eeba18647
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/24/2018
---
<a name="aspnet-mvc-3"></a>ASP.NET MVC 3
====================
- [Обзор набора средств Visual Studio для Unity](#overview)
- [Замечания по установке](#installation-notes)
- [Требования к программному обеспечению](#software-requirements)
- [Документация](#documentation)
- [Поддержка](#support)
- [Обновление проекта ASP.NET MVC 2 до ASP.NET MVC 3 Tools обновления](#upgrading)
- [Обновление средств ASP.NET MVC 3 (12 апреля 2011 г.)](#tu-changes)

    - [Диалоговое окно «Добавление контроллера» теперь позволяет формировать контроллеры с кодом доступа к представлениям и данных](#tu-AddControllerDialog)
    - [Усовершенствования «ASP.NET MVC 3 новый проект» диалоговое окно](#tu-ImprovementsNewDialogBox)
    - [Шаблоны проектов добавлена платформа Modernizr 1.7](#tu-Modernizr)
    - [Шаблоны проектов включены обновленные версии jQuery, jQuery UI и jQuery проверки](#tu-UpdatedJQuery)
    - [Шаблоны проектов добавлена платформа ADO.NET Entity Framework 4.1 в виде предустановленного пакета NuGet](#tu-EF)
    - [Шаблоны проектов включены библиотеки JavaScript в виде предустановленных пакетов NuGet](#tu-JavaScriptLibsNuget)
    - [Известные проблемы](#tu-KI)
- [ASP.NET MVC 3 RTM (13 января 2011 г.)](#MVC3RTM)

    - [Изменение: Обновленную версию jQuery UI для 1.8.7](#RTM-1)
    - [Изменение: Изменить значение по умолчанию ModelMetadataProvider обратно в DataAnnotationsModelMetadataProvider](#RTM-2)
    - [Исправлена ошибка: Вставка части выражения Razor, содержащий результаты пробелов в нем выполняется в обратном направлении](#RTM-3)
    - [Исправлена ошибка: Переименование файла Razor, который открыт в редакторе отключает окрашивание синтаксиса и технологию IntelliSense](#RTM-4)
    - [Известные проблемы](#RTM-KI)
    - [Критические изменения](#RTM-BC)
- [ASP.NET MVC 3 версии-кандидата 2 (10 декабря 2010 г.)](#_Toc2)

    - [Изменения шаблонов проекта для включения jQuery 1.4.4 1.7 проверки jQuery и jQuery UI 1.8.6y 1.8.6 пользовательского интерфейса](#_Toc2_1)
    - [Класс добавлены «AdditionalMetadataAttribute»](#_Toc2_2)
    - [Улучшенное представление формирования шаблонов](#_Toc2_3)
    - [Добавленный метод Html.Raw](#_Toc2_3)
    - [Свойство переименовано «Controller.ViewModel» и «Представление» значение «ViewBag»](#_Toc2_4)
    - [Переименованные «ControllerSessionStateAttribute» класс «SessionStateAttribute»](#_Toc2_5)
    - [Переименованный RemoteAttribute «Fields» значение «AdditionalFields»](#_Toc2_6)
    - [Переименовать «SkipRequestValidationAttribute» на «AllowHtmlAttribute»](#_Toc2_7)
    - [Метод измененные «Html.ValidationMessage» для отображения первой полезные сообщения об ошибке](#_Toc2_8)
    - [Фиксированный @model объявления, чтобы не добавлять пробелы в документ](#_Toc2_9)
    - [Свойство добавлено «FileExtensions» для обработчиков представлений для поддержки имен файлов запускаемых](#_Toc2_10)
    - [Вспомогательный метод фиксированный «LabelFor» для порождения правильное значение для атрибута «For»](#_Toc2_11)
    - [Метод фиксированный «RenderAction», чтобы предоставить явные значения приоритета во время привязки модели](#_Toc2_12)
    - [Критические изменения](#_Toc2_BC)
    - [Известные проблемы](#_Toc2_KI)
- [ASP.NET MVC 3 версии-кандидата (9 ноября 2010 г.)](#TOC_ASP_NET_3_RC)

    - [Новые возможности в версии-Кандидате ASP.NET MVC 3](#_Toc276711785)
    - [Диспетчер пакетов NuGet](#_Toc276711786)
    - [Улучшенная «Новый проект» диалоговое окно](#_Toc276711787)
    - [Контроллеры sessionless](#_Toc276711788)
    - [Новые атрибуты проверки](#_Toc276711789)
    - [Новые перегрузки для методов «LabelForModel» и «LabelFor»](#_Toc276711790)
    - [Дочернее действие кэширования выходных данных](#_Toc276711791)
    - [«Добавление представления» улучшения диалоговых окон](#_Toc276711792)
    - [Гранулярная проверка запросов](#_Toc276711793)
    - [Критические изменения](#_Toc276711794)
    - [Известные проблемы](#_Toc276711795)
- [ASP. Бета-версии MVC 3 заметках о (6 октября 2010 г.)](#TOC_ASP_NET_3_Beta)

    - [Новые возможности в бета-версии ASP.NET MVC 3](#0.1__Toc274034215)
    - [Диспетчер пакетов NuPack](#0.1__Toc274034216)
    - [Улучшенное диалоговое окно нового проекта](#0.1__Toc274034217)
    - [Упрощенный способ указания строго типизированного моделей в представлений Razor](#0.1__Toc274034218)
    - [Поддержка новых веб-страниц ASP.NET вспомогательные методы](#0.1__Toc274034219)
    - [Поддержка внедрения дополнительных зависимостей](#0.1__Toc274034220)
    - [Новая поддержка ненавязчивого основе jQuery Ajax](#0.1__Toc274034221)
    - [Новые средства поддержки ненавязчивого jQuery проверки](#0.1__Toc274034222)
    - [Новые приложения флагов для клиентской проверки и ненавязчивого JavaScript](#0.1__Toc274034223)
    - [Новая поддержка код, выполняемый перед запуском представления](#0.1__Toc274034224)
    - [Новая поддержка синтаксиса Razor VBHTML](#0.1__Toc274034225)
    - [Более точный контроль над ValidateInputAttribute](#0.1__Toc274034226)
    - [Вспомогательные методы преобразовать символы подчеркивания дефисы для имен атрибутов HTML, заданные с помощью анонимных объектов](#0.1__Toc274034227)
    - [Исправления ошибок](#0.1__Toc274034228)
    - [Критические изменения](#0.1__Toc274034229)
    - [Известные проблемы](#0.1__Toc274034230)
- [Disclaimer](#0.1__Toc274034231)

<a id="overview"></a>
## <a name="overview"></a>Обзор

В этом документе описывается выпуск ASP.NET MVC 3 RTM для Visual Studio 2010. ASP.NET MVC — это платформа для разработки веб-приложений, который использует шаблон Model-View-Controller (MVC). Установщик ASP.NET MVC 3 содержит следующие компоненты:

- Компоненты среды выполнения ASP.NET MVC 3
- Средства ASP.NET MVC 3 Visual Studio 2010
- Компоненты времени выполнения веб-страниц ASP.NET
- Инструменты Visual Studio 2010 веб-страниц ASP.NET
- Диспетчер пакетов Майкрософт для .NET (NuGet)
- Обновление для Visual Studio 2010, которая обеспечивает поддержку синтаксиса Razor. (Сведения см. в статье базы знаний 2483190.)

Полный набор заметок о выпуске для каждой предварительной версии ASP.NET MVC 3 можно найти на веб-сайте ASP.NET по следующему АДРЕСУ:

https://www.asp.net/learn/whitepapers/mvc3-release-notes

<a id="installation-notes"></a>
## <a name="installation-notes"></a>Замечания по установке

Чтобы установить ASP.NET MVC 3 RTM с помощью установщика веб-платформы (Web PI), посетите следующую страницу:

[https://www.microsoft.com/web/gallery/install.aspx?appid=MVC3](https://www.microsoft.com/web/gallery/install.aspx?appid=MVC3)

Кроме того можно загрузить установщик для ASP.NET MVC 3 RTM для Visual Studio 2010 на следующей странице:

https://go.microsoft.com/fwlink/?LinkID=208140

ASP.NET MVC 3 можно установить и выполнять side-by-side с ASP.NET MVC 2.

<a id="software-requirements"></a>
## <a name="software-requirements"></a>Требования к программному обеспечению

Компоненты времени выполнения ASP.NET MVC 3 требуется следующее программное обеспечение:

- .NET framework версии 4. 

    Средства ASP.NET MVC 3 Visual Studio 2010 требуется следующее программное обеспечение:
- Visual Studio 2010 или Visual Web Developer 2010 Express.

<a id="documentation"></a>
## <a name="documentation"></a>Документация

Документация по ASP.NET MVC доступна на веб-сайте MSDN по АДРЕСУ:

[https://go.microsoft.com/fwlink/?LinkId=205717](https://go.microsoft.com/fwlink/?LinkId=205717)

Учебники и другие сведения о ASP.NET MVC доступны на странице MVC ASP.NET веб-сайта по следующему АДРЕСУ:

[https://www.asp.net/mvc/](../mvc/index.md)

<a id="support"></a>
## <a name="support"></a>Поддержка

Это выпуск полностью поддерживается. Сведения о получении технической поддержки можно найти в [сайте технической поддержки Майкрософт](https://support.microsoft.com/).

Также вы можете задать вопросы об этом выпуске на форуме ASP.NET MVC, где члены сообщества ASP.NET друг другу, предоставляя полезные сведения:

[https://forums.asp.net/1146.aspx](https://forums.asp.net/1146.aspx)

<a id="upgrading"></a>
## <a name="upgrading-an-aspnet-mvc-2-project-to-aspnet-mvc-3-tools-update"></a>Обновление проекта ASP.NET MVC 2 до ASP.NET MVC 3 Tools обновления

ASP.NET MVC 3 можно установить параллельно с ASP.NET MVC 2 на том же компьютере, что обеспечивает гибкость в выборе при обновлении приложения ASP.NET MVC 2 до ASP.NET MVC 3.

Чтобы вручную обновить существующее приложение ASP.NET MVC 2 до версии 3, выполните следующие действия:

1. Создайте новый пустой проект ASP.NET MVC 3 на компьютере. Этот проект будет содержать некоторые файлы, которые необходимы для обновления.
2. Скопируйте следующие файлы из проекта ASP.NET MVC 3 в папку проекта ASP.NET MVC 2. Необходимо обновить все ссылки на библиотеку jQuery с учетом нового имени файла (jQuery-1.5.1.js): 

    - /Views/Web.config
    - /packages.config
    - отличающиеся от принятых\*.js
    - /Content/themes/\*.\*
3. Копировать *пакетов* папок в корне пустое решение проект ASP.NET MVC 3 в корневой папке решения, который находится в каталоге, где размещен SLN-файл решения.
4. Если проект ASP.NET MVC 2 содержит все области, скопируйте файл /Views/Web.config в папку *представления* папку для каждой области.
5. В обоих файлах Web.config в проекте ASP.NET MVC 2 глобальный поиск и замените версию ASP.NET MVC. Найти следующее: 

    [!code-console[Main](mvc3-release-notes/samples/sample1.cmd)]

    Замените его следующим кодом:

    [!code-console[Main](mvc3-release-notes/samples/sample2.cmd)]
6. В обозревателе решений удалите ссылку на *System.Web.Mvc* (какие указывает на библиотеку DLL из версии 2), затем добавьте ссылку на *System.Web.Mvc* (v3.0.0.0).
7. Добавьте ссылку на System.Web.WebPages.dll и System.Web.Helpers.dll. Эти сборки расположены в следующих папках: 

    - %ProgramFiles%\ Microsoft ASP.NET\ASP.NET 3\Assemblies MVC
    - %ProgramFiles%\ Pages\v1.0\Assemblies Microsoft ASP.NET\ASP.NET Web
8. В обозревателе решений щелкните правой кнопкой мыши имя проекта и выберите команду Выгрузить проект. Затем щелкните правой кнопкой мыши имя проекта и выберите изменение, *ProjectName*CSPROJ-файл.
9. Найдите *ProjectTypeGuids* и замените {F85E285D-A4E0-4152-9332-AB1D724D3325} на {E53F8FEA-EAE0-44A6-8774-FFD645390401}.
10. Сохранить изменения, щелкните правой кнопкой мыши проект и выберите команду перезагрузить проект.
11. В корневом файле Web.config приложения, добавьте следующие параметры, чтобы *сборки* раздела. 

    [!code-xml[Main](mvc3-release-notes/samples/sample3.xml)]
12. Если проект ссылается на все библиотеки сторонних разработчиков, которые компилируются с помощью ASP.NET MVC 2, добавьте следующие выделяются *bindingRedirect* элемент в файл Web.config в корне приложения  *Конфигурация* раздела: 

    [!code-xml[Main](mvc3-release-notes/samples/sample4.xml)]

<a id="tu-changes"></a>
## <a name="changes-in-aspnet-mvc-3-tools-update"></a>Обновление средств изменения в ASP.NET MVC 3

В этом разделе описаны изменения, внесенные в выпуске обновления средств ASP.NET MVC 3 с момента выпуска ASP.NET MVC 3 RTM.

<a id="tu-AddControllerDialog"></a>
### <a name="add-controller-dialog-box-can-now-scaffold-controllers-with-views-and-data-access-code"></a>Диалоговое окно «Добавление контроллера» теперь позволяет формировать контроллеры с кодом доступа к представлениям и данных

Формирование шаблонов — это быстрый способ формирования контроллеров и представления для вашего приложения. После создания кода можно изменить его в соответствии с требованиями проекта.

Для запуска *добавления контроллера* диалоговое окно в ASP.NET MVC 3, щелкните правой кнопкой мыши *контроллеров* папки в *обозревателе решений*, нажмите кнопку *добавить*, а затем нажмите кнопку *контроллера*. Диалоговое окно улучшен предлагать дополнительные параметры формирования шаблонов.

![](mvc3-release-notes/_static/image1.png)

Доступны три шаблона по умолчанию.

#### <a name="empty-controller"></a>Пустой контроллер

Этот шаблон создает пустой файл контроллера. Этот шаблон является эквивалентом не проверяет *добавить действия для создания, редактирования и сведений, удалите сценарии* в предыдущих версиях ASP.NET MVC. При выборе данного шаблона другие параметры доступны.

#### <a name="controller-with-empty-readwrite-actions"></a>Контроллер с действиями пустой чтения и записи

Этот шаблон создает файл контроллера, который содержит все необходимые методами, но без реализации их кода в методы. Этот шаблон аналогичен установленному флажку *добавить действия для создания, редактирования и сведений, удалите сценарии* в предыдущих версиях ASP.NET MVC. При выборе данного шаблона другие параметры доступны.

#### <a name="controller-with-readwrite-actions-and-views-using-entity-framework"></a>Контроллер с действиями чтения и записи и представлениями, использующий Entity Framework

Этот шаблон позволяет быстро создавать пользовательский интерфейс рабочего ввода данных. Он создает код, обрабатывающий ряд общих требований и сценариев, таких как следующие:

- *Доступ к данным*. Созданный код считывает и записывает сущности в базе данных. Он работает с использованием подхода Entity Framework Code First, если выбрать существующий класс контекста данных или позволить шаблону создать новый *DbContext* класса. Она также работает с использованием подхода Entity Framework Database First или Model First, если выбрать существующую *ObjectContext* класса.
- *Проверка*. Созданный код использует привязки модели ASP.NET MVC и функции метаданных, чтобы отправки форм проверяются в соответствии с правилами, объявленными в классе модели. Это включает в себя встроенные правила проверки, такие как *необходимые* и *StringLength* атрибуты и пользовательские правила проверки.
- *Один ко многим связи*. Если вы определили один ко многим связей по внешнему ключу между классами модели, созданный код сформирует раскрывающиеся списки для выбора связанных сущностей. Например можно определить следующие классы модели Entity Framework Code First соглашения: 

    [!code-csharp[Main](mvc3-release-notes/samples/sample5.cs)]

    При формировании шаблона контроллера для *продукта* класса, его представления позволяют пользователям выбирать *категории* объекта для каждого *продукта* экземпляра.

    Этот шаблон предоставляет дополнительные возможности для *добавить контроллер* диалоговое окно. Для *класс модели*, можно выбрать любой класс модели в вашем решении, который определяет тип данных, которые пользователи смогут для создания или изменения:
- Если вы хотите использовать Entity Framework Code First, можно выбрать любой класс модели.
- При использовании Entity Framework Database First или Entity Framework Model First, не забудьте выбрать класс сущности, определенный в концептуальной модели.

Для *класс контекста данных*, можно выбрать следующие параметры:

- Если вы хотите использовать Code First и не имеют существующие данные контекста класса, выберите  *&lt;новый контекст данных... &gt;*". Класс контекста данных создается автоматически.
- Если вы хотите использовать Code First и класса контекста данных, то выберите его. Обновляется для выбранного класса модели.
- При использовании Database First или Model First выберите класс контекста объекта.

Для представлений выберите модуль просмотра, который вы хотите использовать, или параметр Нет, если не требуется формировать представления.

Можно выбрать дополнительные Optionsto указания дополнительных параметров сформированных представлений. Например можно выбрать макет или главную страницу.

<a id="tu-ImprovementsNewDialogBox"></a>
### <a name="improvements-to-the-aspnet-mvc-3-new-project-dialog-box"></a>Усовершенствования «ASP.NET MVC 3 новый проект» диалоговое окно

Диалоговое окно, используемого для создания новых проектов ASP.NET MVC 3 содержит множество улучшений, указанных ниже.

![](mvc3-release-notes/_static/image2.png)

#### <a name="new-intranet-project-template"></a>Новый шаблон «Проект интрасети»

В списке шаблон проекта включает новый шаблон приложение интрасети. Этот шаблон содержит параметры для создания веб-приложения, используя проверку подлинности Windows вместо проверки подлинности форм. Так как приложения интрасети требуются некоторые параметры IIS, которые нельзя инкапсулировать в шаблоне проекта, шаблон включает файл readme с инструкциями по шаблона работы со службами IIS. Документация по новому шаблону приложение интрасети доступно на веб-сайте MSDN по АДРЕСУ:

[https://msdn.microsoft.com/library/gg703322(VS.98).aspx](https://msdn.microsoft.com/library/gg703322(VS.98).aspx)

#### <a name="project-templates-are-now-html5-enabled"></a>Шаблоны проектов теперь поддерживают HTML5

Диалоговое окно нового проекта теперь содержит параметр для добавления функций HTML5 в шаблоны проектов. При выборе параметра вызывает будут созданы представления, содержащие новые HTML5  *&lt;заголовок&gt;*,  *&lt;нижний колонтитул&gt;*, и  *&lt;навигации&gt;*  элементов.

Обратите внимание, что более ранние версии браузеров не поддерживают теги HTML5. Чтобы устранить это ограничение, шаблоны проектов HTML5 содержат ссылку на библиотеку Modernizr. (См. следующий раздел).

<a id="tu-Modernizr"></a>
### <a name="project-templates-now-include-modernizr-17"></a>Шаблоны проектов добавлена платформа Modernizr 1.7

Modernizr — это библиотека JavaScript, которая обеспечивает поддержку CSS 3 и HTML5 в браузерах, которые пока не поддерживает эти возможности. Эта библиотека включена как предварительно установленный пакет NuGet в шаблонах для проектов ASP.NET MVC 3. Дополнительные сведения о библиотеке Modernizr см. в разделе [http://www.modernizr.com/](http://www.modernizr.com/).

<a id="tu-UpdatedJQuery"></a>
### <a name="project-templates-include-updated-versions-of-jquery-jquery-ui-and-jquery-validation"></a>Шаблоны проектов включены обновленные версии jQuery, jQuery UI и jQuery проверки

Шаблоны проектов теперь содержат следующие версии скриптов jQuery:

- 1.5.1 jQuery
- jQuery Validation 1.8
- jQuery UI 1.8.11.

Эти библиотеки включены в виде предустановленных пакетов NuGet.

<a id="tu-EF"></a>
### <a name="project-templates-now-include-adonet-entity-framework-41-as-a-pre-installed-nuget-package"></a>Шаблоны проектов добавлена платформа ADO.NET Entity Framework 4.1 в виде предустановленного пакета NuGet

ADO.NET Entity Framework 4.1 включает возможность Code First. Код сначала — это новый шаблон разработки для платформы Entity Framework ADO.NET, который представляет собой альтернативу существующим шаблонам Database First и Model First.

Code First предназначен для определения модели с помощью классов POCO («старые объекты CLR») на языке Visual Basic или C#. Эти классы затем можно сопоставить с существующей базы данных или использовать для создания схемы базы данных. Дополнительные настройки можно указать с помощью *DataAnnotations* атрибуты или интерфейсов API.

Документацию по использованию кода Firstwith ASP.NET MVC доступна на веб-сайте ASP.NET по следующим URL-адресам:

[https://www.asp.net/mvc/tutorials/getting-started-with-mvc3-part1-cs](../mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) [https://www.asp.net/entity-framework/tutorials/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application](../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)

<a id="tu-JavaScriptLibsNuget"></a>
### <a name="project-templates-include-javascript-libraries-as-pre-installed-nuget-packages"></a>Шаблоны проектов включены библиотеки JavaScript в виде предустановленных пакетов NuGet

При создании нового проекта ASP.NET MVC 3, проект включает файлы JavaScript, указанные ранее (например, библиотеку Modernizr), которые устанавливаются с помощью NuGet вместо непосредственного добавления скриптов в папку Scripts шаблона проекта содержимое. Это позволяет использовать NuGet для обновления скриптов до последней версии при выходе новых версий скриптов.

Например учитывая частоту новых выпусков jQuery, версии jQuery, включенная в шаблон проекта в определенный момент будет устарела. Тем не менее поскольку jQuery включен как устанавливаемый пакет NuGet, вы получите уведомление в диалоговом окне NuGet появлении новых версий jQuery.

Так как номер версии jQuery содержится в имени файла, при обновлении jQuery до последней версии также требуется обновить  *&lt;сценарий&gt;*  тег, который ссылается на файл jQuery с указанием нового имени файла. Другие включенные библиотеки скриптов не входят: номер версии в имени скрипта, поэтому их можно легко обновить до последних версий.

<a id="tu-KI"></a>
## <a name="known-issues"></a>Известные проблемы

- В некоторых случаях установка может завершиться сбоем с ошибка сообщение «сбой установки с кодом ошибки (0x80070643)». Сведения о способах решения этой проблемы см. в разделе [статье базы знаний 2531566](https://support.microsoft.com/kb/2531566).
- Формирование шаблонов для добавления контроллера не формируются сущности, которые используют преимущества поддержки наследования сущностей в платформе Entity Framework. Например, если базовый *лицо* класс, от которого наследует *студента* класса формирование шаблонов *студента* класс приведет к создаваемый код, который не компилируется.
- Создание нового проекта ASP.NET MVC 3 в папке решения причины *NullReferenceException* ошибки. Это решение подходит для создания проекта ASP.NET MVC 3 в корень решения и затем переместить его в папке решения.
- IntelliSense для синтаксиса Razor не работает, если установлен ReSharper. Если установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3, см. в записи [Razor Intellisense и ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хэйди Hariri которой обсуждается совместное использование этих компонентов.
- Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, которое меньше, чем планировалось.
- При редактировании представления Razor (.cshtml или. *vbhtml* файл), представления. ASP.NET MVC 3 не включает фрагменты для представлений Razor... фрагмент кода для ASP.NET MVC aspxselecting отображаются
- Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютере, где не установлена среда Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3. Visual Studio и Visual Web Developer Express совместно использовать компоненты, обновленные установщиком ASP.NET MVC 3. То же самое касается при установке ASP.NET MVC 3 для Visual Studio на компьютере, который не содержит Visual Web Developer Express, а затем установить Visual Web Developer, экспресс-выпуск.

<a id="MVC3RTM"></a>
## <a name="changes-in-aspnet-mvc-3-rtm"></a>Изменения в ASP.NET MVC 3 RTM

В этом разделе описаны изменения и исправления ошибок в выпуске ASP.NET MVC 3 RTM, выполненных с момента выпуска версии-кандидата 2.

<a id="RTM-1"></a>
### <a name="change-updated-the-version-of-jquery-ui-to-187"></a>Изменение: Обновленную версию jQuery UI для 1.8.7

Шаблоны проектов ASP.NET MVC для Visual Studio были добавлены последнюю версию библиотеки jQuery UI. Шаблоны также содержат минимальный набор файлов ресурсов, необходимых для jQuery UI, таких как связанные CSS и файлы изображений.

<a id="RTM-2"></a>
### <a name="change-changed-the-default-modelmetadataprovider-back-to-dataannotationsmodelmetadataprovider"></a>Изменение: Изменить значение по умолчанию ModelMetadataProvider обратно в DataAnnotationsModelMetadataProvider

В выпуске версии-кандидата 2 появилась в ASP.NET MVC 3 *CachedDataAnnotationsMetadataProvider* класс, который предоставлен кэширования на базе существующей *DataAnnotationsModelMetadataProvider* классов как Повышение производительности. Тем не менее, некоторые ошибки поступили с этой реализацией, чтобы отменить изменение и переместить в проект MVC фьючерсов, находящейся на [Интернет-стек любви ASP.NET](https://github.com/aspnet/AspNetWebStack).

<a id="RTM-3"></a>
### <a name="fixed-pasting-part-of-a-razor-expression-that-contains-whitespace-results-in-it-being-reversed"></a>Исправлена ошибка: Вставка части выражения Razor, содержащий результаты пробелов в нем выполняется в обратном направлении

В предварительных версиях ASP.NET MVC 3 при вставке элемента Razor выражение, которое содержит пробелы в файле Razor, результирующее выражение меняется на противоположный. Например рассмотрим следующий блок кода Razor.

[!code-cshtml[Main](mvc3-release-notes/samples/sample6.cshtml)]

Если вы выберите текст «первый param» в первый метод и вставьте его в качестве аргумента в второй метод, результатом является следующим образом:

[!code-cshtml[Main](mvc3-release-notes/samples/sample7.cshtml)]

Правильное поведение — что операции вставки следует привести следующие:

[!code-cshtml[Main](mvc3-release-notes/samples/sample8.cshtml)]

Эта проблема исправлена в RTM-версии таким образом, выражение правильно сохранены во время операции вставки.

<a id="RTM-4"></a>
### <a name="fixed-renaming-a-razor-file-that-is-opened-in-the-editor-disables-syntax-colorization-and-intellisense"></a>Исправлена ошибка: Переименование файла Razor, который открыт в редакторе отключает окрашивание синтаксиса и технологию IntelliSense

Переименование файла Razor с помощью обозревателя решений, пока файл открыт в окне редактора вызывает выделение синтаксиса и технологию IntelliSense для прекращения работы для этого файла. Эта проблема была исправлена, чтобы выделить и IntelliSense сохраняются после переименования.

<a id="RTM-KI"></a>
## <a name="known-issues"></a>Известные проблемы

- Если вы закроете Visual Studio 2010 SP1 Beta при открытом консоли диспетчера пакетов NuGet, Visual Studio аварийно завершает работу и предпринимается попытка перезапустить. Эта проблема будет устранена в RTM-версии Visual Studio 2010 с пакетом обновления 1.
- Установщик ASP.NET MVC 3 способен установить Начальная версия диспетчера пакетов NuGet. После установки исходная версия NuGet можно установить и обновить с помощью менеджера расширений Visual Studio. Если уже установлена NuGet, перейдите к коллекции расширений Visual Studio для обновления до последней версии NuGet.
- Создание нового проекта ASP.NET MVC 3 в папке решения причины *NullReferenceException* ошибки. Это решение подходит для создания проекта ASP.NET MVC 3 в корень решения и затем переместить его в папке решения.
- Программа установки может занять гораздо больше времени, чем в предыдущих версиях ASP.NET MVC для выполнения. Это так, как он обновляет компонентов Visual Studio 2010.
- IntelliSense для синтаксиса Razor не работает, если установлен ReSharper. Если установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3, см. в записи [Razor Intellisense и ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хэйди Hariri которой обсуждается совместное использование этих компонентов.
- CCSHTML и VBHTML представления, созданные с помощью бета-версии ASP.NET MVC 3 не имеют свои действия сборки установлено неправильно, в результате просматривать эти типы опускаются при публикации проекта. Действие построения для этих файлов должно иметь значение «Содержимое». ASP.NET MVC 3 RTM устраняет эту проблему для новых файлов, но не правильный параметр для существующих файлов в проект, созданный с помощью предварительной версии.
- ![](mvc3-release-notes/_static/image3.png)
- Во время установки, диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, которое меньше требуемого. / li&gt;
- При изменении представления Razor (файл cshtml), перейдите к контроллера пункта меню в Visual Studio будет недоступен и существуют не фрагменты кода.
- Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютере, где не установлена среда Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3. Visual Studio и Visual Web Developer Express совместно использовать компоненты, обновленные установщиком ASP.NET MVC 3. То же самое касается при установке ASP.NET MVC 3 для Visual Studio на компьютере, который не содержит Visual Web Developer Express, а затем установить Visual Web Developer, экспресс-выпуск.

<a id="RTM-BC"></a>
## <a name="breaking-changes"></a>Критические изменения

- В предыдущих версиях ASP.NET MVC, фильтры действий создания каждого запроса, за исключением того, в некоторых случаях. Такое поведение было никогда не гарантируется поведение, но просто реализации и контракт для фильтров не рассматривать их без сохранения состояния. В ASP.NET MVC 3 фильтры кэшируются более агрессивно. Таким образом любое пользовательское действие фильтров, которые неправильно хранить состояние экземпляра может быть нарушена.
- Фильтры исключений, которые имеют одинаковое изменился порядок выполнения фильтров исключений *порядок* значение. В ASP.NET MVC 2 и более ранних версиях исключение фильтры на контроллере, имеют одинаковое *порядок* значение как на метод действия выполняются перед фильтрами исключений в методе действия. Обычно это будет иметь место при фильтры исключений применяются без заданного *порядок* значение. В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым. Как и в более ранних версиях Если *порядок* свойство явно указано, фильтры выполняются в указанном порядке.
- Новое свойство с именем *FileExtensions* был добавлен в *VirtualPathProviderViewEngine* базового класса. При ASP.NET ищет представления по пути (не по имени), рассматриваются только представления с расширением файла, содержащихся в списке, заданного этим свойством новый. Это критическое изменение в приложениях, которых поставщика настраиваемого построения регистрируется для включения пользовательских расширений файлов для представления веб-формы и в которых поставщик ссылается на эти представления, используя полный путь, а не имя. Обходной путь заключается в изменении значение *FileExtensions* включив пользовательское расширение файла.
- Настраиваемый контроллер реализацию фабрики, непосредственно реализовывать *IControllerFactory* интерфейса необходимо предоставить реализацию нового *GetControllerSessionBehavior* метод, который был добавить интерфейс в этом выпуске. Как правило, рекомендуется не реализуют этот интерфейс непосредственно и вместо этого создайте производный класс из *DefaultControllerFactory*.

<a id="_Toc2"></a>
## <a name="changes-in-aspnet-mvc-3-rc2"></a>Изменения в версии-кандидата 2 ASP.NET MVC 3

В этом разделе описываются изменения (новые функции и исправления ошибок) в выпуске ASP.NET MVC 3 RC2 с момента выпуска версии-КАНДИДАТА.

<a id="_Toc2_1"></a>
### <a name="project-templates-changed-to-include-jquery-144-jquery-validation-17-and-jquery-ui-186"></a>Для включения jQuery 1.4.4 1.7 проверки jQuery и jQuery UI 1.8.6 изменения проекта шаблонов

Шаблоны проектов для ASP.NET MVC 3 теперь включают последние версии jQuery, jQuery и jQuery проверки пользовательского интерфейса. пользовательский Интерфейс jQuery — это новая функция в шаблоны проектов и предоставляет пользовательский интерфейс мини-приложения. Дополнительные сведения о jQuery UI посетите их Главная страница: [http://jqueryui.com/](http://jqueryui.com/).

<a id="_Toc2_2"></a>
### <a name="added-additionalmetadataattribute-class"></a>Класс добавлены «AdditionalMetadataAttribute»

Можно использовать *AdditionalMetadataAttribute* класса для заполнения *ModelMetadata.AdditionalValues* словарь для свойства модели.

Например предположим, что модель представления имеет свойства, которые должны отображаться только администратор. Модели, могут быть добавлены с помощью нового атрибута, с помощью AdminOnly как ключ и значение true, как значение, как показано в следующем примере:

[!code-csharp[Main](mvc3-release-notes/samples/sample9.cs)]

Эти метаданные доступны к любому шаблону отображения или редактора при отображении представления модели продукта. Именно вы разработчик приложений следует интерпретировать сведения метаданных.

<a id="_Toc2_3"></a>
### <a name="improved-view-scaffolding"></a>Улучшенное представление формирования шаблонов

Шаблоны T4, используемый для формирования шаблонов представлений теперь создания вызовы шаблона вспомогательные методы, например *EditorFor* вместо вспомогательные методы, такие как *TextBoxFor*. Это изменение улучшает поддержка метаданных модели в виде атрибуты данных заметок, когда диалоговое окно добавления представления создает представление.

Добавить представление формирования шаблонов также включает использование сведения о первичном ключе на модели, основываются на стандартах и улучшены возможности обнаружения. Например диалоговое окно добавления представления использует эти сведения, чтобы убедиться, что значение первичного ключа является не формирования шаблонов как поля формы для редактирования.

По умолчанию изменения и создать шаблоны содержат ссылки на сценарии jQuery, необходимые для клиентской проверки.

<a id="_Toc2_4"></a>
### <a name="added-htmlraw-method"></a>Добавленный метод Html.Raw

По умолчанию Razor просматривать engine кодирует в формате HTML все значения. Например, следующий фрагмент кода кодирует HTML внутри переменная приветствия, чтобы он отображается на странице как &amp;lt; строгого&amp;gt; Всем привет! &amp;lt; / strong&amp;gt;.

[!code-cshtml[Main](mvc3-release-notes/samples/sample10.cshtml)]

Новый *Html.Raw* метод предоставляет простой способ отображения HTML без кодировки, когда содержимое заведомо безопасна. Следующий пример отображает ту же строку, но строка подготавливается к просмотру как разметку:

[!code-cshtml[Main](mvc3-release-notes/samples/sample11.cshtml)]

<a id="_Toc2_5"></a>
### <a name="renamed-controllerviewmodel-property-and-the-view-property-to-viewbag"></a>Свойство переименовано «Controller.ViewModel» и «Представление» значение «ViewBag»

Ранее *ViewModel* свойство *контроллера* корреспондируемых для *представление* свойства представления. Оба эти свойства предоставляют способ доступа значения *ViewDataDictionary* с помощью синтаксиса динамического метода доступа свойства. Оба свойства должны совпадать во избежание путаницы и иметь более стабильные были переименованы.

<a id="_Toc2_6"></a>
### <a name="renamed-controllersessionstateattribute-class-to-sessionstateattribute"></a>Переименованные «ControllerSessionStateAttribute» класс «SessionStateAttribute»

*ControllerSessionStateAttribute* класс впервые появился в выпуске версии-КАНДИДАТА ASP.NET MVC 3. Свойство был переименован в быть короче.

<a id="_Toc2_7"></a>
### <a name="renamed-remoteattribute-fields-property-to-additionalfields"></a>Переименованный RemoteAttribute «Fields» значение «AdditionalFields»

*RemoteAttribute* класса *поля* свойство вызвало конфликт между пользователями. Переименование этого свойства значение *AdditionalFields* уточняет, его назначение.

<a id="_Toc2_8"></a>
### <a name="renamed-skiprequestvalidationattribute-to-allowhtmlattribute"></a>Переименовать «SkipRequestValidationAttribute» на «AllowHtmlAttribute»

*SkipRequestValidationAttribute* атрибут был переименован в *AllowHtmlAttribute* для оптимизации представления его предполагаемого использования.

<a id="_Toc2_9"></a>
### <a name="changed-htmlvalidationmessage-method-to-display-the-first-useful-error-message"></a>Метод измененные «Html.ValidationMessage» для отображения первой полезные сообщения об ошибке

*Html.ValidationMessage* была исправлена метод для отображения первого сообщений вместо просто отображения первой ошибки.

Во время привязки модели *ModelState* словарь может заполняться из нескольких источников сообщений об ошибках о свойстве, включая из самой модели (если он реализует *IValidatableObject* ), из атрибутов проверки, применяемый к свойству, а также из исключения, возникшие при доступе к этому свойству.

Когда *Html.ValidationMessage* метод отображает сообщение проверки, она пропускает записи состояния модели, включающие исключение, так как они обычно не предназначены для конечного пользователя. Вместо этого метод ищет первое сообщение проверки, не связанный с исключением и отображает это сообщение. Если сообщение не найдено, то по умолчанию сообщения об ошибке, связанной с первое исключение.

<a id="_Toc2_10"></a>
### <a name="fixed-model-declaration-to-not-add-whitespace-to-the-document"></a>Фиксированный @model объявления, чтобы не добавлять пробелы в документ

В более ранних выпусках  *@model*  объявление в верхней части представления добавить пустую строку в готовом для просмотра выходных данных HTML. Эта проблема была исправлена, чтобы объявление не содержит пробелов.

<a id="_Toc2_11"></a>
### <a name="added-fileextensions-property-to-view-engines-to-support-engine-specific-file-names"></a>Свойство добавлено «FileExtensions» для обработчиков представлений для поддержки имен файлов запускаемых

Обработчик представлений можно получить с помощью явное представление пути, как показано в следующем примере:

[!code-csharp[Main](mvc3-release-notes/samples/sample12.cs)]

Первый обработчик представлений всегда пытается визуализации представления. По умолчанию обработчик представлений веб-форм — первый обработчик представлений; Поскольку обработчик веб-формы не удается отобразить представление Razor, возникает ошибка. Теперь имеют обработчиков представлений *FileExtensions* свойство, которое используется для указания расширения файлов, они поддерживают. Это свойство проверяется ASP.NET определяет, может ли обработчик представлений отображения файла. Это критическое изменение, и Дополнительные сведения, включенные в [критические изменения](#_Toc2_BC) раздел этого документа.

<a id="_Toc2_12"></a>
### <a name="fixed-labelfor-helper-to-emit-the-correct-value-for-the-for-attribute"></a>Вспомогательный метод фиксированный «LabelFor» для порождения правильное значение для атрибута «For»

Where была исправлена ошибка *LabelFor* к просмотру метод *для* атрибут, который соответствует *ввода* элемента *имя* атрибутом его идентификатора. Согласно спецификации W3C *для* атрибут должен соответствовать *ввода* идентификатор элемента.

<a id="_Toc2_13"></a>
### <a name="fixed-renderaction-method-to-give-explicit-values-precedence-during-model-binding"></a>Метод фиксированный «RenderAction», чтобы предоставить явные значения приоритета во время привязки модели

В более ранних версиях, явно заданные значения, которые были переданы *RenderAction* метод были обрабатываются в пользу текущих значений формы во время привязки модели внутри дочернее действие. Исправление гарантирует, что явно заданные значения имеют более высокий приоритет, во время привязки модели.

<a id="_Toc2_BC"></a>
## <a name="breaking-changes"></a>Критические изменения

- В предыдущих версиях ASP.NET MVC фильтры действий были созданы по запросу за исключением того, в некоторых случаях. Такое поведение было никогда не гарантируется поведение, но просто реализации и контракт для фильтров не рассматривать их без сохранения состояния. В ASP.NET MVC 3 фильтры кэшируются более агрессивно. Таким образом любое пользовательское действие фильтров, которые неправильно хранить состояние экземпляра может быть нарушена.
- Фильтры исключений, которые имеют одинаковое изменился порядок выполнения фильтров исключений *порядок* значение. Фильтрация в ASP.NET MVC 2 и более ранних версиях исключение на контроллере, который обнаружил ту же *порядок* значение, как те, в методе действия выполнялись перед фильтрами исключений в методе действия. Это обычно случай может возникнуть при применении фильтров исключений без заданного *порядок* значение. В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым. Как и в более ранних версиях Если *порядок* свойство явно указано, фильтры выполняются в указанном порядке.
- Новое свойство с именем *FileExtensions* был добавлен в *VirtualPathProviderViewEngine* базового класса. При ASP.NET ищет представления по пути (не по имени), рассматриваются только представления с расширением файла, содержащихся в списке, заданного этим свойством новый. Это критическое изменение в приложениях, которых поставщика настраиваемого построения регистрируется для включения пользовательских расширений файлов для представления веб-формы и в которых поставщик ссылается на эти представления, используя полный путь, а не имя. Обходной путь заключается в изменении значение *FileExtensions* включив пользовательское расширение файла.
- Настраиваемый контроллер реализацию фабрики, непосредственно реализовывать *IControllerFactory* интерфейса необходимо предоставить реализацию нового *GetControllerSessionBehavior ** метод, который был добавлен интерфейс в этом выпуске*. Как правило, рекомендуется не реализуют этот интерфейс непосредственно и вместо этого создайте производный класс из *DefaultControllerFactory*.

<a id="_Toc2_KI"></a>
## <a name="known-issues"></a>Известные проблемы

- Установщик ASP.NET MVC 3 способен установить Начальная версия диспетчера пакетов NuGet. После установки исходная версия NuGet можно установить и обновить с помощью менеджера расширений Visual Studio. Если уже установлена NuGet, перейдите к коллекции расширений Visual Studio для обновления до последней версии NuGet.
- Создание нового проекта ASP.NET MVC 3 в папке решения причины *NullReferenceException* ошибки. Это решение подходит для создания проекта ASP.NET MVC 3 в корень решения и затем переместить его в папке решения.
- Программа установки может занять гораздо больше времени, чем в предыдущих версиях ASP.NET MVC для выполнения. Это так, как он обновляет компонентов Visual Studio 2010.
- IntelliSense для синтаксиса Razor не работает, если установлен ReSharper. Если установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки Razor IntelliSense в ASP.NET MVC 3 RC2, см. в записи [Razor Intellisense и ReSharper](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) в блоге Хэйди Hariri которой обсуждается совместное использование этих компонентов.
- CSHTML и VBHTML представления, созданные с помощью бета-версии ASP.NET MVC 3 не имеют свои действия сборки установлено неправильно, в результате просматривать эти типы опускаются при публикации проекта. *Действие при построении* значение для этих файлов должно быть присвоено содержимому». ASP.NET MVC 3 RC2 устраняет эту проблему для новых файлов, но не правильный параметр для существующих файлов в проект, созданный с помощью бета-версии.![](mvc3-release-notes/_static/image4.png)
- Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, которое меньше, чем планировалось.
- При изменении представления Razor (файл cshtml), перейдите к контроллера пункта меню в Visual Studio будет недоступен и существуют не фрагменты кода.
- Если установить ASP.NET MVC 3 для Visual Web Developer Express на компьютере, где не установлена среда Visual Studio, а затем установить Visual Studio, необходимо переустановить ASP.NET MVC 3. Visual Studio и Visual Web Developer Express совместно использовать компоненты, обновленные установщиком ASP.NET MVC 3. То же самое касается при установке ASP.NET MVC 3 для Visual Studio на компьютере, который не содержит Visual Web Developer Express, а затем установить Visual Web Developer, экспресс-выпуск.
- Установка ASP.NET MVC 3 версии-Кандидата 2 не обновляет NuGet, если у вас уже есть он установлен. Обновить NuGet, перейдите к диспетчеру расширений Visual Studio и оно должно отображаться как доступное обновление. Вы можете обновить NuGet до последней версии из него.

<a id="TOC_ASP_NET_3_RC"></a>
## <a name="aspnet-mvc-3-release-candidate"></a>ASP.NET MVC 3, версия-кандидат

ASP.NET MVC, версия-кандидат был выпущен 9 ноября 2010 г.

<a id="_Toc276711785"></a>
## <a name="new-features-in-aspnet-mvc-3-rc"></a>Новые возможности в версии-Кандидате ASP.NET MVC 3

В этом разделе описываются функции, которые были введены в версии ASP.NET MVC 3, версия-Кандидат с момента выпуска бета-версии.

<a id="_Toc276711786"></a>
### <a name="nuget-package-manager"></a>Диспетчер пакетов NuGet

ASP.NET MVC 3 включает диспетчера пакетов NuGet (прежнее название — NuPack), который представляет собой средство интеграции пакета управления для добавления библиотеки и средства для проектов Visual Studio. Это средство автоматизирует действия, которые разработчики сегодня предпринять, чтобы получить библиотеку в их исходном дереве.

Из командной строки, как окно интегрированной консоли внутри Visual Studio 2010, в контекстном меню Visual Studio и как набор командлетов PowerShell можно работать с помощью NuGet.

Дополнительные сведения о NuGet см. в статье [документации по Nuget](https://docs.microsoft.com/nuget/).

<a id="_Toc276711787"></a>
### <a name="improved-new-project-dialog-box"></a>Улучшенная «Новый проект» диалоговое окно

При создании нового проекта в диалоговом окне нового проекта теперь позволяет указать обработчик представлений, а также тип проекта ASP.NET MVC.

![](mvc3-release-notes/_static/image5.png)

В этом выпуске включается поддержка изменение списка шаблонов и представление модулей, перечисленных в диалоговом окне.

Ниже перечислены шаблоны по умолчанию.

Пустой. Содержит минимальный набор файлов для проекта ASP.NET MVC, включая структурой каталогов по умолчанию для проектов ASP.NET MVC Site.css файл, содержащий стили ASP.NET MVC по умолчанию, а также сценарии каталог, содержащий файлы JavaScript по умолчанию.

Интернет-приложения. Содержит функции образец, демонстрирующий использование поставщика членства в ASP.NET MVC.

Список шаблонов проектов, отображаемый в диалоговом окне указывается в реестре Windows.

<a id="_Toc276711788"></a>
### <a name="sessionless-controllers"></a>Контроллеры sessionless

Новый *ControllerSessionStateAttribute* дает больший контроль над поведение состояния сеанса для контроллеров, указав [System.Web.SessionState.SessionStateBehavior](https://msdn.microsoft.com/library/system.web.sessionstate.sessionstatebehavior.aspx) значение перечисления.

В следующем примере показано, как отключить состояние сеанса для всех запросов к контроллеру.

[!code-csharp[Main](mvc3-release-notes/samples/sample13.cs)]

Приведенный ниже показано, как задать состояние сеанса только для чтения для всех запросов к контроллеру.

[!code-csharp[Main](mvc3-release-notes/samples/sample14.cs)]

<a id="_Toc276711789"></a>
### <a name="new-validation-attributes"></a>Новые атрибуты проверки

#### <a name="compareattribute"></a>CompareAttribute

Новый *CompareAttribute* атрибут проверки позволяет сравнить значения двух свойств модели. В следующем примере *ComparePassword* свойство должно соответствовать *пароль* поле, чтобы быть допустимыми.

[!code-csharp[Main](mvc3-release-notes/samples/sample15.cs)]

#### <a name="remoteattribute"></a>RemoteAttribute

Новый *RemoteAttribute* атрибут проверки позволяет пользоваться преимуществами jQuery проверки подключения в удаленный проверяющий элемент управления, который позволяет вызывать на сервере, который выполняет логики проверки для проверки со стороны клиента.

В следующем примере *UserName* свойство имеет *RemoteAttribute* применения. При изменении этого свойства в представлении редактирования, клиентская проверка будет вызывать действие с именем *UserNameAvailable* на *UsersController* класса, чтобы проверить это поле.

[!code-csharp[Main](mvc3-release-notes/samples/sample16.cs)]

В следующем примере показано состояние соответствующего контроллера.

[!code-csharp[Main](mvc3-release-notes/samples/sample17.cs)]

По умолчанию имя свойства, атрибут применяется к передается в метод действия в параметр строки запроса.

<a id="_Toc276711790"></a>
### <a name="new-overloads-for-labelfor-and-labelformodel-methods"></a>Новые перегрузки для методов «LabelForModel» и «LabelFor»

Были добавлены новые перегрузки для *LabelFor* и *LabelForModel* методы, позволяющие указать текст метки. В следующем примере показано, как для использования этих перегрузок.

[!code-cshtml[Main](mvc3-release-notes/samples/sample18.cshtml)]

<a id="_Toc276711791"></a>
### <a name="child-action-output-caching"></a>Дочернее действие кэширования выходных данных

*OutputCacheAttribute* поддерживает кэширование вывода дочерних действий, которые вызываются с помощью *Html.RenderAction* или *Html.Action* вспомогательные методы. Следующий пример показывает представление, которое вызывает другую операцию.

[!code-cshtml[Main](mvc3-release-notes/samples/sample19.cshtml)]

*GetDate* действия помечается с помощью *OutputCacheAttribute*:

[!code-csharp[Main](mvc3-release-notes/samples/sample20.cs)]

Этот код, запускаемый результат вызова Html.Action("GetDate") кэшируются 100 секунд.

<a id="_Toc276711792"></a>
### <a name="add-view-dialog-box-improvements"></a>«Добавление представления» улучшения диалоговых окон

Диалоговое окно добавления представления теперь отфильтровывает больше неподходящих типов, чем в предыдущих версиях, таких как многие типы .NET Framework core, при добавлении строго типизированного представления. Кроме того список теперь сортируется по имени класса, а не полное имя типа, что упрощает поиск типов. Например имя типа будет отображаться как в следующем примере:

ClassName (пространство имен)

В более ранних выпусках это было отображались бы следующим образом:

Namespace.ClassName

<a id="_Toc276711793"></a>
### <a name="granular-request-validation"></a>Гранулярная проверка запросов

*Исключить* свойство *ValidateInputAttribute* больше не существует. Чтобы проверка запросов для определенных свойств модели, пропущенных во время привязки модели, используйте новый *SkipRequestValidationAttribute*.

Например предположим, что метод действия используется для изменения записи блога:

[!code-csharp[Main](mvc3-release-notes/samples/sample21.cs)]

Пример модели представления для записи блога.

[!code-csharp[Main](mvc3-release-notes/samples/sample22.cs)]

Когда пользователь отправляет некоторые разметки для описания свойства, завершится ошибкой привязки модели, за проверку запросов. Чтобы отключить проверку запросов во время привязки модели для блога описание, применить *SkipRequpestValidationAttribute* для свойства, как показано в следующем примере:.

[!code-csharp[Main](mvc3-release-notes/samples/sample23.cs)]

Кроме того, чтобы отключить проверку запросов для каждого свойства в модели, применяются *ValidateInputAttribute* со значением *false* метода действия:

[!code-csharp[Main](mvc3-release-notes/samples/sample24.cs)]

<a id="_Toc276711794"></a>
## <a name="breaking-changes"></a>Критические изменения

- Фильтры исключений, которые имеют одинаковое изменился порядок выполнения фильтров исключений *порядок* значение. Фильтрация в ASP.NET MVC 2 и более ранних версиях исключение на контроллере, который обнаружил ту же *порядок* как те, в методе действия выполнялись перед фильтрами исключений в методе действия. Это обычно случай может возникнуть при применении фильтров исключений без заданного *порядок* значение. В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым. Как и в более ранних версиях Если *порядок* свойство явно указано, фильтры выполняются в указанном порядке.
- Добавлено новое свойство с именем *FileExtensions* для *VirtualPathProviderViewEngine* базового класса. При поиске представления по пути (а не по имени), только те представления, расширение файла, содержащихся в список, указанный в новом свойстве считается. Это критическое изменение для тех, кто регистрации пользовательской сборки поставщика, чтобы включить пользовательское расширение файла для веб-формы представления и и ссылки на эти представления, используя полный путь, а не имя. Обходной путь заключается в изменении значение *FileExtensions* включив пользовательское расширение файла.

<a id="_Toc276711795"></a>
## <a name="known-issues"></a>Известные проблемы

- Программа установки может занять гораздо больше времени, чем в предыдущих версиях ASP.NET MVC для выполнения, так как он обновляет компонентов Visual Studio 2010.
- Добавить представление формирования шаблонов при выборе astrongly типизированные свойства только для записи закрепление представления. Они всегда должна обрабатываться средством формирования шаблонов. Диалоговое окно добавления представления также закрепление свойства только для чтения при создании представления «Изменить» или «Создание». Формирования шаблонов свойства только для чтения следует только для отображения и список представлений.
- Отладка не работает при установке параллельно с Async CTP-версия ASP.NET MVC 3. ASP.NET MVC 3 не может быть установленных-параллельных с Async CTP. Удалите Async CTP исправление отладки. Дополнительные сведения см. в статье [этой записи блога](http://drew-prog.blogspot.com/2010/11/how-to-uninstall-microsoft-aspnet-mvc-3.html) об удалении все части ASP.NET MVC 3, версия-Кандидат.
- Если установлен Resharper Razor Intellisense не работает. Если установлен компонент ReSharper и хотите воспользоваться преимуществами поддержки intellisense Razor в ASP.NET MVC 3 RC, прочитайте [этой записи блога](http://blogs.jetbrains.com/dotnet/2010/11/razor-intellisense-and-resharper/) из JetBrains, в котором описывается, как использовать их совместно сегодня.
- Представления CSHTML и vbhtml-ФАЙЛАХ, созданных с помощью бета-версии для ASP.NET MVC 3 имеют свои действия построения правильно которых исключает их из публикации. *Действие при построении* эти файлы должны иметь значение «Content». ASP.NET MVC 3 RC устраняет эту проблему для новых файлов, но не правильный параметр для существующих файлов в проект, созданный с помощью бета-версии.
- Программа установки может занять гораздо больше времени, чем в предыдущих версиях ASP.NET MVC для выполнения, так как он обновляет компонентов Visual Studio 2010.
- Добавить представление формирования шаблонов при выборе «Edit» строго типизированы закрепление представление Неизменяемые свойства. Аналогичным образом свойства, доступные только для записи формирования шаблонов для представлений «Отображение».
- Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, которое меньше, чем планировалось.
- Установка [CTP-версии Visual Studio Async](https://www.microsoft.com/downloads/en/details.aspx?FamilyID=18712f38-fcd2-4e9f-9028-8373dc5732b2&amp;displaylang=en) приводит к конфликту с выпуском Razor, который входит в состав средства установки ASP.NET MVC 3. Убедитесь, что не пытайтесь установить Visual Studio Async CTP и в выпуске Razor на том же компьютере.
- При изменении представления Razor (файл cshtml), перейдите к контроллера пункта меню в Visual Studio будет недоступен и существуют не фрагменты кода.

<a id="TOC_ASP_NET_3_Beta"></a>
## <a name="aspnet-mvc-3-beta"></a>Бета-версия ASP.NET MVC 3

Бета-версия ASP.NET MVC 3 был выпущен 6 октября 2010 г. Следующие примечания относятся к бета-версии и могут быть любые обновления или изменения, на который ссылается раздел ASP.NET MVC 3, версия-кандидат выше.

## <a id="0.1__Toc274034215"></a>Бета-версия ASP.NET MVC 3 новых Featuresin

<a id="0.1__Default_validation_system"></a>В этом разделе описываются функции, которые были введены в ASP.NET MVC 3, бета-версии.

### <a id="0.1__Toc274034216"></a>Диспетчер пакетов NuGet

ASP.NET MVC 3 включает диспетчер пакетов NuGet, который является средство интегрированный пакет управления для добавления библиотеки и средства для проектов Visual Studio. В большинстве случаев она автоматизирует действия, которые разработчики сегодня предпринять для получения библиотеки в их исходном дереве.

В качестве средства командной строки, как окно интегрированной консоли внутри Visual Studio 2010, в контекстном меню Visual Studio и как набор командлетов PowerShell можно работать с помощью NuGet.

Дополнительные сведения о NuGet см. в статье [документации по NuGet](https://docs.microsoft.com/nuget/).

### <a id="0.1__Toc274034217"></a>Улучшенное диалоговое окно нового проекта

При создании нового проекта в диалоговом окне нового проекта теперь позволяет указать обработчик представлений, а также тип проекта ASP.NET MVC.

![](mvc3-release-notes/_static/image6.png)

В этом выпуске не включена поддержка изменение списка шаблонов и представление модулей, перечисленных в диалоговом окне.

Ниже перечислены шаблоны по умолчанию.

Пустой. Содержит минимальный набор файлов для проекта ASP.NET MVC, включая структурой каталогов по умолчанию для проектов ASP.NET MVC, небольшой файл Site.css, содержащий стили ASP.NET MVC по умолчанию и сценарии каталог, содержащий файлы JavaScript по умолчанию.

Интернет-приложения. Содержит функции образец, демонстрирующий использование поставщика членства в ASP.NET MVC.

### <a id="0.1__Toc274034218"></a>Упрощенный способ указания строго типизированного моделей в представлений Razor

Способ указания типа модели для строго типизированных представлений Razor, был упрощен путем с использованием нового @model директив для представлений CSHTML и @ModelType директивы VBHTML представления. В более ранних версиях ASP.NET MVC необходимо указать что строго типизированные модели для Razor представления таким образом:

[!code-cshtml[Main](mvc3-release-notes/samples/sample25.cshtml)]

В этом выпуске можно использовать следующий синтаксис:

[!code-cshtml[Main](mvc3-release-notes/samples/sample26.cshtml)]

### <a id="0.1__Toc274034219"></a>Поддержка новых веб-страниц ASP.NET вспомогательные методы

Новая технология ASP.NET Web Pages включает набор вспомогательных методов, которые можно использовать для добавления функциональных возможностей часто используемых представлений и контроллеров. ASP.NET MVC 3 поддерживает эти вспомогательные методы в контроллеры и представления (при необходимости). Эти методы содержащиеся в сборке System.Web.Helpers. Ниже перечислены некоторые из вспомогательных методов веб-страниц ASP.NET.

| **Helper** | **Описание** |
| --- | --- |
| Диаграмма | Подготавливает к просмотру диаграммы в представлении. Содержит методы, такие как Chart.ToWebImage, Chart.Save и Chart.Write. |
| Службы шифрования | Использует алгоритмы для создания правильно хэширования начальная и хэшированные пароли. |
| WebGrid | Отображает коллекцию объектов (как правило, данные из базы данных) в виде сетки. Поддерживает разбиение по страницам и сортировка. |
| WebImage | Выводит изображение на экран. |
| Веб-почты | Отправляет сообщение электронной почты. |

Краткий справочник раздел, содержащий вспомогательные методы и базовый синтаксис доступен как часть документации синтаксис ASP.NET Razor по следующему АДРЕСУ:

[https://www.asp.net/webmatrix/tutorials/asp-net-web-pages-api-reference](../web-pages/overview/api-reference/asp-net-web-pages-api-reference.md)

### <a id="0.1__Toc274034220"></a>Поддержка внедрения дополнительных зависимостей

Построение для ASP.NET MVC 3 Preview 1 версии текущего выпуска включает добавлена поддержка двух новых служб и четыре существующими службами и улучшенная поддержка разрешении зависимостей и локатор общей службы.

#### <a name="new-icontrolleractivator-interface-for-fine-grained-controller-instantiation"></a>Новый интерфейс IControllerActivator для точного контроллера при создании экземпляра

Интерфейс IControllerActivator обеспечивает более точное управление как контроллерами создаются через внедрения зависимостей. Ниже приведен пример интерфейса.

[!code-csharp[Main](mvc3-release-notes/samples/sample27.cs)]

Сравните это роли фабрики контроллеров. Фабрика контроллеров представляет собой реализацию интерфейса IControllerFactory, который отвечает, ищите тип контроллера, а также для создания экземпляра этого типа контроллера.

Активаторы контроллеров отвечают только для создания экземпляра типа контроллера. Они не выполняют поиск типа контроллера. После нахождения тип правильную контроллера, фабрики контроллеров должны делегировать экземпляр IControllerActivator фактического экземпляра контроллера.

Класс DefaultControllerFactory имеет новый конструктор, который принимает экземпляр IControllerFactory. Это позволяет применить внедрения зависимости для управления этот аспект создания контроллера без необходимости переопределить поведение по умолчанию для уточняющего запроса тип контроллера.

#### <a name="iservicelocator-interface-replaced-with-idependencyresolver"></a>IServiceLocator интерфейс заменена IDependencyResolver

Основанные на отзывах сообщества ASP.NET MVC 3, бета-версии заменен использование интерфейса IServiceLocator облегченных IDependencyResolver интерфейса, определенного в соответствии с потребностями ASP.NET MVC. Ниже приведен пример новый интерфейс.

[!code-csharp[Main](mvc3-release-notes/samples/sample28.cs)]

В рамках этого изменения класса ServiceLocator также было заменено значением класса DependencyResolver. Регистрации сопоставителя зависимостей похожа на более ранних версиях ASP.NET MVC:

[!code-csharp[Main](mvc3-release-notes/samples/sample29.cs)]

Реализации этого интерфейса должны просто делегировать базовый контейнер внедрения зависимостей для предоставить зарегистрированную службу для запрошенного типа.

При наличии зарегистрированных служб запрошенного типа, ASP.NET MVC ожидает от реализации этого интерфейса возвращает значение null из GetService и возвращать пустую коллекцию из GetServices.

Новый класс DependencyResolver можно зарегистрировать классы, реализующие новый интерфейс IDependencyResolver или интерфейс локатора общей службы (IServiceLocator). Дополнительные сведения о локаторе общей службы см. в разделе [CommonServiceLocator на GitHub](https://github.com/unitycontainer/commonservicelocator).

<a id="0.1__Breaking_Changes"></a>

#### <a name="new-iviewactivator-interface-for-fine-grained-view-page-instantiation"></a>Новый интерфейс IViewActivator для создания экземпляра точное представление страницы

Интерфейс IViewPageActivator обеспечивает более точное управление как просмотр страниц создаются через внедрения зависимостей. Это относится к WebFormView экземпляры и экземпляры RazorView. Ниже приведен пример новый интерфейс.

[!code-csharp[Main](mvc3-release-notes/samples/sample30.cs)]

Теперь эти классы принимать IViewPageActivator аргумента конструктора, который позволяет внедрения зависимостей используется для управления как создаются типы ViewPage, ViewUserControl и WebViewPage.

#### <a name="new-dependency-resolver-support-for-existing-services"></a>Поддержка нового Сопоставитель зависимостей для существующих служб

Новый выпуск включает поддержку в разрешении зависимостей для следующих служб:

- Поставщиков проверки модели. Классы, реализующие ModelValidatorProvider могут быть зарегистрированы в сопоставителе зависимостей, и система будет использовать их для поддержки проверки на стороне клиента и сервера.
- Поставщик метаданных модели. Один класс, реализующий ModelMetadataProvider могут быть зарегистрированы в сопоставителе зависимостей, и система будет использовать для предоставления метаданных для шаблонов и проверка систем.
- Поставщики значений. Классы, реализующие ValueProviderFactory могут быть зарегистрированы в сопоставителе зависимостей, и система будет использовать их для создания поставщиков значений, используемые контроллером и во время привязки модели.
- Связыватели моделей. Классы, реализующие IModelBinderProvider могут быть зарегистрированы в сопоставителе зависимостей, и система будет использовать их для создания модулей привязки модели, используемые системой привязки модели.

### <a id="0.1__Toc274034221"></a>Новая поддержка ненавязчивого основе jQuery Ajax

ASP.NET MVC включает вспомогательные методы Ajax из следующего:

- Ajax.ActionLink
- Ajax.RouteLink
- Ajax.BeginForm
- Ajax.BeginRouteForm

Эти методы используют JavaScript для вызова метода действия на сервере, а не с помощью полной обратной передачи. Эта функциональность была обновлена чтобы воспользоваться преимуществами jQuery ненавязчивого способом. Вместо того чтобы мешая основной работе раскрытием встроенные клиентские скрипты, эти вспомогательные методы разделения поведение из разметки с помощью выпуска атрибутов HTML5 с помощью *данных ajax* префикс. Затем поведение применяется к разметке, ссылаясь на необходимые файлы JavaScript. Убедитесь, что отсутствуют ссылки на следующие файлы JavaScript:

- jquery-1.4.1.js
- jQuery.unobtrusive.AJAX.js

Эта функция включена по умолчанию в файле Web.config в ASP.NET MVC 3 новых шаблонов проектов, но отключен по умолчанию для существующих проектов. Дополнительные сведения см. в разделе [добавлено приложение флагов для клиентской проверки и ненавязчивого JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) далее в этом документе.

### <a id="0.1__Toc274034222"></a>Новые средства поддержки ненавязчивого jQuery проверки

По умолчанию бета-версия ASP.NET MVC 3 использует проверки jQuery ненавязчивого образом для выполнения проверки на стороне клиента. Чтобы включить ненавязчивой клиентской проверки, выполнить вызов как следующую команду в пределах представления:

[!code-csharp[Main](mvc3-release-notes/samples/sample31.cs)]

Для этого необходимо, что свойство ViewContext.UnobtrusiveJavaScriptEnabled задано значение true, это можно сделать, выполнив следующий вызов:

[!code-csharp[Main](mvc3-release-notes/samples/sample32.cs)]

Также убедитесь, что имеются следующие файлы JavaScript.

- jquery-1.4.1.js
- jQuery.Validate.js
- jQuery.Validate.unobtrusive.js

Эта функция включена по умолчанию в файле Web.config в ASP.NET MVC 3 новых шаблонов проектов, но отключен по умолчанию для существующих проектов. Дополнительные сведения см. в разделе [нового приложения флагов для клиентской проверки и ненавязчивого JavaScript](#0.1_AddedApplicationWideFlagsForClientValida) далее в этом документе.

<a id="0.1__Toc274034223"></a>

### <a id="0.1_AddedApplicationWideFlagsForClientValida"></a>Новые приложения флагов для клиентской проверки и ненавязчивого JavaScript

Можно включить или отключить клиентская проверка и ненавязчивый JavaScript глобально с помощью статических членов класса HtmlHelper, как показано в следующем примере:

[!code-csharp[Main](mvc3-release-notes/samples/sample33.cs)]

Шаблоны проектов по умолчанию включения ненавязчивого JavaScript по умолчанию. Кроме того, можно включить или отключить эти функции в файле Web.config приложения с помощью следующих параметров:

[!code-xml[Main](mvc3-release-notes/samples/sample34.xml)]

Так как эти возможности по умолчанию, в класс HtmlHelper, где можно переопределить параметры по умолчанию, как показано в следующих примерах появились новые перегрузки:

[!code-csharp[Main](mvc3-release-notes/samples/sample35.cs)]

Для обеспечения обратной совместимости оба эти функции по умолчанию отключены.

### <a id="0.1__Toc274034224"></a>Новая поддержка код, выполняемый перед запуском представления

Теперь можно поместить в файл с именем \_viewstart.cshtml (или \_viewstart.vbhtml) в представлениях каталога и добавьте код, которые будут совместно использовать несколько представлений в этом каталоге и его подкаталогах. Например, можно поместить следующий код в \_viewstart.cshtml страницы в папке ~/Views:

[!code-cshtml[Main](mvc3-release-notes/samples/sample36.cshtml)]

Задает страницу макета для каждого представления в папке «представления» и всем вложенным папкам рекурсивно. При представлении отображается код в \_viewstart.cshtml файл запускается до выполнения представления. \_Viewstart.cshtml код применяется к каждому представлению в этой папке.

По умолчанию код в \_viewstart.cshtml файла также относится к представлениям в любой вложенной. Однако отдельные вложенные папки могут иметь собственную версию \_viewstart.cshtml файл; в том, что регистр, локальная версия имеет более высокий приоритет. Например, чтобы выполнить код, который является общим для всех представлений для HomeController, поместить \_viewstart.cshtml файл в папке ~/Views/Home.

### <a id="0.1__Toc274034225"></a>Новая поддержка синтаксиса Razor VBHTML

Предыдущей предварительной версии ASP.NET MVC входит поддержка представления с использованием синтаксиса Razor, в зависимости от C#. Эти представления позволяют использовать расширение файла .cshtml. В рамках выполняемой работы для поддержки Razor бета-версия ASP.NET MVC 3 добавлена поддержка синтаксиса Razor в Visual Basic, который использует расширение файла .vbhtml.

Введение в синтаксис языка Visual Basic в VBHTML страниц см. в руководстве по следующему АДРЕСУ:

[https://www.asp.net/webmatrix/tutorials/asp-net-web-pages-visual-basic](../web-pages/overview/getting-started/introducing-razor-syntax-vb.md)

### <a id="0.1__Toc274034226"></a>Более точный контроль над ValidateInputAttribute

ASP.NET MVC всегда включен класс ValidateInputAttribute, который вызывает базовой инфраструктуры проверки запроса ASP.NET важно убедиться, что входящий запрос не содержит потенциально опасные входные данные. По умолчанию включены проверки входных данных. Можно отключить проверку запросов с помощью атрибута ValidateInputAttribute, как показано в следующем примере:

[!code-csharp[Main](mvc3-release-notes/samples/sample37.cs)]

Тем не менее, многие веб-приложения имеют отдельные поля форм, необходимо разрешить HTML, пока оставшиеся поля, не следует. Класс ValidateInputAttribute теперь позволяет указать список полей, которые не должны быть включены в проверку запросов.

Например если вы разрабатываете механизмом поддержки блогов, может потребоваться разрешить разметки полей текста и Сводка. Эти поля могут быть представлены два входной элемент, каждый с атрибутом имя, соответствующее имени свойства («Тело» и «Сводка»). Чтобы отключить запрос проверки для этих полей, укажите имена (разделенных запятыми) в свойстве исключения класса ValidateInput, как показано в следующем примере:

[!code-csharp[Main](mvc3-release-notes/samples/sample38.cs)]

### <a id="0.1__Toc274034227"></a>Вспомогательные методы преобразовать символы подчеркивания дефисы для имен атрибутов HTML, заданные с помощью анонимных объектов

Вспомогательные методы позволяют указать пары имя/значение атрибута с помощью анонимный объект, как показано в следующем примере:

[!code-csharp[Main](mvc3-release-notes/samples/sample39.cs)]

Такой подход не позволяет использовать дефисы в имени атрибута, поскольку дефис не может использоваться для имени свойства в ASP.NET. Тем не менее дефисы, очень важны для настраиваемых атрибутов HTML5; Например HTML5 используется префикс «данные-».

В то же время подчеркивания не может использоваться для имен атрибутов в формате HTML, но являются допустимыми в имена свойств. Таким образом Если указать атрибуты с помощью анонимного объекта и имена атрибутов содержит символ подчеркивания, вспомогательные методы Преобразует знаки подчеркивания дефисы. Например следующий синтаксис вспомогательный использует символ подчеркивания:

[!code-csharp[Main](mvc3-release-notes/samples/sample40.cs)]

Предыдущий пример следующей разметкой, при выполнении модуля поддержки:

[!code-html[Main](mvc3-release-notes/samples/sample41.html)]

## <a id="0.1__Toc274034228"></a>Исправления ошибок

Шаблон объекта по умолчанию для шаблона помощников EditorFor и DisplayFor теперь поддерживает упорядочение, указанный в свойстве DisplayAttribute.Order. (В предыдущих версиях параметр Order не использовалась.)

Клиентская проверка теперь поддерживает проверку переопределенных свойств, имеющих применения атрибутов проверки.

JsonValueProviderFactory зарегистрирован по умолчанию.

## <a id="0.1__Toc274034229"></a>Критические изменения

Фильтры исключений, которые имеют одно и то же значение порядка изменился порядок выполнения фильтров исключений. В ASP.NET MVC 2 и более ранних версий как те, в методе действия выполнялись перед фильтрами исключений в методе действия на контроллере с одинаковым порядком фильтры исключения. Это обычно будет иметь место при без указанного значения порядка примененные фильтры исключений. В ASP.NET MVC 3 этот порядок был изменен на противоположный, чтобы наиболее конкретный обработчик исключений выполняется первым. Как в более ранних версиях Если свойство Order явно не указан, фильтры выполняются в указанном порядке.

## <a id="0.1__Toc274034230"></a>Известные проблемы

Во время установки диалоговое окно принятия лицензионного соглашения отображаются условия лицензионного соглашения в окне, которое меньше, чем планировалось.

Поддержка IntelliSense и выделение синтаксиса не представлений Razor не имеют. Предполагается, что поддержку синтаксиса Razor в Visual Studio, будут включены в более поздней версии.

При изменении представления Razor (CSHTML-файл), <a id="0.1__Toc224729061"> </a> <a id="0.1__Toc238051347"> </a> перейдите к контроллера пункта меню в Visual Studio будет недоступен и существуют не фрагментов кода.

При использовании @model Просмотр синтаксис для указания строго типизированные CSHTML, зависящие от языка сочетания клавиш для типов не распознаются. Например @model int не будет работать, но @model Int32 будет работать. Обходной путь для этой ошибки является использование текущее имя типа, при указании типа модели.

При использовании @model синтаксис для указания строго типизированного представления CSHTML (или @ModelType для указания строго типизированного представления VBHTML), допускающие значение NULL типы и объявлениях массивов не поддерживается. Например @model int? не поддерживается. Вместо этого используйте @model Nullable&lt;Int32&gt;. Синтаксис @model string [], не поддерживается; вместо этого используйте @model IList&lt;строка&gt;.

При обновлении проекта ASP.NET MVC 2 до ASP.NET MVC 3, убедитесь, что добавьте следующий раздел appSettings файла Web.config:

[!code-xml[Main](mvc3-release-notes/samples/sample42.xml)]

Имеется известная проблема, которая вызывает проверку подлинности форм для перенаправления непроверенных пользователей всегда ~/Account или имя входа, без учета параметра форм проверки подлинности, используемого в файле Web.config. Решение — добавить следующий параметр приложения.

[!code-xml[Main](mvc3-release-notes/samples/sample43.xml)]

## <a id="0.1__Toc274034231"></a>Отказ от ответственности

© Корпорация Майкрософт, 2011. Все права защищены. Данный документ предоставляется «как-—.» Сведения и мнения, содержащиеся в этом документе, включая URL-адреса и ссылки на другие веб-сайта, могут изменяться без предварительного уведомления. Вы принимаете на себя весь риск, связанный с его использованием.

Этот документ не предоставляет вам каких-либо юридических прав интеллектуальной собственности на какие-либо продукты Майкрософт. Вы можете копировать и использовать этот документ для внутренних справочных целей.
