---
uid: whitepapers/aspnet-and-iis6
title: Запущена среда ASP.NET 1.1 со службами IIS 6.0 | Документы Microsoft
author: rick-anderson
description: Хотя Windows Server 2003 включает службы IIS 6.0 и ASP.NET версии 1.1, по умолчанию отключены следующие компоненты. В этом техническом документе описывается включение IIS 6.0...
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/10/2010
ms.topic: article
ms.assetid: 5a5537bf-2aaa-49e7-839f-9e6522b829d8
ms.technology: ''
ms.prod: .net-framework
msc.legacyurl: /whitepapers/aspnet-and-iis6
msc.type: content
ms.openlocfilehash: 1fcac7b8bc295ccf4e36189295b6bc2e4d328623
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2017
ms.locfileid: "26530113"
---
<a name="running-aspnet-11-with-iis-60"></a>Запущена среда ASP.NET 1.1 с IIS 6.0
====================
> Хотя Windows Server 2003 включает службы IIS 6.0 и ASP.NET версии 1.1, по умолчанию отключены следующие компоненты. В этом техническом документе описывается включение IIS 6.0 и ASP.NET версии 1.1 и рекомендует несколько параметров конфигурации для получения оптимальной производительности из IIS и ASP.NET.
> 
> Применяется к ASP.NET версии 1.1 и IIS 6.0.


ASP.NET версии 1.1 поставляется вместе с Windows Server 2003, который также включает последнюю версию служб Internet Information Server (IIS) версии 6.0. IIS 6.0 и ASP.NET 1.1 предназначены для тесно интегрированы и теперь ASP.NET по умолчанию для новой модели рабочего процесса IIS 6.0.

## <a name="aspnet-11-is-not-installed-by-default"></a>ASP.NET версии 1.1 не устанавливается по умолчанию

В отличие от предыдущих версий операционных систем корпорации Майкрософт сервер Internet Information Server (IIS) не включен по умолчанию; также ASP.NET версии 1.1. Существует два варианта включения IIS:

### <a name="enabling-iis-option-1---configure-your-server-wizard"></a>Включение мастера настройки сервера IIS, параметр #1.

Windows Server 2003 поставляется новый «мастер настройки сервера» для правильной настройки сервера в нужном режиме.

Чтобы запустить мастер - примечание, чтобы запустить мастер, необходимо войти как администратор - перейдите в: Пуск | Программы | Администрирование и выберите пункт «Настройка сервера».

Один раз выбранный пользователь видит экран открытия «Мастер настройки сервера»:

![](aspnet-and-iis6/_static/image1.jpg)

Нажмите кнопку "Далее &gt;":

![](aspnet-and-iis6/_static/image2.jpg)

Нажмите кнопку "Далее &gt;"

![](aspnet-and-iis6/_static/image3.jpg)

На этом экране необходимо выбрать "сервер приложений (IIS, ASP.NET) как параметры настройки.

Нажмите кнопку "Далее &gt;".

![](aspnet-and-iis6/_static/image4.jpg)

После выбора, чтобы настроить сервер как сервер приложений, этот экран отображается запрос, должны быть установлены какие дополнительные возможности. Ни один из параметров выбран по умолчанию. Чтобы включить ASP.NET автоматически, необходимо выбрать "Включить ASP. NET ".

Нажмите кнопку "Далее &gt;".

![](aspnet-and-iis6/_static/image5.jpg)

На экране отображается, какие параметры должны быть установлены.

Нажмите кнопку "Далее &gt;".

![](aspnet-and-iis6/_static/image6.jpg)

Этот экран появляется во время установки выбранные параметры. Он является нормальным для просмотра других диалоговое окно, поля отображаются как установлены службы. Кроме того потребуется расположение установочного компакт-диска Windows 2003 Server.

Нажмите кнопку "Далее &gt;" после завершения.

![](aspnet-and-iis6/_static/image7.jpg)

Нажмите кнопку «Готово» — Windows Server 2003 теперь настроен для поддержки IIS 6.0 и ASP.NET версии 1.1.

### <a name="enabling-iis-option-2---manually-configuring-iis-and-aspnet"></a>Включение служб IIS, параметр #2 — Настройка вручную IIS и ASP.NET

Если вы не хотите использовать «мастер настройки сервера» можно также установить IIS 6.0 и ASP.NET 1.1, с помощью «Установка и удаление программ» панели управления.

Сначала откройте панель управления:

![](aspnet-and-iis6/_static/image8.jpg)

Нажмите кнопку «Установка и удаление компонентов Windows» чего откроется «Мастер компонентов Windows»:

![](aspnet-and-iis6/_static/image9.jpg)

Выделите и установите флажок «Сервер приложений» и нажмите кнопку «Состав»? кнопки:

![](aspnet-and-iis6/_static/image10.jpg)

Чтобы установить ASP.NET, установите флажок "ASP. NET ".

Нажмите кнопку «ОК», чтобы вернуться в мастер компонентов Windows. Нажмите кнопку "Далее &gt;" в мастере компонентов Windows, чтобы приступить к установке:

![](aspnet-and-iis6/_static/image11.jpg)

Он является нормальным для просмотра других диалоговое окно, поля отображаются как установлены службы. Кроме того потребуется расположение установочного компакт-диска Windows 2003 Server.

После завершения установки вы увидите на последнем экране мастер компонентов Windows:

![](aspnet-and-iis6/_static/image12.jpg)

IIS 6.0 и ASP.NET 1.1 будут настроены и доступны.

## <a name="recommended-settings"></a>Рекомендуемые параметры

При запуске ASP.NET 1.1 в IIS 6.0 существует несколько параметров конфигурации, которые рекомендуются для получения оптимальной производительности из ASP.NET:

- Настройка предельных объемов памяти рабочего процесса
- Настройка перезапуск рабочего процесса

### <a name="configuring-worker-process-memory-limits"></a>Настройка предельных объемов памяти рабочего процесса

По умолчанию службы IIS 6.0 не задано ограничение на объем памяти, который разрешено использовать IIS. ASP. Функции кэша в NET зависит ограничение памяти, поэтому кэш заранее можно удалить неиспользуемые элементы из памяти.

Рекомендуется настроить повторное использование компонентов IIS 6.0 памяти. Для настройки этого откройте диспетчер служб IIS (Пуск | Программы | Администрирование | Internet Information Services). Когда открыт, откройте папку «Пулы приложений»:

Для каждого пула приложений:

![](aspnet-and-iis6/_static/image13.jpg)

1. Щелкните правой кнопкой мыши пул приложений, например «DefaultAppPool» и выберите «свойства».

![](aspnet-and-iis6/_static/image14.jpg)

2. Затем включите вторичное использование памяти, либо щелкнув "Максимальный размер используемой памяти (в мегабайтах):". Значение не должно быть больше, чем объем физической памяти (не виртуальном) на сервере, хорошее приближение составляет 60% физической памяти, т. е. для сервера с 512 МБ физической памяти, выберите 310. Также рекомендуется, максимально превышает 800 МБ при использовании 2 ГБ адресного пространства. Если адресное пространство памяти сервера: 3 ГБ, ограничение максимального объема памяти для рабочего процесса может быть как 1 800 МБ:

![](aspnet-and-iis6/_static/image15.jpg)

Нажмите кнопку «Применить» и «ОК», чтобы закрыть диалоговое окно свойств. Повторите эти действия для всех доступных пулов приложений.

### <a name="configuring-worker-recycling"></a>Настройка перезапуска

По умолчанию службы IIS 6.0 настраивается для перезапуска рабочего процесса каждые 29 часов. Это немного Агрессивный приложения выполняется ASP.NET и рекомендуется отключить перезапуск автоматического рабочего процесса.

Чтобы отключить перезапуск автоматического рабочего процесса, сначала откройте диспетчер служб IIS (Пуск | Программы | Администрирование | Internet Information Services). Когда открыт, откройте папку «Пулы приложений»:

![](aspnet-and-iis6/_static/image16.jpg)

Для каждого пула приложений:

1. Щелкните правой кнопкой мыши пул приложений, например «DefaultAppPool» и выберите «свойства».

![](aspnet-and-iis6/_static/image17.jpg)

2. Снимите флажок "Очистка рабочих процессов (в минутах):":

![](aspnet-and-iis6/_static/image18.jpg)

Нажмите кнопку «Применить» и «ОК», чтобы закрыть диалоговое окно свойств. Повторите эти действия для всех доступных пулов приложений.

## <a name="granting-write-access-to-the-file-system"></a>Предоставляя доступ на запись в файловой системе

Если приложению требуется доступ к записи в файловой системе и использовании NTFS необходимо управления список управления Доступом к файлу или папке для предоставления ASP.NET прав на изменение.

Например для предоставления ASP.NET доступ на запись к c:\inetpub\wwwroot сначала откройте проводник и перейдите в каталог:

![](aspnet-and-iis6/_static/image19.jpg)

После этого щелкните правой кнопкой мыши каталог, например «wwwroot» и выберите пункт Свойства. После открытия диалогового окна свойств перейдите на вкладку «Безопасность»:

![](aspnet-and-iis6/_static/image20.jpg)

Каталог c:\inetpub\wwwroot\ является специальные в том, что специальная группа IIS 6.0 "IIS\_WPG" уже имеет разрешения на чтение &amp; разрешения Execute, список содержимого папки и чтения. Тем не менее чтобы предоставить разрешение на запись, необходимо установите флажок Разрешить для записи:

![](aspnet-and-iis6/_static/image21.jpg)

IIS 6.0 теперь имеет разрешение на запись в эту папку. Чтобы предоставить разрешения на запись в другие папки, необходимо выполнить следующие действия — Обратите внимание, может потребоваться добавить в службах IIS\_группы WPG, если он еще не существует.

> [!CAUTION]
> Предоставление разрешение на запись IIS\_WPG позволит любое приложение ASP.NET для записи в этот каталог.

## <a name="supporting-integrated-authentication-with-sql-server"></a>Поддерживающие встроенную проверку подлинности с помощью SQL Server

Встроенная проверка подлинности позволяет SQL Server использовать проверку подлинности Windows NT для проверки учетных записей входа SQL Server. Это позволяет пользователю обойти стандартный процесс входа в систему SQL Server. При таком подходе сетевой доступ пользователь базы данных SQL Server без указания отдельный вход код или пароль, так как SQL Server получает пользователя и пароль из процесс обеспечения безопасности сети Windows NT.

Выбор встроенной проверки подлинности для приложения ASP.NET очень хорошо подходит, потому что когда-либо учетные данные не хранятся в строке подключения для вашего приложения. А строка подключения, используемая для подключения к SQL будет выглядеть следующим образом:

`"server=localhost; database=Northwind;Trusted_Connection=true"`

Эта строка подключения указывает SQL Server для использования учетных данных Windows, приложения, пытающихся получить доступ к SQL Server. В случае ASP.NET/IIS 6 это будет учетная запись в IIS\_группы WPG.

Чтобы включить встроенную проверку подлинности SQL Server и ASP.NET, необходимо сначала убедитесь, что SQL Server настроен для встроенной проверки подлинности или проверки подлинности в смешанном режиме - обратитесь к администратору базы данных для определения этого. Если SQL Server находится в одном из следующих двух режимов, можно использовать встроенную проверку подлинности.

Откройте SQL Server Enterprise Manager (Пуск | Программы | Microsoft SQL Server | Enterprise Manager), выберите подходящий сервер и разверните папку «Безопасность».

![](aspnet-and-iis6/_static/image22.jpg)

Если "BUILTINT\IIS\_WPG" группа не указана, щелкните правой кнопкой мыши имена входа и выберите «Новое имя входа»:

![](aspnet-and-iis6/_static/image23.jpg)

В "имя:" текстовое поле, либо ввести "[имя сервера или домена] \IIS\_WPG" или щелкнуть многоточия, чтобы открыть средство выбора пользователя или группы Windows NT:

![](aspnet-and-iis6/_static/image24.jpg)

Установите IIS на текущем компьютере\_WPG группы и нажмите кнопку «Добавить» и ОК, чтобы закрыть средство выбора.

Необходимо также задать разрешения для доступа к базе данных и базу данных по умолчанию. Чтобы настроить базу данных по умолчанию выберите из раскрывающегося списка, например ниже Northwind установлен:

![](aspnet-and-iis6/_static/image25.jpg)

Далее щелкните вкладку доступ к базе данных.

![](aspnet-and-iis6/_static/image26.jpg)

Установите флажок для каждой базы данных, который вы хотите разрешить доступ к разрешения. Также необходимо будет выбрать роли базы данных, проверка db\_владельца обеспечит ваше имя входа имеет все необходимые разрешения для управления и использование выбранной базы данных.

Нажмите кнопку ОК, чтобы закрыть диалоговое окно свойств. Приложение ASP.NET теперь настроен для поддержки проверки подлинности SQL Server.

## <a name="dont-run-aspnet-10-in-iis-60-native-mode"></a>Не запускайте ASP.NET 1.0 в собственном режиме IIS 6.0

ASP.NET 1.0 в службах IIS 6.0 поддерживается только в режиме совместимости с IIS 5.

Чтобы настроить ASP.NET 1.0 для запуска в режиме совместимости с IIS 5.0, откройте диспетчер служб Интернета и щелкните правой кнопкой мыши веб-сайтов и выберите Свойства:

![](aspnet-and-iis6/_static/image27.jpg)

Перейдите на вкладку "службы" и проверьте? Запускать веб-службу в режиме изоляции IIS 5.0?:

![](aspnet-and-iis6/_static/image28.jpg)
