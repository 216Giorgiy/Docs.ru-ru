---
uid: mvc/overview/older-versions-1/nerddinner/create-a-database
title: Создание базы данных | Документы Microsoft
author: microsoft
description: Шаг 2 показаны действия для создания базы данных, содержащий все компании dinner и RSVP данных для нашего приложения обновление NerdDinner.
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/27/2010
ms.topic: article
ms.assetid: 983f3ffa-08b8-4868-b8c9-aa34593fc683
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/nerddinner/create-a-database
msc.type: authoredcontent
ms.openlocfilehash: ba28d671bf13ec54b83b876462e2c23f90310037
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2018
ms.locfileid: "30869144"
---
<a name="create-a-database"></a>Создание базы данных
====================
по [Microsoft](https://github.com/microsoft)

[Скачать PDF](http://aspnetmvcbook.s3.amazonaws.com/aspnetmvc-nerdinner_v1.pdf)

> Это шаг 2 бесплатных [учебника «Обновление NerdDinner» приложения](introducing-the-nerddinner-tutorial.md) , обходов сквозной как построить небольшой, но завершается веб-приложения с помощью ASP.NET MVC 1.
> 
> Шаг 2 показаны действия для создания базы данных, содержащий все компании dinner и RSVP данных для нашего приложения обновление NerdDinner.
> 
> При использовании ASP.NET MVC 3, которому рекомендуется следовать [Приступая к работе с MVC 3](../../older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) или [MVC Music Store](../../older-versions/mvc-music-store/mvc-music-store-part-1.md) учебники.


## <a name="nerddinner-step-2-creating-the-database"></a>Обновление NerdDinner шаг 2: Создание базы данных

Мы будем работать с базы данных для хранения всех данных компании Dinner и RSVP для нашего приложения обновление NerdDinner.

Ниже описывается создание базы данных, используя бесплатный выпуск SQL Server Express (которые легко можно установить с помощью V2 из [Microsoft Web Platform Installer](https://www.microsoft.com/web/downloads/platform.aspx)). Весь код, мы записываем работает с SQL Server Express и полного сервера SQL.

### <a name="creating-a-new-sql-server-express-database"></a>Создание новой базы данных SQL Server Express

Мы будем начать, щелкните правой кнопкой мыши на наш веб-проекта, а затем выберите **Add -&gt;новый элемент** команды меню:

![](create-a-database/_static/image1.png)

Откроется диалоговое окно «Добавление нового элемента» Visual Studio. Мы фильтрация по категории «Данные» и выберите шаблон «Базы данных SQL Server»:

![](create-a-database/_static/image2.png)

Мы назовем базу данных SQL Server Express, необходимо создать «NerdDinner.mdf» и нажмите ОК. Visual Studio будет затем спросите нас, если мы хотим добавить этот файл в нашем \App\_каталог данных (которого является каталогом установки с чтения и записи безопасности списки управления доступом):

![](create-a-database/_static/image3.png)

Мы будем нажмите «Да» и нашей новой базы данных будет создана и добавлена в наш обозреватель решений:

![](create-a-database/_static/image4.png)

### <a name="creating-tables-within-our-database"></a>Создание таблиц в базе данных

Теперь у нас есть новую пустую базу данных. Давайте добавим некоторые таблицы к ней.

Для этого мы перейдите в окно вкладка «Обозреватель серверов» в Visual Studio, которая позволяет управлять базы данных и серверы. SQL Server, экспресс-выпуск базы данных, хранимые в \App\_папку данных приложения автоматически будут отображаться в обозревателе серверов. Значок «Соединение с базой данных» в верхней части окна «Обозреватель серверов» при необходимости можно использовать для добавления в список, а также дополнительные базы данных SQL Server (локальные и удаленные):

![](create-a-database/_static/image5.png)

Мы добавим две таблицы обновление NerdDinner базе данных — один для хранения нашей ужинов, а другая — для отслеживания RSVP принятия к ним. Мы можем создать новые таблицы, щелкнув папку «Таблицы» в базе данных и выбрать команду меню «Добавить новую таблицу»:

![](create-a-database/_static/image6.png)

То будет открыт конструктор таблицы, который позволяет настроить схему нашей таблице. Для нашей таблице «Ужинов» мы добавим 10 столбцов данных:

![](create-a-database/_static/image7.png)

Нам нужен столбец «DinnerID» в уникальный первичного ключа для таблицы. Мы можно настроить, щелкнув правой кнопкой мыши по столбцу «DinnerID» и выбрав пункт меню «Задать первичный ключ».

![](create-a-database/_static/image8.png)

Помимо внесения DinnerID первичный ключ, также необходимо настроить его как столбец «удостоверение», значение которого автоматически увеличивается на единицу при добавлении новой строки данных таблицы (первой строки вставляются Dinner будет иметь DinnerID 1 это означает, что второй вставляемые строки будет иметь DinnerID 2, и т. д).

Мы может это сделать, выбрав столбец «DinnerID» и затем с помощью редактора «Свойства столбца» для задания свойства "(Is Identity)» в столбце «Да». Мы будем использовать значения по умолчанию стандартной (начинается с 1 и увеличивается на 1 для каждой новой строки компании Dinner):

![](create-a-database/_static/image9.png)

Мы будем сохраните нашей таблице путем ввода Ctrl-S или с помощью **файл -&gt;Сохранить** команду меню. Система предложит нам назовите таблицу. Мы назовем ее «Ужинов»:

![](create-a-database/_static/image10.png)

Затем нашей новой таблицы ужинов будут отображаться в базе данных в обозревателе серверов.

Мы будем повторите описанные выше шаги и создать таблицу «RSVP». Таблица с содержит три столбца. Мы будет установки RsvpID столбец как первичный ключ, а также сделать столбец идентификаторов:

![](create-a-database/_static/image11.png)

Мы сохраните его и присвойте ему имя «RSVP».

### <a name="setting-up-a-foreign-key-relationship-between-tables"></a>Настройка внешнего ключа связи между таблицами

Теперь у нас есть две таблицы в базе данных. Наш последний шаг конструктора схемы будет настроить связь «один ко многим» между этими двумя таблицами — таким образом, мы можно связать каждую строку Dinner ноль или более строк RSVP, применяемых к этому. Мы сделаем, настроив столбца «DinnerID» таблицы RSVP иметь связь внешнего ключа к столбцу «DinnerID» в таблице «Ужинов».

Чтобы сделать это, будет открыт в конструкторе таблиц таблицу RSVP, дважды щелкнув его в обозревателе серверов. Затем мы выберем столбец «DinnerID», щелкните правой кнопкой мыши и выберите «Relationshps...» команды контекстного меню:

![](create-a-database/_static/image12.png)

Появится диалоговое окно, которое можно использовать для установки связи между таблицами:

![](create-a-database/_static/image13.png)

Мы будем нажмите кнопку «Добавить», чтобы добавить новое отношение к диалоговому окну. После добавления связи мы будет разверните узел «Спецификация таблиц и столбцов» представления дерева в сетке свойств в правой части диалогового окна, а затем нажмите кнопку «...» справа от его:

![](create-a-database/_static/image14.png)

Нажав кнопку «...» появится другое диалоговое окно, позволяющий указать, какие таблицы и столбцы, участвующие в связи, а также позволяют имя связи.

Мы изменить первичный ключ таблицы «Ужинов» и выберите столбец «DinnerID» в таблице ужинов как первичный ключ. Нашей таблице RSVP будет таблицы внешнего ключа и RSVP. Столбец DinnerID будет связан как внешний ключ:

![](create-a-database/_static/image15.png)

Теперь каждая строка в таблице RSVP будет связано со строкой в таблице обед. SQL Server будет поддерживать целостность для нас и предотвратить нам добавления новой строки RSVP, если он не указывает допустимую строку компании Dinner. Он будет также предотвратить нам при наличии по-прежнему RSVP строки, ссылающиеся на него при удалении строки Dinner.

### <a name="adding-data-to-our-tables"></a>Добавление данных в нашем таблицы

Добавим путем добавления к нашей таблице ужинов образцами данных. Можно добавить данные в таблицу, щелкнув его в обозревателе серверов и выбрав команду «Показать таблицу данных»:

![](create-a-database/_static/image16.png)

Мы добавим несколько строк данных компании Dinner, можно использовать позже, как мы начнем реализовывать приложения:

![](create-a-database/_static/image17.png)

### <a name="next-step"></a>Следующий шаг

Мы создано базе данных. Теперь создадим классов модели, которые можно использовать для запроса и его обновления.

> [!div class="step-by-step"]
> [Назад](create-a-new-aspnet-mvc-project.md)
> [Вперед](build-a-model-with-business-rule-validations.md)
