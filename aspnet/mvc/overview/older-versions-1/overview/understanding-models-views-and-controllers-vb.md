---
uid: mvc/overview/older-versions-1/overview/understanding-models-views-and-controllers-vb
title: "Общие сведения о моделях, представлениях и контроллерах (VB) | Документы Microsoft"
author: StephenWalther
description: "Не понимаете, о моделях, представлениях и контроллерах? В этом учебнике Стивен Вальтер приведены различные части приложения ASP.NET MVC."
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/19/2008
ms.topic: article
ms.assetid: a106374a-5e74-4fd0-9ac0-1a32280e5d0d
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/overview/understanding-models-views-and-controllers-vb
msc.type: authoredcontent
ms.openlocfilehash: 36f70503f7e96210e5fb8a2d361da6759c18c85b
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2017
---
<a name="understanding-models-views-and-controllers-vb"></a>Общие сведения о моделях, представлениях и контроллерах (Visual Basic)
====================
по [Стивен Вальтер](https://github.com/StephenWalther)

> Не понимаете, о моделях, представлениях и контроллерах? В этом учебнике Стивен Вальтер приведены различные части приложения ASP.NET MVC.


Этот учебник содержит высокоуровневые сведения о ASP.NET MVC модели, представления и контроллеры. Другими словами, он объясняет M ", V" и C "в ASP.NET MVC.

После прочтения этого учебника, следует понимать, как различные части приложения ASP.NET MVC работают вместе. Необходимо также понимать, как архитектуру приложения ASP.NET MVC отличается от приложения веб-форм ASP.NET или приложения Active Server Pages.

## <a name="the-sample-aspnet-mvc-application"></a>Образец приложения ASP.NET MVC

Шаблон по умолчанию Visual Studio для создания веб-приложений ASP.NET MVC включает очень простой пример приложения, можно использовать для понимания различные части приложения ASP.NET MVC. Мы используем это простое приложение, в этом учебнике.

Создайте новое приложение ASP.NET MVC с помощью шаблона MVC, запустив Visual Studio 2008 и выбрав пункт меню файл, создать проект (см. рис. 1). В диалоговом окне нового проекта выберите избранные язык программирования в списке типов проектов (Visual Basic или C#) и выберите **веб-приложение ASP.NET MVC** в группе шаблонов. Нажмите кнопку "ОК".


[![Диалоговое окно нового проекта](understanding-models-views-and-controllers-vb/_static/image1.jpg)](understanding-models-views-and-controllers-vb/_static/image1.png)

**На рисунке 01**: диалоговое окно нового проекта ([Просмотр полноразмерное изображение](understanding-models-views-and-controllers-vb/_static/image2.png))


При создании нового приложения ASP.NET MVC, **Создание проекта модульных тестов** откроется диалоговое окно (см. рис. 2). Это диалоговое окно позволяет создать отдельный проект в решении для тестирования приложений ASP.NET MVC. Выберите параметр **нет, не создавать проект модульного теста** и нажмите кнопку **ОК** кнопки.


[![Создание диалогового окна модульных тестов](understanding-models-views-and-controllers-vb/_static/image2.jpg)](understanding-models-views-and-controllers-vb/_static/image3.png)

**На рисунке 02**: Создание диалогового окна модульных тестов ([Просмотр полноразмерное изображение](understanding-models-views-and-controllers-vb/_static/image4.png))


После новой ASP.NET MVC создается приложение. Вы увидите несколько папок и файлов в окне обозревателя решений. В частности вы увидите три папки с именем модели, представления и контроллеры. Как можно догадаться имена папок, эти папки содержат файлы для реализации модели, представления и контроллеры.

Если развернуть папку Controllers, вы увидите файл с именем AccountController.vb и файл с именем HomeController.vb. Если вы разверните папку Views, должны появиться три вложенные папки с именем учетной записи, Home и Shared. Если развернуть корневой папки, вы увидите два дополнительных файлов с именем About.aspx и Index.aspx (см. рис. 3). Эти файлы составляют образец приложения, включенных в шаблон ASP.NET MVC по умолчанию.


[![Окно обозревателя решений](understanding-models-views-and-controllers-vb/_static/image3.jpg)](understanding-models-views-and-controllers-vb/_static/image5.png)

**На рисунке 03**: окно обозревателя решений ([Просмотр полноразмерное изображение](understanding-models-views-and-controllers-vb/_static/image6.png))


Образец приложения можно выполнить путем выбора пункта меню **отладка, начать отладку**. Кроме того можно нажать клавишу F5.

При первом запуске приложения ASP.NET, открывается диалоговое окно на рис. 4, в которое рекомендует включить режим отладки. Нажмите кнопку "ОК", и приложение будет работать.


[![Отладка не включена диалоговое окно](understanding-models-views-and-controllers-vb/_static/image4.jpg)](understanding-models-views-and-controllers-vb/_static/image7.png)

**На рисунке 04**: отладка не включена диалогового окна ([Просмотр полноразмерное изображение](understanding-models-views-and-controllers-vb/_static/image8.png))


При запуске приложения ASP.NET MVC в Visual Studio запускает приложение в веб-браузере. Образец приложения состоит из только две страницы: страницы индекса и страницы о программе. При первом запуске приложения, то индекс появляется страница (см. рис. 5). Можно перейти на страницу о программе, щелкнув ссылку меню в верхней правой части приложения.


[![Страница индекса](understanding-models-views-and-controllers-vb/_static/image5.jpg)](understanding-models-views-and-controllers-vb/_static/image9.png)

**На рисунке 05**: страница индекса ([Просмотр полноразмерное изображение](understanding-models-views-and-controllers-vb/_static/image10.png))


Обратите внимание, URL-адреса в адресной строке браузера. Например, если щелкнуть ссылку меню о программе, URL-адрес в адресной строке браузера изменяет **/или домашней**.

Если закрыть окно браузера и вернитесь в Visual Studio, невозможно найти файл с домашней путь/о программе. Эти файлы не существуют. Как это можно сделать?

## <a name="a-url-does-not-equal-a-page"></a>URL-адрес не является страницей

При построении традиционных приложений для веб-форм ASP.NET или приложение Active Server Pages имеется однозначное соответствие между URL-адреса и страницы. Если пользователь запрашивает страницу с именем SomePage.aspx с сервера, то лучше быть страницы на диск с именем SomePage.aspx. Если файл SomePage.aspx не существует, возникнет ужасно **404 - страница не найдена** ошибки.

При создании приложения ASP.NET MVC, напротив, нет соответствия между URL-адрес, введите в адресной строке браузера и файлы, которые можно найти в приложении. В приложении ASP.NET MVC URL-адрес соответствует действия контроллера, а не с помощью страницы на диск.

В традиционных приложений ASP.NET или ASP запросы браузера сопоставляются на страницы. В приложении ASP.NET MVC в противоположность этому, запросы браузера сопоставляются действия контроллера. Приложения веб-форм ASP.NET будет состоять из содержимого. Приложения ASP.NET MVC — в отличие от этого, ориентированных на логику приложения.

## <a name="understanding-aspnet-routing"></a>Основные сведения о маршрутизации ASP.NET

Запрос браузера сопоставлены действия контроллера посредством компонента платформы ASP.NET, который называется *маршрутизация ASP.NET*. Маршрутизация ASP.NET используется платформой ASP.NET MVC для *маршрута* входящие запросы на действия контроллера.

Маршрутизация ASP.NET использует таблицы маршрутизации для обработки входящих запросов. Эта таблица маршрутов создается при первом запуске веб-приложения. Таблица маршрутов является настройка в файле Global.asax. Файл MVC Global.asax по умолчанию содержится в листинге 1.

**1 — Global.asax со списком**

[!code-vb[Main](understanding-models-views-and-controllers-vb/samples/sample1.vb)]

Если приложение ASP.NET первом запуске приложения\_вызывается метод Start(). В список 1 Этот метод вызывает метод RegisterRoutes() и метод RegisterRoutes() создает таблицу маршрутов по умолчанию.

Таблица маршрутов по умолчанию состоит из одного маршрута. Этот маршрут по умолчанию разбивает всех входящих запросов на три сегмента (сегмент URL-адреса имеет значение, отличное от косые черты). Первый сегмент сопоставляется имя контроллера, второй сегмент сопоставляется имени действия и последнего сегмента сопоставляется параметра, переданные в действие с именем идентификатора.

Например рассмотрим следующий URL-адрес:

/ Продукта или сведения о/3

Этот URL-адрес разбивается на три параметра следующим образом:

Контроллер = продукт

Действие = подробные сведения

идентификатор = 3

Маршрут по умолчанию, определенное в файле Global.asax содержит значения по умолчанию для всех трех параметров. Значение по умолчанию контроллер — Главная, действие по умолчанию — индекс и идентификатор по умолчанию — пустая строка. Эти значения по умолчанию в виду рассмотрите анализ следующий URL-адрес:

/ Сотрудника

Этот URL-адрес разбивается на три параметра следующим образом:

Контроллер = сотрудника

Действие = индекс

Идентификатор =

Наконец при открытии приложения ASP.NET MVC без указания любой URL-адрес (например, `http://localhost`) URL-адрес разбивается следующим образом:

контроллер = Home

Действие = индекс

Идентификатор =

Запрос перенаправляется к действию Index() в класс HomeController.

## <a name="understanding-controllers"></a>Общее представление о контроллерах

Контроллер отвечает за управление способом, который пользователь взаимодействует с приложением MVC. Контроллер содержит логику управления потоком для приложения ASP.NET MVC. Контроллер определяет, какие ответа для отправки с пользователем, когда пользователь создает запрос браузера.

Контроллер — это класс (например, класс Visual Basic или C#). Пример приложения ASP.NET MVC включает контроллер с именем HomeController.vb, расположенный в папке контроллеров. Содержимое файла HomeController.vb воспроизводится в списке 2.

**Листинг 2 - HomeController.cs**

[!code-vb[Main](understanding-models-views-and-controllers-vb/samples/sample2.vb)]

Обратите внимание, что HomeController имеет два метода с именем Index() и About(). Эти методы соответствуют два действия, предоставляемые контроллером. URL-адрес/Home или индекса вызывает метод HomeController.Index() и URL-адрес/Home/о вызывает метод HomeController.About().

Любому открытому методу в контроллере предоставляется как действия контроллера. Необходимо быть осторожным это. Это означает, что любой открытый метод, содержащихся в контроллер может быть вызван любым пользователем, имеющим доступ к Интернету, введя подходящего URL-адреса в браузере.

## <a name="understanding-views"></a>Основные сведения о представлениях

Два контроллера действия, предоставляемые классом HomeController Index() и About(), возвращают представления. Представление содержит HTML-разметка и содержимое, отправляемое в браузере. Представление эквивалентно страницы при работе с приложением ASP.NET MVC.

Необходимо создать представления в нужных местах. Действие HomeController.Index() возвращает представление, расположенный по следующему пути:

\Views\Home\Index.aspx

Действие HomeController.About() возвращает представление, расположенный по следующему пути:

\Views\Home\About.aspx

Как правило если вы хотите получить о действия контроллера, затем необходимо создать вложенную папку в папке Views с тем же именем, как контроллер. Внутри вложенной папки необходимо создать файл .aspx с тем же именем, как действия контроллера.

Этот файл в списке 3 содержит представление About.aspx.

**Листинг 3 - About.aspx**

[!code-aspx[Main](understanding-models-views-and-controllers-vb/samples/sample3.aspx)]

Если сейчас пропустить первую строку в листинге 3 остальная представления состоит из стандартных HTML. Содержимое представления можно изменить, указав любой код HTML, который требуется здесь.

Представление очень похожа на страницу в ASP-страниц или веб-форм ASP.NET. Представление может содержать HTML-содержимого и сценариев. Можно создавать скрипты в Избранные .NET языке (например, C# или Visual Basic .NET). Использовать сценарии для отображения динамического содержимого, такие как базы данных.

## <a name="understanding-models"></a>Общие сведения о моделях

Мы обсуждали контроллеров, и мы обсуждали представления. Последний раздел, необходимо рассмотреть — моделей. Что такое модель MVC

Модель MVC содержит все логики приложения, не содержится в контроллере или представления. Модель должна содержать все логику проверки, бизнес-логики и логики доступа к базе данных. Например при использовании Microsoft Entity Framework для доступа к базе данных будет создать классов платформы Entity Framework (EDMX-файл) в папке «Models».

Представление должно содержать только логику, связанные с созданием пользовательского интерфейса. Контроллер должен содержать только минимальные логику, необходимую для возврата правильное представление или перенаправлять пользователя на другое действие (Управление потоком). Все остальные должны содержаться в модели.

В общем случае следует стремиться fat моделей и небольшой контроллеров. Свои методы контроллера должен содержать только несколько строк кода. Если действие контроллера возвращает слишком fat, следует рассмотреть, переходе логику к новый класс в папке «Models».

## <a name="summary"></a>Сводка

Этот учебник предоставлен общий обзор различных частей ASP.NET MVC веб-приложения. Вы узнали, как маршрутизация ASP.NET сопоставляет входящие запросы браузера на конкретном контроллере действия. Вы узнали, как контроллеры управления как представления возвращаются в браузере. Наконец вы узнали, как модели содержат приложения business, проверки и логики доступа к базе данных.
