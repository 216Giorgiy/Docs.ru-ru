---
uid: mvc/overview/older-versions-1/getting-started-with-mvc/getting-started-with-mvc-part2
title: Добавление контроллера | Документы Microsoft
author: shanselman
description: Обновленная версия, если этот учебник доступен с помощью Visual Studio 2013. Новое в этом учебнике используется ASP.NET MVC 5 обеспечивает множество улучшений t...
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/14/2010
ms.topic: article
ms.assetid: ff03dcc0-da97-458d-838f-0823e7482642
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/getting-started-with-mvc/getting-started-with-mvc-part2
msc.type: authoredcontent
ms.openlocfilehash: c6ecd1ffdd53a629d0079d57b85c7f6db2f316ce
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2018
ms.locfileid: "30869027"
---
<a name="adding-a-controller"></a>Добавление контроллера
====================
по [Скотт Хансельман](https://github.com/shanselman)

> > [!NOTE]
> > Обновленная версия, если этот учебник доступен [здесь](../../getting-started/introduction/getting-started.md) с помощью [Visual Studio 2013](https://www.microsoft.com/visualstudio/eng/2013-downloads). Новое учебное использует ASP.NET MVC 5 обеспечивает множество преимуществ по сравнению этого учебника.
> 
> 
> Это руководство для новичков, в котором представлены основные сведения по ASP.NET MVC. Вы создадите простое веб-приложение выполняет чтение и запись из базы данных. Посетите [центр обучения ASP.NET MVC](../../../index.md) для поиска других ASP.NET MVC, учебники и примеры.


MVC означает модели, представления и контроллера. MVC представляет собой шаблон для разработки приложений, таким образом, что каждая часть имеет ответственности, который отличается от другого.

- Модель: Данные приложения
- Просмотр: Файлы шаблонов ваше приложение будет использовать для динамического создания HTML-ответы.
- Контроллеры: Классы, которые обрабатывают входящие запросы на URL-адрес для приложения, получения данных модели, а затем укажите шаблонов представлений, которые отображают ответ обратно клиенту

Мы быть, охватывающие все эти компоненты в этом учебнике и показано, как их использовать для построения приложения.

Давайте создадим новый контроллер, щелкнув правой кнопкой мыши папку controllers в обозревателе решений и выбрав пункт Добавить контроллер.

[![AddControllerRightClick](getting-started-with-mvc-part2/_static/image2.png)](getting-started-with-mvc-part2/_static/image1.png)

Имя вашего нового контроллера «HelloWorldController» и нажмите кнопку Добавить.

[![Диалоговое окно добавления контроллера](getting-started-with-mvc-part2/_static/image4.png)](getting-started-with-mvc-part2/_static/image3.png)

Обратите внимание, в обозревателе решений в правой части, новый файл был создан под названием HelloWorldController.cs и теперь этот файл открыт в **IDE**.

[![HelloWorldControllerCode](getting-started-with-mvc-part2/_static/image6.png)](getting-started-with-mvc-part2/_static/image5.png)

Создайте два новых метода, которые выглядят следующим образом внутри новой HelloWorldController открытого класса. Мы вернемся строка HTML, непосредственно из наших контроллера в качестве примера.

[!code-csharp[Main](getting-started-with-mvc-part2/samples/sample1.cs)]

Контроллер с именем HelloWorldController и новый метод вызывается индекса. Запустите приложение повторно, так же как и раньше (нажмите кнопку "Воспроизведение" или нажмите клавишу F5, чтобы это сделать). После запуска браузера, измените путь в адресной строке, чтобы `http://localhost:xx/HelloWorld` выбрал где xx — любое число, на компьютере. Теперь ваш браузер должен выглядеть как на следующем снимке экрана. В данном методе выше мы возвращается строка, передаваемая в метод с именем «Содержимое». Как отмечалось выше система просто возвращает HTML-ФАЙЛ, как и!

ASP.NET MVC вызывает различные классы контроллера (и различные методы действий в них), в зависимости от входящего URL-адреса. Контролировать, какая часть кода выполняется логика сопоставления по умолчанию, используемые ASP.NET MVC используется формат следующим образом:

/[Controller]/[ActionName]/[Parameters]

Первая часть URL-адреса определяет класс контроллера для выполнения. Поэтому /HelloWorld сопоставляет класс HelloWorldController. Во второй части URL-адрес определяет на класс для выполнения метода действия. Поэтому /HelloWorld/Index вызовет метод Index() HelloWorldcontroller класса для выполнения. Обратите внимание, что пришлось только посетите /HelloWorld выше, а также метод, который применен индекс. Это так, как метод с именем «Индекс» является методом по умолчанию, который будет вызываться на контроллере, если тип не задан явно.

[![Это Мои действия по умолчанию](getting-started-with-mvc-part2/_static/image8.png)](getting-started-with-mvc-part2/_static/image7.png)

Теперь давайте посетите `http://localhost:xx/HelloWorld/Welcome.` теперь наши приветствия метод выполнен и вернул его HTML-строки.

Опять же / [контроллер] / [действие] / [параметры], поэтому HelloWorld контроллер, и в этом случае метод является начальной настройки. Мы еще не сделали еще параметров.

[![Этот метод называется методом действия приветствия](getting-started-with-mvc-part2/_static/image10.png)](getting-started-with-mvc-part2/_static/image9.png)

Давайте немного изменить приведенный образец, чтобы некоторые данные в URL-адреса можно передать в нашем контроллер, например следующим образом: / HelloWorld/приветствия? name = Скотт&amp;numtimes = 4. Измените метод приветствия для включения двух параметров и обновление его, аналогичные показанным ниже. Обратите внимание, что мы использовали функцию C# необязательный параметр для указания, numTimes параметра следует по умолчанию 1, если он не передается в.

[!code-csharp[Main](getting-started-with-mvc-part2/samples/sample2.cs)]

Запустите приложение и посетите `http://localhost:xx/HelloWorld/Welcome?name=Scott&numtimes=4` изменение значения имени и numtimes, сколько пожелаете. Система автоматически сопоставляются именованные параметры из строки запроса в адресной строке для параметров в методе.

В обоих этих примерах контроллер был с работой и возврат HTML непосредственно. Обычно мы не хотим нашей контроллеров непосредственно - возврат HTML с момента, получилась очень сложно в код. Вместо этого мы обычно используем отдельный файл шаблона представление позволяет создать HTML-ответа. Давайте взглянем на как можно это сделать. Закройте браузер и вернитесь в интегрированную среду разработки.

> [!div class="step-by-step"]
> [Назад](getting-started-with-mvc-part1.md)
> [Вперед](getting-started-with-mvc-part3.md)
