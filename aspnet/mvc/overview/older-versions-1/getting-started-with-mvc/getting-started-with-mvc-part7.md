---
uid: mvc/overview/older-versions-1/getting-started-with-mvc/getting-started-with-mvc-part7
title: Добавление проверки для модели | Документы Microsoft
author: shanselman
description: Это руководство для новичков, в котором представлены основные сведения по ASP.NET MVC. Создание простого веб-приложения, чтение и запись из базы данных.
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/14/2010
ms.topic: article
ms.assetid: aa7b3e8e-e23d-49f1-b160-f99a7f2982bd
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/getting-started-with-mvc/getting-started-with-mvc-part7
msc.type: authoredcontent
ms.openlocfilehash: 78dd6bdd81fcb51a3a21a8f1ee12b4b2bfc37db5
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2018
ms.locfileid: "30871952"
---
<a name="adding-validation-to-the-model"></a>Добавление проверки для модели
====================
по [Скотт Хансельман](https://github.com/shanselman)

> Это руководство для новичков, в котором представлены основные сведения по ASP.NET MVC. Вы создадите простое веб-приложение выполняет чтение и запись из базы данных. Посетите [центр обучения ASP.NET MVC](../../../index.md) для поиска других ASP.NET MVC, учебники и примеры.


В этом разделе мы собираемся реализовать функции, необходимые для включения проверки входных данных в приложении. Мы будем убедитесь, что наши содержимое базы данных всегда правильно работает и предоставляют полезные сообщения об ошибках для конечных пользователей при их повторите ввод данных фильма, которое не является допустимым. Для начала рассмотрим путем добавления немного логику проверки в класс фильма.

Щелкните правой кнопкой мыши папку модели и выберите пункт Добавить класс. Имя класса фильма.

Когда ранее созданную модель сущностей фильма фильма класс создан интегрированной среды разработки. На самом деле часть класса фильма может быть в один файл и входит в другой. Это называется разделяемый класс. Мы собираемся расширить класс фильма из другого файла.

Мы создадим фильма разделяемого класса, указывающего «класс-близнец» с некоторых атрибутов, которые будут давать подсказки проверки в системе. Мы будет пометить названия и цены как обязательные, а также на том, что цена должно быть в пределах определенного диапазона. Щелкните правой кнопкой мыши папку модели и выберите пункт Добавить класс. Имя класса фильма и нажмите кнопку "ОК". Вот, что наши частичного фильма класса выглядит.

[!code-csharp[Main](getting-started-with-mvc-part7/samples/sample1.cs)]

Повторно запустите приложение и вводят фильма с ценой более чем 100. После отправки формы, приведет к ошибке. Ошибка перехватывается на стороне сервера и возникает после отправки формы. Обратите внимание на то, как ASP.NET MVC встроенные вспомогательные методы HTML были умеет отображать сообщение об ошибке и оставьте значения нам внутри текстового поля элементов:

[![CreateMovieWithValidation](getting-started-with-mvc-part7/_static/image2.png)](getting-started-with-mvc-part7/_static/image1.png)

Это отлично работает, но было бы неплохо, если мы может попросить пользователя на стороне клиента, немедленно, прежде чем сервер получает участвуют.

Давайте включить некоторые проверки на стороне клиента с использованием JavaScript.

## <a name="adding-client-side-validation"></a>Добавление проверки на стороне клиента

Поскольку нашего фильма класса уже имеет некоторые атрибуты проверки, нам просто нужно будет добавить несколько файлов JavaScript в наших Create.aspx Просмотр шаблона и добавить строку кода для включения клиентской проверки вступили в силу.

Из VWD go наши представления/фильма папку и откройте Create.aspx.

Откройте папку «скрипты» в обозревателе решений и перетащите следующих трех сценариев в &lt;head&gt; тег.

- MicrosoftAjax.js
- MicrosoftMvcValidation.js

Требуется, чтобы эти файлы в указанном порядке.

[!code-html[Main](getting-started-with-mvc-part7/samples/sample2.html)]

Кроме того добавьте эта строка выше Html.BeginForm:

[!code-aspx[Main](getting-started-with-mvc-part7/samples/sample3.aspx)]

Ниже приведен код, показанный в среде IDE.

[![Фильмы - Microsoft Visual Web Developer 2010 Express (10)](getting-started-with-mvc-part7/_static/image4.png)](getting-started-with-mvc-part7/_static/image3.png)

Запустите приложение и повторном посещении /Movies/Create и нажмите кнопку Создать, не вводя данные. Сообщения об ошибках отображаются сразу же без странице флэш-памяти, связанные с отправкой данных все способ обратно на сервер. Это ASP.NET MVC теперь проверку входных данных на обоих клиента (с использованием JavaScript) и на сервере.

[![Создание - Windows Internet Explorer](getting-started-with-mvc-part7/_static/image6.png)](getting-started-with-mvc-part7/_static/image5.png)

Требуется хорошо! Теперь добавим один дополнительный столбец в базу данных.

> [!div class="step-by-step"]
> [Назад](getting-started-with-mvc-part6.md)
> [Вперед](getting-started-with-mvc-part8.md)
