---
uid: mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb
title: Создайте приложение фильма базы данных в течение 15 минут с ASP.NET MVC (VB) | Документы Microsoft
author: StephenWalther
description: Стивен Вальтер строит всей базы данных приложения ASP.NET MVC от начала и завершения. Этот учебник, отлично сведения для пользователей, которые Созд...
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/27/2009
ms.topic: article
ms.assetid: e4ba9786-734c-4eb3-91bb-089793325d0d
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb
msc.type: authoredcontent
ms.openlocfilehash: ecd5892457af5bc14a939672c64eed85fc05ec22
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2018
ms.locfileid: "30876206"
---
<a name="create-a-movie-database-application-in-15-minutes-with-aspnet-mvc-vb"></a>Создайте приложение фильма базы данных в течение 15 минут с ASP.NET MVC (Visual Basic)
====================
по [Стивен Вальтер](https://github.com/StephenWalther)

[Загрузить исходный код](http://download.microsoft.com/download/7/2/8/728F8794-E59A-4D18-9A56-7AD2DB05BD9D/MovieApp_VB.zip)

> Стивен Вальтер строит всей базы данных приложения ASP.NET MVC от начала и завершения. Этот учебник содержит значительные введение для тех, кто не знаком с платформой ASP.NET MVC, которые хотят понять процесс создания приложения ASP.NET MVC.


Цель данного руководства — предоставить смысл термина «он выглядит» для создания приложения ASP.NET MVC. В этом учебнике я смоделируйте всего приложения ASP.NET MVC от начала и завершения построения. Я покажу, как создать простое приложение базы данных, которое показывает как список, создания и редактирования записей базы данных.

Чтобы упростить процесс создания приложения, мы будет воспользоваться преимуществами функции формирования шаблонов Visual Studio 2008. Мы сообщим Visual Studio создать исходный код и содержимого для наших контроллеры, модели и представления.

Если вы работали с страницы ASP или ASP.NET, затем следует найти ASP.NET MVC очень знакомыми. Представления ASP.NET MVC — это очень похоже на страницах приложения Active Server Pages. И, как и в традиционных приложений для веб-форм ASP.NET, ASP.NET MVC предоставляет полный доступ к широкий спектр языков и классов, предоставляемых платформой .NET framework.

Я надеюсь является то, что этот учебник даст вам представление о том, как опыт в создании приложения ASP.NET MVC аналогичные и отличается от качества построения приложения ASP-страниц или веб-форм ASP.NET.

## <a name="overview-of-the-movie-database-application"></a>Общие сведения о фильме приложение базы данных

Поскольку наша цель — для простоты, мы выполним сборку очень простое приложение фильма базы данных. Наш простое приложение базы данных фильма позволит выполнить три действия:

1. Список фильмов записей базы данных
2. Создать новую запись фильма базы данных
3. Изменить существующую запись фильма базы данных

Опять же поскольку мы хотим, чтобы не усложнять, мы воспользуюсь минимальное число компоненты платформы ASP.NET MVC, необходимые для построения приложения. Например мы не используют преимущества методики разработки.

Чтобы создать приложение, необходимо выполнить каждое из следующих действий:

1. Создание проекта веб-приложения ASP.NET MVC
2. Создание базы данных
3. Создание модели базы данных
4. Создание контроллера ASP.NET MVC
5. Создание представления ASP.NET MVC

## <a name="preliminaries"></a>Предварительные действия

Вам потребуется Visual Studio 2008 или Visual Web Developer 2008 Express, для создания приложения ASP.NET MVC. Необходимо также загрузить платформу ASP.NET MVC.

Если вы не являетесь Visual Studio 2008, 90-дневная пробная версия Visual Studio 2008 можно загрузить из этого веб-сайта:

[https://msdn.microsoft.com/vs2008/products/cc268305.aspx](https://msdn.microsoft.com/vs2008/products/cc268305.aspx)

Кроме того создаются ASP.NET MVC приложений с помощью Visual Web Developer Express 2008. Если вы решили использовать Visual Web Developer Express необходимо иметь установленным пакетом обновления 1. Visual Web Developer 2008 Express с пакетом обновления 1 можно загрузить из этого веб-сайта:

[https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en](https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en)

После установки Visual Studio 2008 или Visual Web Developer 2008, необходимо установить платформу ASP.NET MVC. Платформа ASP.NET MVC можно загрузить с веб-сайте:

[https://www.asp.net/mvc/](../../../index.md)

> [!NOTE] 
> 
> Вместо загрузки платформы ASP.NET и платформа ASP.NET MVC по отдельности, можно воспользоваться преимуществами установщика веб-платформы. Установщик веб-платформы является приложение, которое позволяет легко управлять установленных приложений на компьютере:
> 
> [https://www.microsoft.com/web/gallery/Install.aspx](https://www.microsoft.com/web/gallery/Install.aspx)


## <a name="creating-an-aspnet-mvc-web-application-project"></a>Создание проекта веб-приложения ASP.NET MVC

Начнем с создания проекта веб-приложения ASP.NET MVC в Visual Studio 2008. Выберите пункт меню в **файл, создать проект** и вы увидите диалоговое окно нового проекта на рис. 1. Выберите язык программирования Visual Basic и выберите шаблон проекта веб-приложения ASP.NET MVC. Присвойте проекту имя MovieApp и нажмите кнопку "ОК".


[![Диалоговое окно нового проекта](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image1.png)

**На рисунке 01**: диалоговое окно «Новый проект» ([Просмотр полноразмерное изображение](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.png))


Убедитесь в том, что .NET Framework 3.5 выберите из раскрывающегося списка в верхней части диалогового окна нового проекта или шаблона проекта веб-приложения ASP.NET MVC не будет отображаться.


Каждый раз при создании нового проекта веб-приложение MVC, Visual Studio предложит пользователю создавать проект модульного теста. Откроется диалоговое окно, на рис. 2. Поскольку мы не будет создавать тесты в этом учебнике из-за ограничений по времени (и Да, мы должно быть немного какой об этом) выберите **нет** и нажмите кнопку **ОК** кнопки.

> [!NOTE] 
> 
> Visual Web Developer не поддерживает проекты тестов.


[![Диалоговое окно нового проекта](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.png)

**На рисунке 02**: диалоговое окно Создание проекта модульных тестов ([Просмотр полноразмерное изображение](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.png))


Приложение ASP.NET MVC имеет стандартный набор папок: папки модели, представления и контроллеры. Вы увидите этот стандартный набор папок в окне обозревателя решений. Нам нужно будет добавить файлы для каждой модели, представления и контроллеры папки для построения нашего фильма базы данных приложения.

При создании новых MVC-приложений с помощью Visual Studio, вы получаете образец приложения. Поскольку мы хотим начать с нуля, необходимо удалить содержимое для этого примера приложения. Вам необходимо удалить следующий файл и в следующую папку:

- Controllers\HomeController.vb
- Views\Home

## <a name="creating-the-database"></a>Создание базы данных

Необходимо создать базу данных для хранения фильма записям базы данных. К счастью Visual Studio включает бесплатную базу данных с именем SQL Server Express. Выполните следующие действия для создания базы данных.

1. Щелкните правой кнопкой мыши приложение\_папки данных в окне обозревателя решений и выберите пункт меню **добавить, новый элемент**.
2. Выберите **данные** категорию и выберите **базы данных SQL Server** шаблона (см. рис. 3).
3. Имя новой базы данных *MoviesDB.mdf* и нажмите кнопку **добавить** кнопки.

После создания базы данных, можно соединиться с базой данных, дважды щелкнув файл MoviesDB.mdf, расположенный в приложении\_папки данных. Дважды щелкните файл MoviesDB.mdf открыть окно обозревателя серверов.

> [!NOTE] 
> 
> Окно обозревателя серверов называется окно обозревателя базы данных в случае Visual Web Developer.


[![Диалоговое окно нового проекта](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.png)

**На рисунке 03**: Создание базы данных Microsoft SQL Server ([Просмотр полноразмерное изображение](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.png))


Теперь нам нужны для создания новой таблицы базы данных. Из в окне обозревателя сервера, щелкните правой кнопкой мыши папку «таблицы» и выберите пункт меню в **добавить новую таблицу**. При выборе этого параметра меню откроется конструктор таблиц базы данных. Создайте следующие столбцы базы данных:

<a id="0.2_table01"></a>


| **Имя столбца** | **Тип данных** | **Разрешить значения NULL** |
| --- | --- | --- |
| Идентификатор | Int | False |
| Заголовок | Nvarchar(100) | False |
| Директор | Nvarchar(100) | False |
| DateReleased | DateTime | False |


Первый столбец, столбец идентификатора имеет два специальных свойства. Во-первых необходимо пометить идентификатор столбца, как столбец первичного ключа. Выбрав столбец идентификатора, нажмите кнопку **задать первичный ключ** кнопки (это значок, который выглядит как ключ). Во-вторых необходимо пометить идентификатор столбца, как столбец идентификаторов. В окне «Свойства столбца» перейдите к разделу Спецификация идентификации и разверните его. Изменение **Is Identity** значение **Да**. Когда вы закончите, таблица должна выглядеть как на рис. 4.


[![Диалоговое окно нового проекта](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.png)

**На рисунке 04**: фильмы таблицы базы данных ([Просмотр полноразмерное изображение](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.png))


Последним шагом является сохранение новой таблицы. Нажмите кнопку «Сохранить» (значок дискеты) и предоставить фильмы имя новой таблицы.

После создания таблицы, добавьте некоторые фильма записи в таблицу. Щелкните правой кнопкой мыши таблицу фильмов в окне обозревателя серверов и выберите пункт меню в **Показать таблицу данных**. Введите список избранных фильмы (см. рис. 5).


[![Диалоговое окно нового проекта](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.png)

**На рисунке 05**: ввода записи фильма ([Просмотр полноразмерное изображение](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.png))


## <a name="creating-the-model"></a>Создание модели

Далее необходимо создать набор классов для представления в базе данных. Необходимо создать модель базы данных. Мы будем воспользоваться преимуществами Microsoft Entity Framework для создания классов для нашей модели базы данных автоматически.

> [!NOTE] 
> 
> Платформа ASP.NET MVC не привязан к платформе Entity Framework корпорации Майкрософт. Базы данных можно создать классы модели, используя преимущества различных объекта реляционного сопоставления (или / M) средств, включая LINQ to SQL, Subsonic и NHibernate.


Выполните следующие действия, чтобы запустить мастер моделей EDM.

1. Щелкните правой кнопкой мыши папку модели в окне обозревателя решений и выберите пункт меню **добавить, новый элемент**.
2. Выберите **данные** категорию и выберите **ADO.NET Entity Data Model** шаблона.
3. Присвойте имя модели данных *MoviesDBModel.edmx* и нажмите кнопку **добавить** кнопки.

После нажатия кнопки Добавить появится мастер моделей EDM (см. рис. 6). Выполните следующие действия, чтобы завершить работу мастера.

1. В **Выбор содержимого модели** шаг, выберите **создать из базы данных** параметр.
2. В **Выбор подключения к данным** шаг, используйте *MoviesDB.mdf* подключения данных и имени *MoviesDBEntities* параметров подключения. Нажмите кнопку **Далее** кнопки.
3. В **Выбор объектов базы данных** шаг, разверните узел таблицы, выберите таблицу, фильмов. Введите пространство имен *MovieApp.Models* и нажмите кнопку **Готово** кнопки.


[![Диалоговое окно нового проекта](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.png)

**На рисунке 06**: Создание модели базы данных с помощью мастера моделей EDM ([Просмотр полноразмерное изображение](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.png))


После завершения мастера моделей EDM, откроется конструктор модели EDM. Конструктор должен отображать фильмы таблицы базы данных (см. рис. 7).


[![Диалоговое окно нового проекта](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.png)

**На рисунке 07**: конструктор моделей EDM ([Просмотр полноразмерное изображение](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.png))


Необходимо внести одно изменение, перед продолжением. Мастер EDM создает класс модели с именем фильмы, представляющий таблицу базы данных, фильмов. Так как мы будем использовать фильмы класс для представления определенного фильма, необходимо изменить имя класса, чтобы быть *фильма* вместо *фильмов* (единственного числа вместо множественного числа).

Дважды щелкните имя класса в рабочей области конструктора и измените имя класса из фильмов на фильма. После внесения этого изменения, нажмите кнопку **Сохранить** кнопку (значок дискеты) для создания класса фильма.

## <a name="creating-the-aspnet-mvc-controller"></a>Создание контроллера ASP.NET MVC

Следующим шагом является создание контроллера ASP.NET MVC. Контроллер отвечает за управление как пользователь взаимодействует с приложением ASP.NET MVC.

Выполните следующие действия.

1. В окне обозревателя решений щелкните правой кнопкой мыши папку Controllers и выбрать пункт меню **Add, контроллер**.
2. В диалоговом окне добавления контроллера, введите имя *HomeController* и установите флажок "с меткой" **добавить методы действий для сценариев создания, обновления и сведения о** (см. рис. 8).
3. Нажмите кнопку **добавить** кнопку, чтобы добавить в проект новый контроллер.

После выполнения этих шагов создается контроллера в листинге 1. Обратите внимание, что он содержит методы, с именем индекса, сведения, создать и изменение. В следующих разделах мы добавим необходимый код для получения этих методов для работы.


[![Диалоговое окно нового проекта](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image15.png)

**На рисунке 08**: Добавление нового контроллера ASP.NET MVC ([Просмотр полноразмерное изображение](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image16.png))


**Перечисление Controllers\HomeController.vb. 1.**

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample1.vb)]

## <a name="listing-database-records"></a>Список записей базы данных

Метод Index() контроллера Home является по умолчанию для приложения ASP.NET MVC. При запуске приложения ASP.NET MVC, метод Index() является первый контроллер метод, вызываемый.

Мы будем использовать метод Index() для отображения списка записей из таблицы базы данных фильмов. Мы воспользуюсь базы данных классов модели, которые извлекаются фильма базы данных с помощью метода Index() созданную ранее.

Я изменил класс HomeController в списке 2, чтобы он содержал новый закрытое поле с именем \_базы данных. Класс MoviesDBEntities представляет нашей модели базы данных, и мы будем использовать этот класс для взаимодействия с нашей базы данных.

Я также изменил метод Index() в списке 2. Метод Index() используется класс MoviesDBEntities для получения всех фильма записей из таблицы базы данных фильмов. Выражение  *\_db. MovieSet.ToList()* возвращает список всех записей фильма фильмы таблицы базы данных.

Список фильмов передается в представление. Все, что передается в метод View() передается в представление как представление данных.

**Листинг 2 — Controllers/HomeController.vb (измененный метод индекс)**

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample2.vb)]

Метод Index() возвращает представление с именем индекса. Нам нужно создать это представление, чтобы отобразить список фильмов записей базы данных. Выполните следующие действия.


Необходимость создания проекта (пункт меню **построить, построить решение**) перед открытием **добавить представление** диалогового окна или классы не будут отображаться в **просматривать данные класс** раскрывающийся список.


1. Щелкните правой кнопкой мыши метод Index() в редакторе кода и выберите пункт меню в **добавить представление** (см. рис. 9).
2. В диалоговом окне Добавить представление, проверьте флажок с меткой **создать строго типизированное представление** проверяется.
3. Из **просматривать содержимое** раскрывающемся списке выберите значение *списка*.
4. Из **просматривать данные класс** раскрывающемся списке выберите значение *MovieApp.Movie*.
5. Нажмите кнопку "Добавить" для создания нового представления (см. рис. 10).

После выполнения этих действий, добавляется новое представление с именем Index.aspx папке Views\Home. Содержимое представления индекса включаются в списке 3.


[![Диалоговое окно нового проекта](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image17.png)

**На рисунке 09**: Добавление представления из действия контроллера ([Просмотр полноразмерное изображение](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image18.png))


[![Диалоговое окно нового проекта](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image19.png)

**Рис. 10**: Создание нового представления с диалоговым окном Добавить представление ([Просмотр полноразмерное изображение](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image20.png))


[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample3.aspx)]

В представлении индекса отображаются все записи из таблицы базы данных фильмов в HTML-таблицу фильма. Представление содержит For каждого цикла итерации каждого фильма, представленный свойством ViewData.Model. При запуске приложение, нажав клавишу F5, вы увидите веб-страницы на рис. 11.


[![Диалоговое окно нового проекта](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image21.png)

**Рис. 11**: индекс представления ([Просмотр полноразмерное изображение](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image22.png))


## <a name="creating-new-database-records"></a>Создание новых записей базы данных

Представление Index, созданную в предыдущем разделе содержит ссылку для создания новых записей базы данных. Добавим и реализации логики и создания представления, необходимые для создания новой записи фильма базы данных.

Контроллер Home содержит два метода с именем Create(). Первый метод Create() не имеет параметров. Эта перегрузка метода Create() используется для отображения HTML-формы для создания новой записи фильма базы данных.

Второй метод Create() имеет параметр FormCollection. Эта перегрузка метода Create() вызывается при отправке формы HTML для создания новых фильмов сервера. Обратите внимание, что этот второй метод Create() AcceptVerbs атрибут, который запрещает метод вызывается, если выполняется операция HTTP Post.

Этот второй метод Create() был изменен в класс HomeController обновленные в листинге 4. Новая версия метода Create() принимает параметр фильма и содержит логику для вставки новых фильмов в таблице базы данных фильмов.

> [!NOTE] 
> 
> Обратите внимание на атрибут привязки. Поскольку мы не нужно обновлять свойство идентификатора фильма из формы HTML, необходимо явно исключить это свойство.


**Листинг 4 – Controllers\HomeController.vb (измененный метод Create)**

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample4.vb)]

Visual Studio позволяет легко создать форму для создания новой базы данных фильма записи (см. рис. 12). Выполните следующие действия.

1. Щелкните правой кнопкой мыши метод Create() в редакторе кода и выберите пункт меню в **добавить представление**.
2. Убедитесь, что флажок с меткой **создать строго типизированное представление** проверяется.
3. Из **просматривать содержимое** раскрывающемся списке выберите значение *создать*.
4. Из **просматривать данные класс** раскрывающемся списке выберите значение *MovieApp.Movie*.
5. Нажмите кнопку **добавить** кнопку, чтобы создать новое представление.


[![Диалоговое окно нового проекта](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image23.png)

**Рис. 12**: Добавление представления создания ([Просмотр полноразмерное изображение](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image24.png))


Visual Studio автоматически создает представление в листинге 5. Это представление содержит HTML-формы, содержащих поля, которые соответствуют свойствам класса фильма.

**Листинг 5 – Views\Home\Create.aspx**

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample5.aspx)]

> [!NOTE] 
> 
> HTML-формы, созданные в диалоговом окне Добавить представление создает идентификатор поля формы. Так как идентификатор столбца является столбцом идентификаторов, нам не нужен в этом поле формы и ее можно безопасно удалить.


После добавления представления создания, можно добавить новые записи фильма к базе данных. Запустите приложение, нажав клавишу F5 и нажмите кнопку Создать ссылку, чтобы просмотреть форму на рис. 13. Если завершить и отправки формы, создается новый фильма записи базы данных.

Обратите внимание, автоматически получают проверку формы. Если не представлен введите дату выпуска фильм, или введите дату выпуска недопустимый, отобразится форма, и будет выделено поле даты выпуска.


[![Диалоговое окно нового проекта](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image25.png)

**Рис. 13**: создается новая запись фильма базы данных ([Просмотр полноразмерное изображение](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image26.png))


## <a name="editing-existing-database-records"></a>Изменение существующих записей базы данных

В предыдущих разделах мы рассмотрели, как можно перечислить и создания новых записей базы данных. В этом разделе мы обсудим, как можно изменять существующие записи базы данных.

Во-первых необходимо создать форму редактирования. Этот шаг можно легко, так как Visual Studio создаст форме редактирования нам автоматически. Откройте класс HomeController.vb в редакторе кода Visual Studio и выполните следующие действия:

1. Щелкните правой кнопкой мыши метод Edit() в редакторе кода и выберите пункт меню в **добавить представление** (см. рис. 14).
2. Установите флажок "с меткой" **создать строго типизированное представление**.
3. Из **просматривать содержимое** раскрывающемся списке выберите значение *изменить*.
4. Из **просматривать данные класс** раскрывающемся списке выберите значение *MovieApp.Movie*.
5. Нажмите кнопку **добавить** кнопку, чтобы создать новое представление.

Выполнение этих действий добавляет новое представление с именем Edit.aspx в папке Views\Home. Это представление содержит HTML-формы для редактирования запись фильма.


[![Диалоговое окно нового проекта](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image27.png)

**Рис. 14**: Добавление представления изменения ([Просмотр полноразмерное изображение](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/_static/image28.png))


> [!NOTE] 
> 
> Изменить представление содержит поля формы HTML, соответствующее свойству Id фильма. Поскольку вы не хотите людей, изменив значение свойства Id, следует удалить это поле формы.


Наконец мы должны контроллер Home так, чтобы обеспечить редактирование записи базы данных. Обновленный класс HomeController содержится в 6 со списком.

**Перечисление 6 – Controllers\HomeController.vb (методы редактирования)**

[!code-vb[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb/samples/sample6.vb)]

В поле со списком 6 я добавил дополнительную логику обе перегрузки метода Edit(). Первый метод Edit() возвращает фильма записи базы данных, соответствующий параметр Id, переданного методу. Вторая перегрузка выполняет обновления записи фильма в базе данных.

Обратите внимание, что необходимо получить исходный фильм, а затем вызвать ApplyPropertyChanges(), чтобы обновить существующий фильм в базе данных.

## <a name="summary"></a>Сводка

Целью данного учебника было дать представление качества построения приложения ASP.NET MVC. Надеюсь, чтобы обнаружить, что создание веб-приложения ASP.NET MVC очень похож на процесс построения приложения страницы ASP или ASP.NET.

В этом учебнике мы рассмотрели основные функции платформы ASP.NET MVC. В будущих учебниках мы более глубоко рассмотреть эти подразделы, такие как контроллеров, действия контроллера, представления, представления данных и вспомогательные методы HTML.

> [!div class="step-by-step"]
> [Назад](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs.md)
