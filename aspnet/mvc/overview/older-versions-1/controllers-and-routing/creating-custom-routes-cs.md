---
uid: mvc/overview/older-versions-1/controllers-and-routing/creating-custom-routes-cs
title: "Создание настраиваемых маршрутов (C#) | Документы Microsoft"
author: microsoft
description: "Дополнительные сведения о добавлении настраиваемых маршрутов для приложения ASP.NET MVC. В этом учебнике вы научитесь изменять таблицы маршрутов по умолчанию в файле Global.asax."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/16/2009
ms.topic: article
ms.assetid: 3cd08f02-8763-490a-b625-2ac96a24b73f
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/controllers-and-routing/creating-custom-routes-cs
msc.type: authoredcontent
ms.openlocfilehash: d1542103298f2fa09dc71706284afb18d8381403
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2017
---
<a name="creating-custom-routes-c"></a>Создание настраиваемых маршрутов (C#)
====================
по [Microsoft](https://github.com/microsoft)

> Дополнительные сведения о добавлении настраиваемых маршрутов для приложения ASP.NET MVC. В этом учебнике вы научитесь изменять таблицы маршрутов по умолчанию в файле Global.asax.


В этом учебнике вы узнаете, как добавить настраиваемый маршрут в приложении ASP.NET MVC. Вы узнаете, как изменение таблицы маршрутов по умолчанию в файле Global.asax с настраиваемый маршрут.

Для многих простых приложений ASP.NET MVC таблицы маршрутов по умолчанию будет работать нормально. Тем не менее можно обнаружить специализированные маршрутизации потребностей. В этом случае можно создать настраиваемый маршрут.

Допустим, что вы создаете приложение блога. Может потребоваться для обработки входящих запросов, которые выглядят следующим образом:

/ Архива-12-25-2009 г.

Когда пользователь вводит этот запрос, можно вернуться в записи блога, соответствующий дате 12/25/2009. Чтобы обработать этот тип запроса, необходимо создать настраиваемый маршрут.

Файл Global.asax в листинге 1 содержит новый настраиваемый маршрут с именем блоге, какие запросы маркеров, которые выглядят как /Archive/*Дата записи*.

**Листинг 1 — Global.asax (с настраиваемый маршрут)**

[!code-csharp[Main](creating-custom-routes-cs/samples/sample1.cs)]

Важен порядок маршрутов, добавьте к таблице маршрутов. Наш новый настраиваемый маршрут блога добавляется перед существующего маршрута по умолчанию. Если отменить заказ, то маршрут по умолчанию всегда будет вызван вместо настраиваемый маршрут.

Настраиваемый маршрут блог соответствует любому запросу, который начинается с/архив /. Таким образом он удовлетворяет всем следующим URL-адресам:

- / Архива-12-25-2009 г.

- / Архива-10-6-2004 г.

- / Архива или apple

Настраиваемый маршрут сопоставляется контроллер с именем архива входящего запроса и вызывает действие Entry(). При вызове метода Entry() Дата операции передается как параметр с именем entryDate.

Можно использовать настраиваемый маршрут блогов с контроллером в списке 2.

**Листинг 2 - ArchiveController.cs**

[!code-csharp[Main](creating-custom-routes-cs/samples/sample2.cs)]

Обратите внимание, что метод Entry() в списке 2 принимает параметр типа DateTime. Платформа MVC способен преобразовать дату записи из URL-адрес в значение даты и времени автоматически. Если параметр даты входа из URL-адреса невозможно преобразовать к типу DateTime, возникает ошибка (см. рис. 1).

**Рис. 1. Ошибка преобразования параметра**


[![Диалоговое окно нового проекта](creating-custom-routes-cs/_static/image1.jpg)](creating-custom-routes-cs/_static/image1.png)

**Рисунок 01**: ошибка из преобразование параметра ([Просмотр полноразмерное изображение](creating-custom-routes-cs/_static/image2.png))


## <a name="summary"></a>Сводка

Целью данного учебника было показано, как создать настраиваемый маршрут. Вы узнали, как добавить настраиваемый маршрут к таблице маршрутов в файле Global.asax, представляющий записи в блогах. Мы рассмотрели, как сопоставить запросы для записи в блогах с именем ArchiveController контроллера и действия контроллера, с именем Entry().

>[!div class="step-by-step"]
[Назад](aspnet-mvc-controllers-overview-cs.md)
[Вперед](creating-a-route-constraint-cs.md)
