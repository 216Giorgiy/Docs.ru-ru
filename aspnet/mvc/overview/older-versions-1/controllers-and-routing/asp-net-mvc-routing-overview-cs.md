---
uid: mvc/overview/older-versions-1/controllers-and-routing/asp-net-mvc-routing-overview-cs
title: "Обзор маршрутизации ASP.NET MVC (C#) | Документы Microsoft"
author: StephenWalther
description: "В этом учебнике Стивен Вальтер показано, как платформа ASP.NET MVC сопоставляет запросы браузера действия контроллера."
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/19/2008
ms.topic: article
ms.assetid: 5b39d2d5-4bf9-4d04-94c7-81b84dfeeb31
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/controllers-and-routing/asp-net-mvc-routing-overview-cs
msc.type: authoredcontent
ms.openlocfilehash: 714fd1939ffeba11b84a82e80193ecbbe4b12e09
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2017
---
<a name="aspnet-mvc-routing-overview-c"></a>Обзор маршрутизации ASP.NET MVC (C#)
====================
по [Стивен Вальтер](https://github.com/StephenWalther)

> В этом учебнике Стивен Вальтер показано, как платформа ASP.NET MVC сопоставляет запросы браузера действия контроллера.


В этом учебнике, предназначенные для важной характеристикой каждое приложение ASP.NET MVC вызывается *маршрутизация ASP.NET*. Модуль маршрутизации ASP.NET выполняет сопоставление входящих запросов браузера для конкретного действия контроллера MVC. Изучив этот учебник вы сможете понять, как в таблице маршрутов стандартные запросы сопоставляются действия контроллера.

## <a name="using-the-default-route-table"></a>С помощью таблицы маршрутов по умолчанию

При создании нового приложения ASP.NET MVC, приложение уже настроено для использования маршрутизации ASP.NET. В двух местах используется маршрутизации ASP.NET.

Во-первых маршрутизация ASP.NET включена в файле конфигурации веб-приложения (файл Web.config). Есть четыре раздела в файле конфигурации, относящиеся к маршрутизации: раздел system.web.httpModules, раздел system.web.httpHandlers, system.webserver.modules раздел и раздел system.webserver.handlers. Будьте внимательны и не удалить эти разделы, поскольку без этих разделов маршрутизации больше не будет работать.

Во-вторых, что более важно таблицы маршрутов создается в файле Global.asax приложения. Файл Global.asax является особым файлом, содержащий обработчики событий жизненного цикла приложения ASP.NET. Таблица маршрутов создается во время события запуска приложения.

Файл, в список 1 содержит файл Global.asax по умолчанию для приложения ASP.NET MVC.

**1 — Global.asax.cs со списком**

[!code-csharp[Main](asp-net-mvc-routing-overview-cs/samples/sample1.cs)]

Когда приложение MVC первом запуске приложения\_вызывается метод Start(). Этот метод в свою очередь, вызывает метод RegisterRoutes(). Метод RegisterRoutes() создает таблицы маршрутов.

Таблица маршрутов по умолчанию содержит один маршрут (с именем по умолчанию). Маршрут по умолчанию сопоставляется первый сегмент URL-адреса имя контроллера, второй сегмент URL-адрес действия контроллера и третьего сегмента в параметр с именем **идентификатор**.

Представьте, что введите следующий URL-адрес в адресной строке веб-браузера:

/ Home/индекс/3

Этот URL-адрес маршрута по умолчанию сопоставляется со следующими параметрами:

- контроллер = Home

- Действие = индекс

- идентификатор = 3

При запросе URL-адрес/Home/Index/3, выполняется следующий код:

HomeController.Index(3)

Маршрут по умолчанию включаются по умолчанию для всех трех параметров. Если вы не предоставите контроллера, затем контроллера параметра по умолчанию используется значение **Главная**. Если вы не предоставите действие, параметр действия по умолчанию используется значение **индекса**. Наконец Если не указан идентификатор, параметр id по умолчанию используется пустая строка.

Рассмотрим несколько примеров маршрут по умолчанию сопоставление URL-адреса действий контроллера. Представьте, что введите следующий URL-адрес в адресную строку браузера:

Домашние

Из-за значения по умолчанию маршрута параметр по умолчанию этот URL-адрес вызовет метод Index() HomeController класса в списке 2 для вызова.

**Листинг 2 - HomeController.cs**

[!code-csharp[Main](asp-net-mvc-routing-overview-cs/samples/sample2.cs)]

В списке 2 класс HomeController содержит метод с именем Index(), который принимает один параметр с именем идентификатора. URL-адрес/Home заставляет Index() метод может вызываться с пустой строкой в качестве значения параметра Id.

Из-за того, что платформа MVC вызывает действия контроллера / Home URL-адрес также соответствует метод Index() HomeController класса в списке 3.

**Листинг 3 - HomeController.cs (действие без параметра индекса)**

[!code-csharp[Main](asp-net-mvc-routing-overview-cs/samples/sample3.cs)]

Метод Index() в списке 3 не принимает параметров. URL-адрес/Home вызовет этот метод Index() для вызова. URL-адрес/Home/Index/3 также вызывает этот метод, (идентификатор будет пропускаться).

URL-адрес/Home также соответствует метод Index() класс HomeController в листинге 4.

**Листинг 4 - HomeController.cs (действие индекса с параметром, допускающие значение NULL)**

[!code-csharp[Main](asp-net-mvc-routing-overview-cs/samples/sample4.cs)]

В листинге 4 Index() метод имеет один целочисленный параметр. Поскольку параметр является параметром nullable (может иметь значение Null), Index() может быть вызван без возникновения ошибки.

Наконец, вызов метода Index() в листинге 5 с/Home URL-адрес приводит к возникновению исключения с помощью идентификатора *не* параметр допускает значение NULL. При попытке вызвать метод Index() получить ошибку, отображаемую на рис. 1.

**Список 5 - HomeController.cs (действие индекса с параметром Id)**

[!code-csharp[Main](asp-net-mvc-routing-overview-cs/samples/sample5.cs)]


[![Вызов действия контроллера, который ожидает значение параметра](asp-net-mvc-routing-overview-cs/_static/image1.jpg)](asp-net-mvc-routing-overview-cs/_static/image1.png)

**На рисунке 01**: вызов действия контроллера, который ожидает значение параметра ([Просмотр полноразмерное изображение](asp-net-mvc-routing-overview-cs/_static/image2.png))


С другой стороны, URL-адрес/Home/Index/3, хорошо работает с действие контроллера индекса в листинге 5. /Home/Index/3 запроса заставляет метод Index() вызывать идентификатор параметром, который имеет значение 3.

## <a name="summary"></a>Сводка

Целью данного учебника было предоставляют краткое введение в маршрутизации ASP.NET. Мы рассмотрели таблицы маршрутов по умолчанию, вы получаете с нового приложения ASP.NET MVC. Вы узнали, как маршрут по умолчанию сопоставление URL-адреса действий контроллера.

>[!div class="step-by-step"]
[Вперед](understanding-action-filters-cs.md)
