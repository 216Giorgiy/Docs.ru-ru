---
uid: mvc/overview/getting-started/database-first-development/generating-views
title: 'EF базы данных сначала с ASP.NET MVC: создание представлений | Документы Microsoft'
author: tfitzmac
description: С помощью MVC, Entity Framework и формирование шаблонов ASP.NET, можно создать веб-приложения, который предоставляет интерфейс для существующей базы данных. Этот учебник seri...
ms.author: aspnetcontent
manager: wpickett
ms.date: 12/29/2014
ms.topic: article
ms.assetid: 669367cf-8e30-4eb6-821d-10a7d9bb906c
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/getting-started/database-first-development/generating-views
msc.type: authoredcontent
ms.openlocfilehash: b60e89a187a879255eb051dc87241714cef6fa63
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2018
ms.locfileid: "30879755"
---
<a name="ef-database-first-with-aspnet-mvc-generating-views"></a>EF базы данных сначала с ASP.NET MVC: создание представлений
====================
по [Tom FitzMacken](https://github.com/tfitzmac)

> С помощью MVC, Entity Framework и формирование шаблонов ASP.NET, можно создать веб-приложения, который предоставляет интерфейс для существующей базы данных. Этот ряд учебника показано, как автоматически создают код, который дает пользователям возможность отображения, изменения, создания и удаления данных, которые хранятся в таблице базы данных. Созданный код соответствует столбцам в таблице базы данных.
> 
> Эта часть ряда внимание уделяется использованию формирование шаблонов ASP.NET для формирования контроллеров и представлений.


## <a name="add-scaffold"></a>Добавление формирования шаблонов

Все готово для создания кода, предоставляющий операций стандартные данные для классов модели. Добавьте код, добавив элемент формирования шаблонов. Существует много параметров для типа формирование шаблонов, которые можно добавить; в этом учебнике представление формирования будет содержать контроллера и представления, которые соответствуют студента и регистрации модели, созданный в предыдущем разделе.

Для поддержания согласованности в проекте, добавит новый контроллер для существующего **контроллеров** папки. Щелкните правой кнопкой мыши **контроллеров** папки, а затем выберите **добавить** — **новый элемент формирования шаблонов**.

![Добавление формирования шаблонов](generating-views/_static/image1.png)

Выберите **контроллер MVC 5 с представлениями, использующий Entity Framework** параметр. Этот параметр создаст контроллера и представления для обновления, удаления, создания и отображения данных в модели.

![добавить контроллер mvc](generating-views/_static/image2.png)

Выберите **студента** класс модели, а затем выберите **ContosoUniversityEntities** для класса контекста. Оставьте имя контроллера, как **StudentsController**,

![Укажите контроллер](generating-views/_static/image3.png)

Нажмите кнопку **Добавить**.

Если появляется ошибка, возможно, так как не удалось построения проекта в предыдущем разделе. В этом случае попробуйте построить проект и затем снова добавить элемент формирования шаблонов.

После завершения процесса создания кода в проекте появится новый контроллер и представления.

![Отображение представления](generating-views/_static/image4.png)

Снова выполните те же действия, но добавить элемент формирования шаблонов для регистрации класса. После завершения, должны иметь **EnrollmentsController.cs** файл и папку в папке **представления** с именем **регистраций** с Create, Delete, сведения, редактирования и индекса Представления.

![Отображение представления](generating-views/_static/image5.png)

## <a name="add-links-to-new-views"></a>Добавьте ссылки на новые представления

Для упрощения перехода на новые представления, можно добавить несколько гиперссылки к представлениям индекс для студентов и регистрации. Открыть файл в **Views/Home/Index.cshtml**, который является домашней страницей для веб-узла. Добавьте следующий код под jumbotron.

[!code-cshtml[Main](generating-views/samples/sample1.cshtml)]

Метод ActionLink первый параметр является текст, отображаемый в ссылке. Второй параметр — действие, а третий параметр — имя контроллера. Например первая ссылка указывает на действие индекса в StudentsController. Фактический гиперссылки состоит из следующих значений. Первую ссылку в конечном счете принимает пользователям **Index.cshtml** файл включен в **представления/учащихся** папки.

## <a name="display-student-views"></a>Отображение представлений студента

Вы проверите код добавлен в проект правильно отображает список студентов что позволяет пользователям редактировать, создавать или удалять записи студентов в базе данных.

Щелкните правой кнопкой мыши **Views/Home/Index.cshtml** правой кнопкой мыши и выберите **Просмотр в браузере**. На этой странице щелкните ссылку для списка учащихся.

![](generating-views/_static/image6.png)

На этой странице Обратите внимание на список студентов и ссылки для изменения этих данных.

![список учащихся](generating-views/_static/image7.png)

Нажмите кнопку **создать новый** ссылку и предоставляют некоторые значения для нового студента.

![Создание нового студента](generating-views/_static/image8.png)

Нажмите кнопку **создать**и обратите внимание нового студента будет добавлен в список.

![список с нового студента](generating-views/_static/image9.png)

Выберите **изменить** ссылку и изменить некоторые значения для учащихся.

![изменить студента](generating-views/_static/image10.png)

Нажмите кнопку **Сохранить**и обратите внимание запись студента была изменена.

Наконец, выберите **удаление** ссылку и подтвердить, что хотите удалить запись, щелкнув **удалить** кнопки.

![удалить студента](generating-views/_static/image11.png)

Без написания кода, добавления представления, которые выполнения общих операций с данными в таблице учащихся.

Можно заметить, что текстовую метку для поля зависит от свойства базы данных (таких как **LastName**) которого не обязательно требуется отображать на веб-странице. Например, можно указать метку, которая должна быть **Фамилия**. Данная проблема отображения будет исправлено позже в этом учебнике.

## <a name="display-enrollment-views"></a>Отображение представлений регистрации

Базы данных включает в себя отношение "один ко многим" между таблицами Student и регистрации и один ко многим связи между таблицами курс и регистрации. Представления для регистрации правильно обрабатывать эти связи. Перейдите на домашнюю страницу сайта и нажмите кнопку **список регистраций** ссылку и затем **создать новый** ссылку. Представление отображает форму для создания новой записи регистрации. В частности Обратите внимание, что форма содержит два раскрывающихся списков, которые заполняются значениями из связанных таблиц.

![Создание регистрации](generating-views/_static/image12.png)

Кроме того проверки предоставленных значений применяется автоматически на основе типа данных поля. Уровень с числовым, поэтому сообщение об ошибке отображается при попытке предоставить несовместимое значение.

![Проверка сообщений](generating-views/_static/image13.png)

Вы убедились, что автоматически создается представления позволяют пользователям работать с данными в базе данных. В следующем учебнике этой серии будет обновления базы данных и внести соответствующие изменения в веб-приложения.

> [!div class="step-by-step"]
> [Назад](creating-the-web-application.md)
> [Вперед](changing-the-database.md)
