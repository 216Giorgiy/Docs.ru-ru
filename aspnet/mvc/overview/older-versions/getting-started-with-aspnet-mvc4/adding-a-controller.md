---
uid: mvc/overview/older-versions/getting-started-with-aspnet-mvc4/adding-a-controller
title: Добавление контроллера | Документы Microsoft
author: Rick-Anderson
description: 'Примечание: Обновленную версию этого учебника доступен здесь, использующий ASP.NET MVC 5 и Visual Studio 2013. Это более безопасный, гораздо проще выполните и демонстрационных...'
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/28/2012
ms.topic: article
ms.assetid: 0267d31c-892f-49a1-9e7a-3ae8cc12b2ca
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions/getting-started-with-aspnet-mvc4/adding-a-controller
msc.type: authoredcontent
ms.openlocfilehash: bb76c0a87d935322406b9d8e18fbdb3e41f327f5
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2018
---
<a name="adding-a-controller"></a>Добавление контроллера
====================
по [Рик Андерсон](https://github.com/Rick-Anderson)

> > [!NOTE]
> > Доступна обновленная версия этого учебника [здесь](../../getting-started/introduction/getting-started.md) , с использованием ASP.NET MVC 5 и Visual Studio 2013. Он является более безопасны, выполните гораздо проще и показаны дополнительные возможности.


Обозначает MVC *model-view-controller*. MVC представляет собой шаблон для разработки приложений, которые хорошо архитектурой, тестирования и простые в обслуживании. Содержать MVC-приложений:

- **M** odels: классы, представляющие данные приложения, которые используют логику проверки для применения бизнес-правил для этих данных.
- **V** iews: файлы шаблонов, которые приложение использует для динамического создания HTML-ответы.
- **C** ontrollers: классы, которые обрабатывают входящие запросы браузера, получения данных модели, а затем укажите шаблонов представлений, которые возвращают ответа в браузер.

Мы быть, охватывающие все эти компоненты этого учебника ряда и показано, как их использовать для построения приложения.

Давайте начнем с создания класса контроллера. В **обозревателе решений**, щелкните правой кнопкой мыши *контроллеров* папки, а затем выберите **добавить контроллер**.

![](adding-a-controller/_static/image1.png)

Имя вашего нового контроллера &quot;HelloWorldController&quot;. Оставить как шаблон по умолчанию **контроллер MVC пустой** и нажмите кнопку **добавить**.

![Добавление контроллера](adding-a-controller/_static/image2.png)

Обратите внимание на **обозревателе решений** что файл был создан именованный *HelloWorldController.cs*. Файл открыт в среде IDE.

![](adding-a-controller/_static/image3.png)

Замените содержимое файла следующим кодом.

[!code-csharp[Main](adding-a-controller/samples/sample1.cs)]

Методы контроллера возвратит строку HTML-кода в качестве примера. Контроллер называется `HelloWorldController` и первый способ называется `Index`. Давайте вызывать его из браузера. Запустите приложение (нажмите клавишу F5 или Ctrl + F5). В браузере, добавьте &quot;HelloWorld&quot; пути в адресной строке. (Например, на рисунке ниже, он является `http://localhost:1234/HelloWorld.`) будет выглядеть страница в браузере, а следующий снимок экрана. В методе выше код непосредственно вернул строку. Вы сообщили система просто возвращается HTML-ФАЙЛ, как и!

![](adding-a-controller/_static/image4.png)

ASP.NET MVC вызывает другой контроллер классы (и другие методы действия в них), в зависимости от входящего URL-адреса. Логику маршрутизации URL-адрес по умолчанию используется ASP.NET MVC использует формат следующим образом, чтобы определить, какой код для вызова:

`/[Controller]/[ActionName]/[Parameters]`

Первая часть URL-адреса определяет класс контроллера для выполнения. Поэтому */HelloWorld* сопоставляется `HelloWorldController` класса. Во второй части URL-адрес определяет на класс для выполнения метода действия. Поэтому */HelloWorld/индекс* вызовет `Index` метод `HelloWorldController` класса для выполнения. Обратите внимание, что нам пришлось перейдите к */HelloWorld* и `Index` метод использовался по умолчанию. Это так, как метод с именем `Index` метод по умолчанию, который будет вызываться на контроллере, если тип не задан явно.

Перейдите по адресу `http://localhost:xxxx/HelloWorld/Welcome`. `Welcome` Метод выполняется и возвращает строку, которая &quot;это метод приветствия действие... &quot;. Сопоставление по умолчанию MVC `/[Controller]/[ActionName]/[Parameters]`. Для этого URL-адреса заданы контроллер `HelloWorld` и метод действия `Welcome`. Часть URL-адреса `[Parameters]` на данный момент еще не использовалась.

![](adding-a-controller/_static/image5.png)

Давайте немного изменить этот пример, чтобы некоторые сведения о параметрах можно передать URL-адреса контроллера (например, */HelloWorld/приветствия? имя = Скотт&amp;numtimes = 4*). Изменение вашей `Welcome` метод, чтобы включить два параметра, как показано ниже. Обратите внимание, что код использует функцию C# необязательный параметр указывает, что `numTimes` параметр по умолчанию 1, если не передаются значения для этого параметра.

[!code-csharp[Main](adding-a-controller/samples/sample2.cs)]

Запустите приложение и откройте пример URL-адрес (`http://localhost:xxxx/HelloWorld/Welcome?name=Scott&numtimes=4)`. Можно попробовать разные значения для `name` и `numtimes` в URL-АДРЕСЕ. [Система привязки модели ASP.NET MVC](http://odetocode.com/Blogs/scott/archive/2009/04/27/6-tips-for-asp-net-mvc-model-binding.aspx) автоматически сопоставляет именованные параметры из строки запроса в адресной строке для параметров в методе.

![](adding-a-controller/_static/image6.png)

В обоих этих примерах контроллер предоставляет &quot;VC&quot; часть MVC — то есть, представления и контроллера работы. Контроллер вернул HTML напрямую. Обычно вы не хотите контроллеров, возвращение HTML напрямую, так как становится очень сложно в код. Вместо этого мы обычно используем отдельное представление файла шаблона для создания HTML-ответа. Давайте посмотрим, далее в том, как можно это сделать.

> [!div class="step-by-step"]
> [Назад](intro-to-aspnet-mvc-4.md)
> [Вперед](adding-a-view.md)
