---
uid: mvc/overview/older-versions/mvc-music-store/mvc-music-store-part-6
title: "Часть 6: С помощью заметок к данным для проверки модели | Документы Microsoft"
author: jongalloway
description: "Этот учебник ряд подробно описываются шаги, необходимые для построения образца приложения ASP.NET MVC Music Store. Часть 6 описываются с помощью заметок к данным для модели V..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 04/21/2011
ms.topic: article
ms.assetid: b3193d33-2d0b-4d98-9712-58bd897c62ec
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions/mvc-music-store/mvc-music-store-part-6
msc.type: authoredcontent
ms.openlocfilehash: b2083d5604741a0142f504f92779c9f931d0d6d9
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2017
---
<a name="part-6-using-data-annotations-for-model-validation"></a>Часть 6: С помощью заметок к данным для проверки модели
====================
по [Джон Гэллоуэй](https://github.com/jongalloway)

> MVC Music Store является учебное приложение, которое вводятся и описываются пошаговые способы использования Visual Studio и ASP.NET MVC для веб-разработки.  
>   
> MVC Music Store показана реализация хранилища упрощенных образец продает велосипеды через Интернет альбомы, которое реализует Администрирование сайта основные, вход пользователей и функциональные возможности корзины покупок.  
>   
> Этот учебник ряд подробно описываются шаги, необходимые для построения образца приложения ASP.NET MVC Music Store. Часть 6 описываются с помощью заметок к данным для проверки модели.


У нас есть основная проблема, связанная с нашей Создание и изменение форм: они не занимаются проверку. Нам как оставить пустым обязательные поля или типа буквы в поле «Цена» и является первой ошибки, которые мы увидим из базы данных.

Мы легко добавить проверку нашего приложения путем добавления заметок к данным для наших классов модели. Заметок к данным позволяют описываются правила, которые требуется применить к нашей свойства модели и ASP.NET MVC берет на себя применения их и отображать соответствующие сообщения пользователям.

## <a name="adding-validation-to-our-album-forms"></a>Добавление проверки в нашем альбом формы

Мы будем использовать следующие атрибуты заметки к данным:

- **Требуется** — указывает, что свойство является обязательным полем
- **DisplayName** — определяет текст, мы хотим использовать поля формы и проверка сообщений
- **StringLength** — определяет максимальную длину для поля строк
- **Диапазон** — обеспечивает минимальное и максимальное значение для числового поля
- **Привязать** — перечисляет поля, чтобы включить или исключить при привязке значения параметра или форму для свойств модели
- **ScaffoldColumn** — позволяет скрытие полей из редактор форм

*Примечание: Дополнительные сведения о проверке модели, используя атрибуты заметки к данным см. в разделе документации MSDN по адресу*[`https://go.microsoft.com/fwlink/?LinkId=159063`](https://go.microsoft.com/fwlink/?LinkId=159063)

Откройте класс альбом и добавьте следующие *с помощью* в начале.

[!code-csharp[Main](mvc-music-store-part-6/samples/sample1.cs)]

Затем обновите свойства, чтобы добавить атрибуты отображения и проверки, как показано ниже.

[!code-csharp[Main](mvc-music-store-part-6/samples/sample2.cs)]

Хотя мы существует, мы также открыли жанр и исполнитель виртуальные свойства. Это позволяет Entity Framework отложенной загрузки их при необходимости.

[!code-csharp[Main](mvc-music-store-part-6/samples/sample3.cs)]

После после добавления этих атрибутов для нашей модели альбома, экраном Создание и изменение немедленно начать проверку поля и отображаемые имена с помощью мы выбрали (например альбом Art URL-адрес вместо AlbumArtUrl). Запустите приложение и перейдите к /StoreManager/Create.

![](mvc-music-store-part-6/_static/image1.png)

Далее мы будем прерывать несколько правил проверки. Введите цены 0 и не указывайте заголовок. При нажатии кнопки создания, мы увидим, что поле формы проверки сообщения об ошибках, показывающая, какие поля не соответствует правилам проверки определенных.

![](mvc-music-store-part-6/_static/image2.png)

## <a name="testing-the-client-side-validation"></a>Тестирование проверки на стороне клиента

Проверка на стороне сервера очень важно с точки зрения приложения, так как пользователи могут обходить проверку на стороне клиента. Однако веб-страницы формы, которые только реализации проверки на стороне сервера соответствуют три значительные проблемы.

1. Пользователь должен ожидать формы должна быть учтена и проверке на сервере, а для ответов, отправляемых в своем браузере.
2. Пользователь не получить оперативно реагировать при их исправить поле теперь проходить правила проверки.
3. Мы лишних затрат сэкономить ресурсы сервера, чтобы выполнить логику проверки, вместо использования браузер пользователя.

К счастью ASP.NET MVC 3 представление формирования шаблонов имеют клиентской проверки встроенным, требуя никаких дополнительных действий.

Введя одну букву в поле "Название" удовлетворяет требованиям проверки, поэтому сообщение проверки немедленно удаляется.

![](mvc-music-store-part-6/_static/image3.png)


>[!div class="step-by-step"]
[Назад](mvc-music-store-part-5.md)
[Вперед](mvc-music-store-part-7.md)
