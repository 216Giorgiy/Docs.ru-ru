---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/monitoring-and-telemetry
title: Мониторинг и Телеметрия (Создание реальных облачных приложений в Azure) | Документы Microsoft
author: MikeWasson
description: Построение реального мира облачными приложениями с помощью Azure электронная книга основан на разработанный Скотт Гатри презентации. Объясняет, 13 шаблоны и рекомендации, которые он может...
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/09/2015
ms.topic: article
ms.assetid: 7e986ab5-6615-4638-add7-4614ce7b51db
ms.technology: ''
ms.prod: .net-framework
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/monitoring-and-telemetry
msc.type: authoredcontent
ms.openlocfilehash: d58c495b3888c146a2a9bc831865cf7cc0d94c7b
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2018
---
<a name="monitoring-and-telemetry-building-real-world-cloud-apps-with-azure"></a>Мониторинг и Телеметрия (Создание реальных облачных приложений в Azure)
====================
по [Mike Wasson](https://github.com/MikeWasson), [Рик Андерсон](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)

[Загрузка решение проект](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) или [Загрузите электронную](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)

> **Построение реального мира облачными приложениями с помощью Azure** электронная книга основана на представления, разработанный Скотт Гатри. Объясняются 13 шаблоны и рекомендации, которые помогут вам быть успешной разработки веб-приложений для облака. Сведения об электронных книг см. в разделе [первой главы](introduction.md).


Многие зависят от клиентов с помощью которых можно узнать, когда приложение не работает. Это не рекомендуется в любом месте и в особенности не в облаке. Нет никакой гарантии краткое уведомление и когда вы получите уведомление о том, часто оказываются минимум или ввести в заблуждение данные о том, что произошло. С хорошей телеметрии и системами ведения журнала могут быть помнить о происходящем вместе с приложением, а также когда что-нибудь пошло сразу узнать и иметь полезные сведения об устранении неполадок для работы с.

## <a name="buy-or-rent-a-telemetry-solution"></a>Покупка или сдавать в аренду решения телеметрии

> [!NOTE]
> В этой статье написан до [Application Insights](https://azure.microsoft.com/services/application-insights/) был выпущен. Application Insights подход является предпочтительным для решений телеметрии на Azure. В разделе [настроить Application Insights для веб-сайта ASP.NET](https://docs.microsoft.com/azure/application-insights/app-insights-asp-net) для получения дополнительной информации.


Одно из действий, которые отлично об облачной среде является очень простым Покупка или сдавать в аренду начать победе. Данные телеметрии приведен пример. Без слишком больших усилий можно получить системы действительно надежные данные телеметрии и работает, очень эффективно. Существует множество значительные партнеров, которые интегрируются с Azure, а некоторые из них имеют свободного уровнях —, поэтому вы можете получить базовые данные телеметрии для ничего. Ниже приведены только некоторые из тех, которые в настоящее время доступна в Azure.

- [New Relic](http://newrelic.com/)
- [AppDynamics](http://www.appdynamics.com/)
- [Dynatrace](https://datamarket.azure.com/application/b4011de2-1212-4375-9211-e882766121ff)

Начиная с марта 2015 года [Microsoft Application Insights для Visual Studio Online](https://azure.microsoft.com/documentation/articles/app-insights-get-started/) еще не освобождены, но остается доступным в режиме предварительного просмотра, чтобы испытать. [Microsoft System Center](http://www.petri.co.il/microsoft-system-center-introduction.htm#) также включает функции мониторинга.

Мы рассмотрим быстро Настройка New Relic, чтобы показать, как легко можно использовать систему телеметрии.

На портале управления Azure Подпишитесь на службу. Нажмите кнопку **New**, а затем нажмите кнопку **хранилище**. **Выберите надстройку** откроется диалоговое окно. Прокрутите список вниз и нажмите кнопку **New Relic**.

![Выберите надстройку](monitoring-and-telemetry/_static/image1.png)

Щелкните стрелку справа и выберите уровень обслуживания, которые нужно. Для этой демонстрации мы будем использовать уровень free.

![Настройка надстройки](monitoring-and-telemetry/_static/image2.png)

Нажмите кнопку со стрелкой вправо, подтвердите «приобретение» и New Relic теперь отображается в виде расширения на портале.

![Просмотрите покупки](monitoring-and-telemetry/_static/image3.png)

![Новую надстройку Relic на портале управления](monitoring-and-telemetry/_static/image4.png)

Нажмите кнопку **сведений о соединении**и скопируйте лицензионный ключ.

![Сведения о подключении](monitoring-and-telemetry/_static/image5.png)

Последовательно выберите пункты **Настройка** вкладки для веб-приложения на портале, задайте **наблюдения за производительностью** для **надстройку**и задайте **выберите надстройку** раскрывающегося списка для **New Relic**. Нажмите кнопку **Сохранить**.

![New Relic во вкладке "Настройка"](monitoring-and-telemetry/_static/image6.png)

В Visual Studio установите пакет NuGet новый Relic в приложении.

![Аналитические средства разработчика во вкладке "Настройка"](monitoring-and-telemetry/_static/image7.png)

Развертывание приложения в Azure и их использовании. Создайте несколько ее исправить задачи для какого-либо действия для New Relic для мониторинга.

Затем вернитесь к **New Relic** страницы в **надстройки** портала и нажмите кнопку **управление**. Портал отправляет на портале управления New Relic, использование единого входа для проверки подлинности, поэтому не нужно снова ввести учетные данные. На странице Обзор представлен широкий набор статистики производительности. (Щелкните изображения, чтобы увидеть полный размер страницы Обзор).

[![Новая вкладка Relic наблюдения](monitoring-and-telemetry/_static/image9.png)](monitoring-and-telemetry/_static/image8.png)

Ниже приведены только некоторые статистические данные, которые можно увидеть.

- Среднее время ответа в разное время суток.

    ![время ответа;](monitoring-and-telemetry/_static/image10.png)
- Скорости (в запросов в минуту) в разное время суток.

    ![Пропускная способность](monitoring-and-telemetry/_static/image11.png)
- Сервер времени ЦП, затраченное на обработку различных HTTP-запросов.

    ![Веб-время транзакции](monitoring-and-telemetry/_static/image12.png)
- Время ЦП, затраченное на разные части кода приложения:

    ![Сведения о трассировке](monitoring-and-telemetry/_static/image13.png)
- Статистика производительности.

    ![Истории производительности](monitoring-and-telemetry/_static/image14.png)
- Вызовы внешних служб, таких как службы больших двоичных объектов и статистические данные о том, как надежные и масштабируемые службы был.

    ![Внешние службы](monitoring-and-telemetry/_static/image15.png)

    ![Внешние службы](monitoring-and-telemetry/_static/image16.png)

    ![Внешние службы](monitoring-and-telemetry/_static/image17.png)
- Сведения о том, где в системе или в веб-приложении США трафика происхождения.

    ![Geography](monitoring-and-telemetry/_static/image18.png)

Можно также настроить отчеты и события. Например можно сказать любое время, в начале просмотра ошибок, отправить сообщение электронной почты сотрудникам службы поддержки предупреждения проблему.

![Отчеты](monitoring-and-telemetry/_static/image19.png)

New Relic всего лишь один пример телеметрии системы; все это можно получить из других служб, а также. Является красоту облака, без необходимости написания кода, а также для минимальной или не расходов внезапно можно получить гораздо больше информации о об использовании приложения, и что ваши клиенты фактически возникли.

<a id="log"></a>
## <a name="log-for-insight"></a>Подробные сведения в журнале

Данные телеметрии пакета является первым шагом, но все равно необходимо реализовать собственный код. Службе телеметрии покажет, при наличии проблем и сообщает, что пользователи сталкиваются с, но он может не дает много понять, что происходит в коде.

Вы не хотите необходимо удаленно на рабочем сервере, чтобы увидеть, каким образом приложение. Когда у вас есть один сервер, но как обстоят дела в том случае, когда был уменьшен сотни серверов, и вы не знаете, какие из них необходимо удаленно, который может быть практические? Ведение журнала предоставляет достаточно сведений, которую вы никогда не должны удаленно рабочих серверов для анализа и отладки проблем. Следует выполнять вход достаточно сведений, чтобы их можно изолировать проблемы только через журналы.

### <a name="log-in-production"></a>Войдите в рабочей среде

Многие включить трассировку в рабочей среде только в том случае, если имеется проблема, и ему нужны для отладки. Это может привести к значительной задержки между моментом времени вы знаете, проблемы и времени, которые можно получить полезные сведения об устранении неполадок, о нем. И сведения, которые можно получить, не могут быть полезны для периодически возникающие ошибки.

Мы рекомендуем в облачной среде, где хранилища не требует больших затрат — всегда оставлять вход в рабочей среде. Таким образом, при возникновении ошибки на компьютере их в журнал, и у вас есть исторические данные, которые могут помочь проанализировать проблемы, которые выявляются только со временем, или происходит регулярно в разное время. Можно автоматизировать процесс очистки, который требуется удалить старые журналы, но может обнаружить, что требует больше ресурсов для настройки этого процесса, чем для хранения журналов.

Дополнительную нагрузку по ведения журнала является тривиальным объему времени и денег, которую можно сохранить все данные, необходимые уже доступны, когда что-то пойдет не так, задав по устранению неполадок. Затем при пользователя о том, они имели произвольные ошибки некоторое время около 8:00 вечером, но забыли ошибки, чтобы легко узнать проблема вызвана.

Для меньше, чем 4 долл. США за месяц, 50 ГБ журналов можно сохранить в наличии и влияние на производительность ведения журнала является тривиальным при условии, что обеспечили одну вещь — Чтобы избежать проблем с производительностью, убедитесь, что библиотека ведения журнала является асинхронным.

### <a name="differentiate-logs-that-inform-from-logs-that-require-action"></a>Журналы, которые сообщают различения журналы, которые требуют действий

Журналы предназначены для INFORM (требуется узнать, что-то) или ACT (требуется каких-либо действий). Нужно только запись журналов АКТ о проблемах, которые совершенно требуют человек или автоматизированный процесс вступили в действие. Слишком большое количество журналов ACT создаст шума, требует слишком больших усилий тщательно проанализировать его всех обнаружить проблемы на подлинность. И если журналов ACT автоматически запустит какие-либо действия, например, отправку электронной почты для персонала службы поддержки, не позволить тысячи такие действия, будет вызвано одна проблема.

В трассировке .NET System.Diagnostics журналы можно назначить уровень ошибки, предупреждения, сведений и отладки/Verbose. ACT можно отличить от INFORM журналы резервирование уровень ошибки для журналов ACT и используя нижних уровней для журналов INFORM.

![Уровни ведения журнала](monitoring-and-telemetry/_static/image20.png)

### <a name="configure-logging-levels-at-run-time"></a>Настройка уровней ведения журнала во время выполнения

Пока стоит ли ведение журнала всегда в рабочей среде, также рекомендуется для реализации ведения журналов платформа, которая дает возможность настроить уровень детализации, заносимых в журнал, без повторного развертывания или повторного запуска приложения, во время выполнения. Например при использовании функцию трассировки в `System.Diagnostics` можно создать ошибку, предупреждение, сведения и журналы отладки/Verbose. Мы рекомендуем всегда регистрироваться ошибка, предупреждение, и сведения о входе в рабочей среде необходимо иметь возможность динамически добавлять Debug/Verbose ведения журнала для устранения неполадок на основе конкретном случае.

Веб-приложения в службе приложений Azure включают встроенную поддержку записи `System.Diagnostics` журналы в файловой системе, хранилище таблиц или хранилище BLOB-объектов. Можно выбрать уровни ведения журнала для каждого хранилища и уровень ведения журнала на лету можно изменять без перезапуска приложения. Поддержка хранилища BLOB-объектов для упрощения запуска [HDInsight](https://docs.microsoft.com/azure/hdinsight/) анализа заданий на журналы приложения, так как HDInsight умеет работать напрямую с хранилищем больших двоичных объектов.

### <a name="log-exceptions"></a>Журнал исключений

Не помещайте *исключение. ToString()* в код ведения журнала. Контекстные сведения, опущены. В случае ошибки SQL он пропущен номер ошибки SQL. Для всех исключений включают сведения о контексте, исключений и внутренние исключения, чтобы убедиться в том, что предоставляет все компоненты, необходимые для устранения неполадок. Например сведения о контексте может включать имя сервера, идентификатор транзакции и имя пользователя (но не пароль или все секреты!).

Если вы полагаетесь на каждый разработчик должен поступите правильно с исключением ведения журнала, некоторые из них не будет. Чтобы убедиться, что он возвращает требуется право, каким образом каждый раз, построения, обрабатывающего прямо в интерфейсе средства ведения журнала: передать объект исключения в класс средства ведения журнала и журнала данные исключения должным образом в класс средства ведения журнала.

### <a name="log-calls-to-services"></a>Журнал вызовов служб

Настоятельно рекомендуется создать журнал каждый раз, приложение вызывает службу, является ли она в базу данных или API-интерфейса REST или любой внешней службы. В журналах включают не только указывает на успех или сбой, но продолжительность каждого запроса. В облачной среде вы увидите часто проблем, связанных с замедлений в работе, а не полный сбоев. То, что обычно занимает 10 миллисекунд внезапно может начать создание секунды. Если кто-то о том, что приложение работает медленно, необходимо иметь возможность просматривать в New Relic или любой службе телеметрии имеют и проверки их качества, а затем нужно иметь возможность просматривать имеют свои собственные журналы углубиться в сведения о том, почему выполняется медленно.

### <a name="use-an-ilogger-interface"></a>Используйте интерфейс ILogger

Рекомендуется делать при создании производственного приложения является создание простой *ILogger* интерфейс, а также придерживаться некоторых методов в нем. Это упрощает изменение реализация занесения данных в более поздней версии, а не проходят через весь код, чтобы сделать это. Мы использовать `System.Diagnostics.Trace` класса в пределах приложения ее исправить, но вместо этого он используется на самом деле в классе ведения журнала, который реализует *ILogger*, и мы предоставим *ILogger* на протяжении вызовов метода приложение.

Таким образом, чтобы сделать более мощных ведение журнала можно заменить [ `System.Diagnostics.Trace` ](https://docs.microsoft.com/azure/app-service-web/web-sites-dotnet-troubleshoot-visual-studio#apptracelogs) необходимо независимо от механизма ведения журнала. Например, по мере роста приложения вы можете, необходимо использовать более подробное ведение журнала пакета, такие как [NLog](http://nlog-project.org/) или [блок приложения ведения журнала библиотеки Enterprise](https://msdn.microsoft.com/library/dn440731(v=pandp.60).aspx). ([Log4Net](http://logging.apache.org/log4net/) является другой структуре популярных ведения журнала, но он не выполняет асинхронную ведения журнала.)

Для упрощения разделения пространства данных журнала в отдельной большого объема и ценные данные хранилища — одна из возможных причин для использования платформы, например NLog. Который позволяет эффективно хранить большие объемы данных INFORM, не нужно выполнять быстрое запросы, сохраняя быстрый доступ к данным ACT.

### <a name="semantic-logging"></a>Семантические ведения журнала

Относительно новая возможность ведения журнала, который может создать более полезных диагностических данных, в разделе [Enterprise библиотеки семантической ведение журнала приложения блока (ПЕРЕКРЫТИЯ)](http://convective.wordpress.com/2013/08/12/semantic-logging-application-block-slab/). Использует ПЕРЕКРЫТИЯ [трассировки событий Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803.aspx) (ETW) и [EventSource](https://msdn.microsoft.com/library/system.diagnostics.tracing.eventsource.aspx) поддержки в .NET 4.5, чтобы можно было создавать дополнительные журналы структурированных и доступна для запросов. Можно определить другой метод для каждого типа события входа, что дает возможность настроить данные, создаваемые. Например, в журнал ошибки базы данных SQL, можно вызвать метод `LogSQLDatabaseError` метод. Для этого типа исключения вы знаете, что ключевыми являются сведения — это номер ошибки, поэтому можно включить параметр номер ошибки в сигнатуре метода и запишите номер ошибки как отдельное поле в записи журнала, созданный. Поскольку значение находится в отдельном поле можно более просто и надежно получить отчеты, основанные на номера ошибок SQL, чем при только что сцепление номер ошибки в строку сообщения.

## <a name="logging-in-the-fix-it-app"></a>Вход в исправления приложения

### <a name="the-ilogger-interface"></a>Интерфейс ILogger

Вот *ILogger* интерфейса в приложении ее исправить.

[!code-csharp[Main](monitoring-and-telemetry/samples/sample1.cs)]

Эти методы позволяют создавать журналы на четырех уровней, поддерживаемых *System.Diagnostics*. TraceApi методы предназначены для ведение журнала вызовов внешних служб, используя сведения о задержке. Можно также добавить набор методов для отладки/Verbose уровня.

### <a name="the-logger-implementation-of-the-ilogger-interface"></a>Реализация интерфейса ILogger средства ведения журнала

Реализация интерфейса очень проста. Он в основном просто вызывает в стандарт *System.Diagnostics* методы. В следующем фрагменте показан всех трех методов сведения и одному для каждого из них.

[!code-csharp[Main](monitoring-and-telemetry/samples/sample2.cs)]

### <a name="calling-the-ilogger-methods"></a>Вызов методов ILogger

Каждый раз кода в приложении исправить перехватывает исключение, он вызывает *ILogger* метод в журнал сведения об исключении. И каждый раз, он делает вызов в базу данных, служба BLOB-объектов или REST API, он начинает stopwatch до вызова метода, останавливает секундомера при возврате службой и регистрирует затраченное время, а также сведения об успешном или неуспешном завершении.

Обратите внимание, что сообщения журнала включает имя класса и имя метода. Рекомендуется убедиться, что сообщения журнала определяют, какая часть кода приложения настоящие.

[!code-csharp[Main](monitoring-and-telemetry/samples/sample3.cs?highlight=6,14,20-21,25)]

Теперь для каждый раз, когда приложение исправить поступил вызов к базе данных SQL можно увидеть вызова, метод, вызвавший его, и того, как время, затраченное.

![Запрос базы данных SQL в журналах](monitoring-and-telemetry/_static/image21.png)

![](monitoring-and-telemetry/_static/image22.png)

Go Просмотр журналов, видно, что время, вызовы базы данных занимают находится переменная. Сведения могут быть полезны: так как все это журналов приложения можно анализировать тенденции в как служба базы данных работает со временем. Для экземпляра службы может быть быстро большую часть времени, но может завершиться ошибкой запросов или ответов может замедлять работу в определенное время дня.

Каждый раз, приложение загружает файл, журнал и вы увидите того, как долго отправьте каждый файл можно сделать то же самое для службы BLOB-объектов —.

![Журнал передачи больших двоичных объектов](monitoring-and-telemetry/_static/image23.png)

Это всего лишь нескольких дополнительных строк кода для записи при каждом вызове службы, и теперь всякий раз, когда кто-то сообщает, что они столкнулись с проблемой, вы знаете точно проблему суть, будь то ошибку или даже если он просто работает медленно. Можно определять источник проблемы без необходимости удаленный сервер или включите ведение журналов после происходит ошибка и надеемся, что для повторного создания.

## <a name="dependency-injection-in-the-fix-it-app"></a>Внедрение зависимостей исправление его приложения

Может возникнуть вопрос, как конструктор репозитория в приведенном выше примере возвращает средство ведения журнала реализацию интерфейса:

[!code-csharp[Main](monitoring-and-telemetry/samples/sample4.cs?highlight=6)]

Чтобы подключить интерфейс для реализации, приложение использует [внедрения зависимостей](http://en.wikipedia.org/wiki/Dependency_injection)(DI) с [AutoFac](http://autofac.org/). Модель внедрения зависимости позволяет использовать объект на основе интерфейса в разных местах кода и задается в одном месте, используемый при создании экземпляра интерфейса реализации. Это упрощает измените реализацию: например, может потребоваться заменить средство ведения журнала NLog System.Diagnostics средства ведения журнала. Или для выполнения автоматических тестов может потребоваться заменить имитационную версию средства ведения журнала.

Приложение устранить с помощью DI во всех репозиториев и все контроллеры. Конструкторы классов контроллеров получить *ITaskRepository* интерфейс так же, как хранилище получает интерфейс средства ведения журнала:

[!code-csharp[Main](monitoring-and-telemetry/samples/sample5.cs?highlight=5)]

Приложение использует библиотеку AutoFac DI автоматически предоставлять *TaskRepository* и *средства ведения журнала* экземпляров для этих конструкторов.

[!code-csharp[Main](monitoring-and-telemetry/samples/sample6.cs?highlight=8,10)]

По сути, этот код говорится в любом месте конструктора необходимость *ILogger* интерфейса, передайте в экземпляре *средства ведения журнала* класса, и каждый раз, когда он должен *IFixItTaskRepository*интерфейса, передайте в экземпляре *FixItTaskRepository* класса.

[AutoFac](http://autofac.org/) является одним из многих платформ внедрения зависимостей, которые можно использовать. Другое популярных является [Unity](https://blogs.msdn.com/b/agile/archive/2013/08/20/new-guide-dependency-injection-with-unity.aspx), рекомендуется и поддерживаемых шаблонов и методов Майкрософт.

## <a name="built-in-logging-support-in-azure"></a>Поддержка встроенного ведения журнала в Azure

Azure поддерживает следующие типы из [ведения журнала для веб-приложений в службе приложений Azure](https://docs.microsoft.com/azure/app-service-web/web-sites-dotnet-troubleshoot-visual-studio):

- Трассировка System.Diagnostics (можно включать и отключать и задать уровни на лету без перезапуска сайта).
- События Windows.
- Журналы IIS (HTTP/FREB).

Azure поддерживает следующие типы из [ведения журнала в облачных службах](https://docs.microsoft.com/azure/cloud-services/cloud-services-dotnet-diagnostics):

- System.Diagnostics трассировки.
- Счетчики производительности.
- События Windows.
- Журналы IIS (HTTP/FREB).
- Наблюдение за пользовательским каталогом.

Приложение исправить использует System.Diagnostics трассировку. Все, что необходимо выполнить, чтобы включить System.Diagnostics ведения журналов в веб-приложение — отразить переключателя на портале или вызов API-интерфейса REST. На портале щелкните **конфигурации** вкладке веб-узла и прокрутите вниз, чтобы увидеть **Application Diagnostics** раздела. Можно выключать ведение журнала и выбрать нужный уровень ведения журнала. У вас может записать журналы в файловой системе, так и учетную запись хранилища Azure.

![Диагностики приложений и диагностика сайта во вкладке "Настройка"](monitoring-and-telemetry/_static/image24.png)

После включения ведения журнала в Azure, вы увидите журналы в окне вывода Visual Studio при их создании.

![Меню журналы потоковой передачи](http://wacomdpsstorage.blob.core.windows.net/articlesmedia/content-ppe.windowsazure.com/documentation/articles/web-sites-dotnet-troubleshoot-visual-studio/20140115062810/tws-viewlogsmenu.png)

![Меню журналы потоковой передачи](http://wacomdpsstorage.blob.core.windows.net/articlesmedia/content-ppe.windowsazure.com/documentation/articles/web-sites-dotnet-troubleshoot-visual-studio/20140115062810/tws-nologsyet.png)

Вы также можете журналы записывались в учетную запись хранилища и просматривать их с помощью любого средства, может обращаться к службе таблиц хранилища Azure, такие как **обозревателя серверов** в Visual Studio или [обозреватель хранилищ Azure](https://azure.microsoft.com/features/storage-explorer/).

![Журналы в обозревателе серверов](http://wacomdpsstorage.blob.core.windows.net/articlesmedia/content-ppe.windowsazure.com/documentation/articles/web-sites-dotnet-troubleshoot-visual-studio/20140115062810/tws-storagelogs.png)

## <a name="summary"></a>Сводка

Это очень простой реализации системы телеметрии out of box, инструментирование ведения журналов в собственном коде и настройка ведения журналов в Azure. И при наличии проблем в производственных средах комбинация system телеметрии и пользовательские журналы поможет быстро решать проблемы, прежде чем они станут серьезные проблемы для клиентов.

В [следующей главе](transient-fault-handling.md) мы рассмотрим способы обработки временных ошибок, поэтому они не станут рабочей проблемы, которые необходимо изучить.

## <a name="resources"></a>Ресурсы

Дополнительные сведения см. в следующих ресурсах.

Документация по главным образом о телеметрии:

- [Шаблоны и методики - руководство по Azure Майкрософт](https://msdn.microsoft.com/library/dn568099.aspx). См. руководство инструментирования и телеметрии, службы отслеживания использования инструкции, шаблон мониторинга работоспособности конечной точки и шаблон изменения конфигурации среды выполнения.
- [Максимально допустимое расхождение сжатия в облаке: Включение мониторинг на веб-сайты Azure производительности New Relic](http://www.hanselman.com/blog/PennyPinchingInTheCloudEnablingNewRelicPerformanceMonitoringOnWindowsAzureWebsites.aspx).
- [Советы и рекомендации по проектированию крупномасштабных служб в облачных службах Azure](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx). Технический документ, Марк Симмс и Майкл Томасси. В разделе телеметрии и диагностики.
- [Разработка следующего поколения с помощью Application Insights](https://msdn.microsoft.com/magazine/dn683794.aspx). В статье MSDN Magazine.

Документация в основном сведения о ведении журналов:

- [Блок приложения семантической ведения журнала (ПЕРЕКРЫТИЯ)](http://convective.wordpress.com/2013/08/12/semantic-logging-application-block-slab/). Нил Маккензи представляется так при ведении журналов семантической ПЕРЕКРЫТИЯ.
- [Создание журналов структурированных и может применяться с семантической ведения журнала](https://channel9.msdn.com/Events/Build/2013/3-336). (Видео) Dominguez юлианский представляется так при ведении журналов семантической ПЕРЕКРЫТИЯ.
- [EF6 Ведение журнала SQL — часть 1: простой ведения журнала](http://blog.oneunicorn.com/2013/05/08/ef6-sql-logging-part-1-simple-logging/). Vickers Артуром показано, как в журнал запросов, выполненных с Entity Framework в EF 6.
- [Устойчивость подключения и команды перехвата с платформой Entity Framework в приложении ASP.NET MVC](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application.md). В-четвертых в ряде девять частей учебника показано, как функция EF 6 команда перехвата позволяет регистрировать в журнале SQL команды, отправляемые в базу данных Entity Framework.
- [Улучшения ведения журнала с помощью C# 5.0 информационные атрибуты вызывающего](http://www.dotnetcurry.com/showarticle.aspx?ID=972). Как легко регистрировать имя вызывающего метода без жестко кодировать его в литералы или с помощью отражения для получения его вручную.

Документация по главным образом об устранении неполадок:

- [Устранение неполадок Azure &amp; отладки блог](https://blogs.msdn.com/b/kwill/).
- [AzureTools — диагностики служебной программы используется группой поддержки разработчика Azure](https://blogs.msdn.com/b/kwill/archive/2013/08/26/azuretools-the-diagnostic-utility-used-by-the-windows-azure-developer-support-team.aspx?Redirected=true). Представляет и предоставляет ссылку для загрузки для инструмента, который может использоваться для загрузки и запуска разнообразные средства диагностики и наблюдения на Виртуальной машине Azure. Это удобно при необходимости диагностику проблем определенной виртуальной машины.
- [Устранение неполадок веб-приложения в службе приложений Azure с помощью Visual Studio](https://docs.microsoft.com/azure/app-service-web/web-sites-dotnet-troubleshoot-visual-studio). Пошаговое руководство по началу работы с трассировки System.Diagnostics и удаленной отладки.

Видеоролики:

- [Отказоустойчивость: Построение масштабируемых, надежных облачные службы](https://channel9.msdn.com/Series/FailSafe). Девять выпусков, Ульрих Хоманн, Marc Mercuri и Марк Симмс. Представляет высокоуровневых концепциях и принципов архитектуры в виде очень доступна и интересные истории, полученными в результате Advisory Team Microsoft клиентов (CAT) опыт работы с фактических клиентов. О мониторинге и телеметрии являются эпизодов 4 и 9. Серии 9 включает обзор наблюдение за службами MetricsHub, AppDynamics, New Relic и PagerDuty.
- [Построение Big: Уроках, извлеченных из клиентам Azure — часть II](https://channel9.msdn.com/Events/Build/2012/3-030). Марк Симмс рассказывает о разработке для сбоя и все данные инструментирования. Аналогично Безаварийность рядов, но переход в Дополнительные практические сведения.

Образец кода:

- [Основы облачных служб в Azure](https://code.msdn.microsoft.com/Cloud-Service-Fundamentals-4ca72649). Образец приложения, созданные Группа консультирования клиентов Microsoft Azure. Демонстрирует телеметрии и ведения журнала и рекомендации, как описано в следующих статьях. В этом образце реализуется ведение журналов для приложений с помощью [NLog](http://nlog-project.org/). Сопутствующая документация. в разделе [ряд четыре вики-статьи TechNet о телеметрии и ведении журналов](https://social.technet.microsoft.com/wiki/contents/articles/17987.cloud-service-fundamentals.aspx#Telemetry_coming_soon).

> [!div class="step-by-step"]
> [Назад](design-to-survive-failures.md)
> [Вперед](transient-fault-handling.md)
