---
uid: web-forms/overview/older-versions-security/introduction/security-basics-and-asp-net-support-vb
title: "Основы безопасности и поддержкой ASP.NET (Visual Basic) | Документы Microsoft"
author: rick-anderson
description: "Это в первом учебнике серию учебников, которые будут рассмотрены приемы для проверки подлинности посетителей через веб-формы авторизации доступа к partic..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/13/2008
ms.topic: article
ms.assetid: ab68a92b-fc81-40a4-a7dc-406625d2c5d4
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-security/introduction/security-basics-and-asp-net-support-vb
msc.type: authoredcontent
ms.openlocfilehash: 1ff76d08b6de20be7263ae134b102883fc8d99a2
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2017
---
<a name="security-basics-and-aspnet-support-vb"></a><span data-ttu-id="c7e60-103">Основы безопасности и поддержкой ASP.NET (Visual Basic)</span><span class="sxs-lookup"><span data-stu-id="c7e60-103">Security Basics and ASP.NET Support (VB)</span></span>
====================
<span data-ttu-id="c7e60-104">по [Скотт Митчелл](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="c7e60-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="c7e60-105">Скачать PDF</span><span class="sxs-lookup"><span data-stu-id="c7e60-105">Download PDF</span></span>](http://download.microsoft.com/download/2/F/7/2F705A34-F9DE-4112-BBDE-60098089645E/aspnet_tutorial01_Basics_vb.pdf)

> <span data-ttu-id="c7e60-106">Это в первом учебнике серию учебников, которые будут рассмотрены приемы посетители через веб-формы проверки подлинности, авторизации доступа к определенной страницы и функциональность и управление учетными записями пользователей в приложении ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c7e60-106">This is the first tutorial in a series of tutorials that will explore techniques for authenticating visitors through a web form, authorizing access to particular pages and functionality, and managing user accounts in an ASP.NET application.</span></span>


## <a name="introduction"></a><span data-ttu-id="c7e60-107">Вступление</span><span class="sxs-lookup"><span data-stu-id="c7e60-107">Introduction</span></span>

<span data-ttu-id="c7e60-108">Что такое единственное форумы, узлы электронной коммерции, веб-сайтов веб-почту, веб-сайты портала и сайты социальных сетей, которые имеют общие</span><span class="sxs-lookup"><span data-stu-id="c7e60-108">What is the one thing forums, eCommerce sites, online email websites, portal websites, and social network sites all have in common?</span></span> <span data-ttu-id="c7e60-109">Все они предлагают *учетные записи пользователей*.</span><span class="sxs-lookup"><span data-stu-id="c7e60-109">They all offer *user accounts*.</span></span> <span data-ttu-id="c7e60-110">Сайты, которые содержат учетные записи пользователей необходимо предоставить несколько служб.</span><span class="sxs-lookup"><span data-stu-id="c7e60-110">Sites that offer user accounts must provide a number of services.</span></span> <span data-ttu-id="c7e60-111">Как минимум новый посетителей необходимо иметь возможность создать учетную запись и возвращение посетители должен иметь возможность войти.</span><span class="sxs-lookup"><span data-stu-id="c7e60-111">At a minimum, new visitors need to be able to create an account and returning visitors must be able to log in.</span></span> <span data-ttu-id="c7e60-112">Такие веб-приложения можно принять решение исходя пользователь: некоторые страницы или действия может быть ограничен только войти в пользователям или к подмножеству пользователей. другие страницы может показывать сведения о конкретных пользователю, вошедшему в систему, или может показывать больше или меньше информации в зависимости от того, какой пользователь просматривает страницы.</span><span class="sxs-lookup"><span data-stu-id="c7e60-112">Such web applications can make decisions based on the logged in user: some pages or actions might be restricted to only logged in users, or to a certain subset of users; other pages might show information specific to the logged in user, or might show more or less information, depending on what user is viewing the page.</span></span>

<span data-ttu-id="c7e60-113">Это в первом учебнике серию учебников, которые будут рассмотрены приемы посетители через веб-формы проверки подлинности, авторизации доступа к определенной страницы и функциональность и управление учетными записями пользователей в приложении ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c7e60-113">This is the first tutorial in a series of tutorials that will explore techniques for authenticating visitors through a web form, authorizing access to particular pages and functionality, and managing user accounts in an ASP.NET application.</span></span> <span data-ttu-id="c7e60-114">В ходе этих учебников мы рассмотрим, как:</span><span class="sxs-lookup"><span data-stu-id="c7e60-114">Over the course of these tutorials we will examine how to:</span></span>

- <span data-ttu-id="c7e60-115">Определите и входа пользователей на веб-сайт</span><span class="sxs-lookup"><span data-stu-id="c7e60-115">Identify and log users in to a website</span></span>
- <span data-ttu-id="c7e60-116">С помощью ASP. В .NET framework членства управление учетными записями пользователей</span><span class="sxs-lookup"><span data-stu-id="c7e60-116">Use ASP.NET's Membership framework to manage user accounts</span></span>
- <span data-ttu-id="c7e60-117">Создание, обновление и удаление учетных записей пользователей</span><span class="sxs-lookup"><span data-stu-id="c7e60-117">Create, update, and delete user accounts</span></span>
- <span data-ttu-id="c7e60-118">Ограничить доступ к веб-странице, каталога или определенных функций на основе пользователя, вошедшего в систему</span><span class="sxs-lookup"><span data-stu-id="c7e60-118">Limit access to a web page, directory, or specific functionality based on the logged in user</span></span>
- <span data-ttu-id="c7e60-119">С помощью ASP. В .NET framework ролей для связывания учетных записей пользователей с ролями</span><span class="sxs-lookup"><span data-stu-id="c7e60-119">Use ASP.NET's Roles framework to associate user accounts with roles</span></span>
- <span data-ttu-id="c7e60-120">Управление ролями пользователей</span><span class="sxs-lookup"><span data-stu-id="c7e60-120">Manage user roles</span></span>
- <span data-ttu-id="c7e60-121">Ограничить доступ к веб-странице, каталога или определенных функций на основе роли пользователя, вошедшего в систему</span><span class="sxs-lookup"><span data-stu-id="c7e60-121">Limit access to a web page, directory, or specific functionality based on the logged in user's role</span></span>
- <span data-ttu-id="c7e60-122">Настроить и расширить ASP. В NET безопасности веб-элементов управления</span><span class="sxs-lookup"><span data-stu-id="c7e60-122">Customize and extend ASP.NET's security Web controls</span></span>

<span data-ttu-id="c7e60-123">Эти учебники предназначены для краткого и содержат пошаговые инструкции с множеством снимков экранов, дающих процесс визуально.</span><span class="sxs-lookup"><span data-stu-id="c7e60-123">These tutorials are geared to be concise and provide step-by-step instructions with plenty of screen shots to walk you through the process visually.</span></span> <span data-ttu-id="c7e60-124">В каждом учебнике доступен в C# и Visual Basic версии и загрузить полный код, используемый.</span><span class="sxs-lookup"><span data-stu-id="c7e60-124">Each tutorial is available in C# and Visual Basic versions and includes a download of the complete code used.</span></span> <span data-ttu-id="c7e60-125">(Первый учебный курс рассматриваются основные понятия безопасности с точки зрения высокого уровня и поэтому любой связанный код не содержит).</span><span class="sxs-lookup"><span data-stu-id="c7e60-125">(This first tutorial focuses on security concepts from a high-level viewpoint and therefore does not contain any associated code.)</span></span>

<span data-ttu-id="c7e60-126">В этом учебнике мы обсудим важные вопросы безопасности и какие возможности доступны в ASP.NET, чтобы помочь в реализации форм проверки подлинности, авторизации, учетные записи пользователей и ролей.</span><span class="sxs-lookup"><span data-stu-id="c7e60-126">In this tutorial we will discuss important security concepts and what facilities are available in ASP.NET to assist in implementing forms authentication, authorization, user accounts, and roles.</span></span> <span data-ttu-id="c7e60-127">Давайте начнем!</span><span class="sxs-lookup"><span data-stu-id="c7e60-127">Let's get started!</span></span>

> [!NOTE]
> <span data-ttu-id="c7e60-128">Безопасность является важным аспектом любого приложения, которое охватывает физические, технологические и политики решения и требуется высокий уровень планирования и доменов базы знаний.</span><span class="sxs-lookup"><span data-stu-id="c7e60-128">Security is an important aspect of any application that spans physical, technological, and policy decisions and requires a high degree of planning and domain knowledge.</span></span> <span data-ttu-id="c7e60-129">Этот учебник ряд не предназначен как руководство для разработки безопасных веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="c7e60-129">This tutorial series is not intended as a guide for developing secure web applications.</span></span> <span data-ttu-id="c7e60-130">Вместо этого оно посвящено специально форм проверки подлинности, авторизации, учетные записи пользователей и ролей.</span><span class="sxs-lookup"><span data-stu-id="c7e60-130">Rather, it focuses specifically on forms authentication, authorization, user accounts, and roles.</span></span> <span data-ttu-id="c7e60-131">Хотя некоторые основные понятия безопасности, вращение решения этих проблем рассматриваются в этой серии, другие остаются другую.</span><span class="sxs-lookup"><span data-stu-id="c7e60-131">While some security concepts revolving around these issues are discussed in this series, others are left unexplored.</span></span>


## <a name="authentication-authorization-user-accounts-and-roles"></a><span data-ttu-id="c7e60-132">Проверка подлинности, авторизации, учетные записи пользователей и ролей</span><span class="sxs-lookup"><span data-stu-id="c7e60-132">Authentication, Authorization, User Accounts, and Roles</span></span>

<span data-ttu-id="c7e60-133">Проверки подлинности, авторизации, учетные записи пользователей и роли находятся четыре условия, которые будут использоваться очень часто на протяжении этого учебника ряда, так как теперь пора быстрого определить эти термины в контексте безопасности веб.</span><span class="sxs-lookup"><span data-stu-id="c7e60-133">Authentication, authorization, user accounts, and roles are four terms that will be used very often throughout this tutorial series, so I'd like to take a quick moment to define these terms within the context of web security.</span></span> <span data-ttu-id="c7e60-134">В модель клиент сервер, например в Интернете существует множество сценариев, в которых этот сервер должен идентифицировать клиента, выполняющего запрос.</span><span class="sxs-lookup"><span data-stu-id="c7e60-134">In a client-server model, such as the Internet, there are many scenarios in which the server needs to identify the client making the request.</span></span> <span data-ttu-id="c7e60-135">*Проверка подлинности* — это процесс, проверка подлинности клиента.</span><span class="sxs-lookup"><span data-stu-id="c7e60-135">*Authentication* is the process of ascertaining the client's identity.</span></span> <span data-ttu-id="c7e60-136">Клиент, который успешно обнаружена считается *с проверкой подлинности*.</span><span class="sxs-lookup"><span data-stu-id="c7e60-136">A client who has been successfully identified is said to be *authenticated*.</span></span> <span data-ttu-id="c7e60-137">Клиент не были идентифицированы считается *без проверки подлинности* или *анонимный*.</span><span class="sxs-lookup"><span data-stu-id="c7e60-137">An unidentified client is said to be *unauthenticated* or *anonymous*.</span></span>

<span data-ttu-id="c7e60-138">Системы безопасной проверки подлинности используют хотя бы один из следующих трех аспектов: [известные вам сведения, имеющееся у вас оборудование или что-то являются](http://www.cs.cornell.edu/Courses/cs513/2005fa/NNLauthPeople.html).</span><span class="sxs-lookup"><span data-stu-id="c7e60-138">Secure authentication systems involve at least one of the following three facets: [something you know, something you have, or something you are](http://www.cs.cornell.edu/Courses/cs513/2005fa/NNLauthPeople.html).</span></span> <span data-ttu-id="c7e60-139">Большинство веб-приложений полагаться на то, что клиент узнает, такие как пароль или ПИН-код.</span><span class="sxs-lookup"><span data-stu-id="c7e60-139">Most web applications rely on something the client knows, such as a password or a PIN.</span></span> <span data-ttu-id="c7e60-140">Сведения, используемые для идентификации пользователя - своего имени пользователя и пароля, например - называются *учетные данные*.</span><span class="sxs-lookup"><span data-stu-id="c7e60-140">The information used to identify a user - her username and password, for example - are referred to as *credentials*.</span></span> <span data-ttu-id="c7e60-141">Этого учебника посвящены *проверки подлинности форм*, который представляет собой модель проверки подлинности, где пользователи входят на сайт, указав свои учетные данные в виде веб-страницы.</span><span class="sxs-lookup"><span data-stu-id="c7e60-141">This tutorial series focuses on *forms authentication*, which is an authentication model where users log in to the site by providing their credentials in a web page form.</span></span> <span data-ttu-id="c7e60-142">Мы все испытывать этого типа проверки подлинности, прежде чем.</span><span class="sxs-lookup"><span data-stu-id="c7e60-142">We have all experienced this type of authentication before.</span></span> <span data-ttu-id="c7e60-143">Перейдите на сайт электронной коммерции.</span><span class="sxs-lookup"><span data-stu-id="c7e60-143">Go to any eCommerce site.</span></span> <span data-ttu-id="c7e60-144">Когда будете готовы выполнить извлечение вам будет предложено войти, введя имя пользователя и пароль в текстовые поля на веб-странице.</span><span class="sxs-lookup"><span data-stu-id="c7e60-144">When you are ready to check out you are asked to log in by entering your username and password into textboxes on a web page.</span></span>

<span data-ttu-id="c7e60-145">Помимо определения клиентов, сервер может потребоваться ограничить, какие ресурсы и функциональные возможности доступны в зависимости от клиента, выполняющего запрос.</span><span class="sxs-lookup"><span data-stu-id="c7e60-145">In addition to identifying clients, a server may need to limit what resources or functionalities are accessible depending on the client making the request.</span></span> <span data-ttu-id="c7e60-146">*Авторизация* — это процесс определения ли определенный пользователь имеет право доступа к определенному ресурсу или функции.</span><span class="sxs-lookup"><span data-stu-id="c7e60-146">*Authorization* is the process of determining whether a particular user has the authority to access a specific resource or functionality.</span></span>

<span data-ttu-id="c7e60-147">Объект *учетной записи пользователя* хранилище для сохранения информации о конкретном пользователе.</span><span class="sxs-lookup"><span data-stu-id="c7e60-147">A *user account* is a store for persisting information about a particular user.</span></span> <span data-ttu-id="c7e60-148">Учетные записи пользователей должен включать как минимум сведений, который уникально идентифицирует пользователя, такие как имя входа пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="c7e60-148">User accounts must minimally include information that uniquely identifies the user, such as the user's login name and password.</span></span> <span data-ttu-id="c7e60-149">Вместе с эту важную информацию, учетные записи пользователей могут включать такие: адрес электронной почты пользователя; Дата и время создания учетной записи; Дата и время последнего входа в систему. имя и фамилия; номер телефона; и почтовый адрес.</span><span class="sxs-lookup"><span data-stu-id="c7e60-149">Along with this essential information, user accounts may include things like: the user's email address; the date and time the account was created; the date and time they last logged in; first and last name; phone number; and mailing address.</span></span> <span data-ttu-id="c7e60-150">При использовании проверки подлинности форм, учетная запись пользователя обычно хранятся в реляционной базе данных, например Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c7e60-150">When using forms authentication, user account information is typically stored in a relational database like Microsoft SQL Server.</span></span>

<span data-ttu-id="c7e60-151">Веб-приложений, поддерживающих учетные записи пользователей, при необходимости может группировать пользователей в *ролей*.</span><span class="sxs-lookup"><span data-stu-id="c7e60-151">Web applications that support user accounts may optionally group users into *roles*.</span></span> <span data-ttu-id="c7e60-152">Роль — это просто метку, которая применяется к пользователю и предоставляет абстракцию для определения правил авторизации и функциональные возможности уровня страницы.</span><span class="sxs-lookup"><span data-stu-id="c7e60-152">A role is simply a label that is applied to a user and provides an abstraction for defining authorization rules and page-level functionality.</span></span> <span data-ttu-id="c7e60-153">Например веб-сайт может включать роль администратора с помощью правил авторизации, которые запрещают всем, кроме администратора для доступа к определенной группы веб-страниц.</span><span class="sxs-lookup"><span data-stu-id="c7e60-153">For example, a website might include an Administrator role with authorization rules that prohibit anyone but an Administrator to access a particular set of web pages.</span></span> <span data-ttu-id="c7e60-154">Кроме того множество страниц, которые доступны для всех пользователей (включая администраторов) может отображать дополнительные данные или обеспечивают дополнительные функциональные возможности при посещении пользователями в роли "Администраторы".</span><span class="sxs-lookup"><span data-stu-id="c7e60-154">Moreover, a variety of pages that are accessible to all users (including non-Administrators) might display additional data or offer extra functionality when visited by users in the Administrators role.</span></span> <span data-ttu-id="c7e60-155">С помощью ролей, можно определить эти правила авторизации на роли в роли отдельно, а не пользователя по.</span><span class="sxs-lookup"><span data-stu-id="c7e60-155">Using roles, we can define these authorization rules on a role-by-role basis rather than user-by-user.</span></span>

## <a name="authenticating-users-in-an-aspnet-application"></a><span data-ttu-id="c7e60-156">Проверка подлинности пользователей в приложении ASP.NET</span><span class="sxs-lookup"><span data-stu-id="c7e60-156">Authenticating Users in an ASP.NET Application</span></span>

<span data-ttu-id="c7e60-157">Когда пользователь вводит URL-адрес в адрес окно браузера или переходов по ссылке, браузер отправляет [протокола передачи гипертекста (HTTP)](http://en.wikipedia.org/wiki/HTTP) запроса на веб-сервер для заданного содержимого, будь то ASP.NET страницы изображение JavaScript файл, или любого другого типа содержимого.</span><span class="sxs-lookup"><span data-stu-id="c7e60-157">When a user enters a URL into their browser's address window or clicks on a link, the browser makes a [Hypertext Transfer Protocol (HTTP)](http://en.wikipedia.org/wiki/HTTP) request to the web server for the specified content, be it an ASP.NET page, an image, a JavaScript file, or any other type of content.</span></span> <span data-ttu-id="c7e60-158">Веб-сервере назначены возврат запрошенного содержимого.</span><span class="sxs-lookup"><span data-stu-id="c7e60-158">The web server is tasked with returning the requested content.</span></span> <span data-ttu-id="c7e60-159">При этом он должен определить ряд вопросов о запросе, в том числе автора запроса и является ли удостоверение предоставляет права на получение запрошенного содержимого.</span><span class="sxs-lookup"><span data-stu-id="c7e60-159">In doing so, it must determine a number of things about the request, including who made the request and whether the identity is authorized to retrieve the requested content.</span></span>

<span data-ttu-id="c7e60-160">По умолчанию, браузеры отправлять HTTP-запросы, в которых не хватает каких-либо идентификационные данные.</span><span class="sxs-lookup"><span data-stu-id="c7e60-160">By default, browsers send HTTP requests that lack any sort of identification information.</span></span> <span data-ttu-id="c7e60-161">Но если браузер включают сведения о проверке подлинности веб-сервер запускает рабочий процесс проверки подлинности, которая используется для идентификации клиента, выполняющего запрос.</span><span class="sxs-lookup"><span data-stu-id="c7e60-161">But if the browser does include authentication information then the web server starts the authentication workflow, which attempts to identify the client making the request.</span></span> <span data-ttu-id="c7e60-162">Действия рабочего процесса проверки подлинности зависят от типа проверки подлинности, используемый веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="c7e60-162">The steps of the authentication workflow depend on the type of authentication being used by the web application.</span></span> <span data-ttu-id="c7e60-163">ASP.NET поддерживает три типа проверки подлинности: Windows, службы Passport и формы.</span><span class="sxs-lookup"><span data-stu-id="c7e60-163">ASP.NET supports three types of authentication: Windows, Passport, and forms.</span></span> <span data-ttu-id="c7e60-164">Этого учебника посвящены форм проверки подлинности, но давайте минуты для сравнения и сравните хранилищ пользователя для проверки подлинности Windows и рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="c7e60-164">This tutorial series focuses on forms authentication, but let's take a minute to compare and contrast Windows authentication user stores and workflow.</span></span>

### <a name="authentication-via-windows-authentication"></a><span data-ttu-id="c7e60-165">Проверка подлинности посредством проверки подлинности Windows</span><span class="sxs-lookup"><span data-stu-id="c7e60-165">Authentication via Windows Authentication</span></span>

<span data-ttu-id="c7e60-166">Рабочий процесс проверки подлинности Windows использует один из следующих способов проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="c7e60-166">The Windows authentication workflow uses one of the following authentication techniques:</span></span>

- <span data-ttu-id="c7e60-167">Обычная аутентификация</span><span class="sxs-lookup"><span data-stu-id="c7e60-167">Basic authentication</span></span>
- <span data-ttu-id="c7e60-168">Дайджест-проверка подлинности</span><span class="sxs-lookup"><span data-stu-id="c7e60-168">Digest authentication</span></span>
- <span data-ttu-id="c7e60-169">Встроенная проверка подлинности Windows</span><span class="sxs-lookup"><span data-stu-id="c7e60-169">Windows Integrated Authentication</span></span>

<span data-ttu-id="c7e60-170">Все три метода работы примерно таким же образом: Если несанкционированного анонимный запрос, в веб-сервер отправляет HTTP-ответа, которое указывает, что авторизации является обязательным для продолжения.</span><span class="sxs-lookup"><span data-stu-id="c7e60-170">All three techniques work in roughly the same way: when an unauthorized, anonymous request arrives, the web server sends back an HTTP response that indicates that authorization is required to continue.</span></span> <span data-ttu-id="c7e60-171">Затем браузер отображает модальное диалоговое окно, окно с приглашением ввести имя пользователя и пароль (см. рис. 1).</span><span class="sxs-lookup"><span data-stu-id="c7e60-171">The browser then displays a modal dialog box that prompts the user for their username and password (see Figure 1).</span></span> <span data-ttu-id="c7e60-172">Эти сведения затем отправляется обратно в веб-сервере через заголовка HTTP.</span><span class="sxs-lookup"><span data-stu-id="c7e60-172">This information is then sent back to the web server via an HTTP header.</span></span>


![Модального диалогового окна запросит у пользователя его учетные данные](security-basics-and-asp-net-support-vb/_static/image1.png)

<span data-ttu-id="c7e60-174">**Рис. 1**: модального диалогового окна запросит у пользователя его учетные данные</span><span class="sxs-lookup"><span data-stu-id="c7e60-174">**Figure 1**: A Modal Dialog Box Prompts the User for His Credentials</span></span>


<span data-ttu-id="c7e60-175">Предоставленные учетные данные проверяются относительно хранилища пользователя веб-сервера Windows.</span><span class="sxs-lookup"><span data-stu-id="c7e60-175">The supplied credentials are validated against the web server's Windows User Store.</span></span> <span data-ttu-id="c7e60-176">Это означает, что каждого пользователя, прошедшего проверку подлинности в веб-приложении необходимо иметь учетную запись Windows в вашей организации.</span><span class="sxs-lookup"><span data-stu-id="c7e60-176">This means that each authenticated user in your web application must have a Windows account in your organization.</span></span> <span data-ttu-id="c7e60-177">Это связано с обычными в интрасети.</span><span class="sxs-lookup"><span data-stu-id="c7e60-177">This is commonplace in intranet scenarios.</span></span> <span data-ttu-id="c7e60-178">Фактически при использовании встроенной проверки подлинности Windows в среде интрасети, браузер автоматически предоставляет веб-сервере учетные данные, используемые для входа в сеть, тем самым подавляя окно показано на рисунке 1.</span><span class="sxs-lookup"><span data-stu-id="c7e60-178">In fact, when using Windows Integrated Authentication in an intranet setting, the browser automatically provides the web server with the credentials used to log on to the network, thereby suppressing the dialog box shown in Figure 1.</span></span> <span data-ttu-id="c7e60-179">Проверка подлинности Windows отлично подходит для приложений в интрасети, обычно представляется возможным для веб-приложений с момента создания учетных записей Windows для каждого пользователя, зарегистрировавшийся на сайте не требуется.</span><span class="sxs-lookup"><span data-stu-id="c7e60-179">While Windows authentication is great for intranet applications, it is usually unfeasible for Internet applications since you do not want to create Windows accounts for each and every user who signs up at your site.</span></span>

### <a name="authentication-via-forms-authentication"></a><span data-ttu-id="c7e60-180">Проверка подлинности посредством проверки подлинности форм</span><span class="sxs-lookup"><span data-stu-id="c7e60-180">Authentication via Forms Authentication</span></span>

<span data-ttu-id="c7e60-181">Формы проверки подлинности, с другой стороны, идеально подходит для Интернета веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="c7e60-181">Forms authentication, on the other hand, is ideal for Internet web applications.</span></span> <span data-ttu-id="c7e60-182">Напомним, что проверки подлинности форм определяет пользователя, предлагает пользователю ввести учетные данные через веб-форму.</span><span class="sxs-lookup"><span data-stu-id="c7e60-182">Recall that forms authentication identifies the user by prompting them to enter their credentials through a web form.</span></span> <span data-ttu-id="c7e60-183">Таким образом когда пользователь пытается получить доступ к ресурсу несанкционированного, они автоматически перенаправляются на страницу входа, где они могут ввести свои учетные данные.</span><span class="sxs-lookup"><span data-stu-id="c7e60-183">Consequently, when a user attempts to access an unauthorized resource, they are automatically redirected to the login page where they can enter their credentials.</span></span> <span data-ttu-id="c7e60-184">Отправленный учетные данные затем проверяются относительно хранилищу пользователей - обычно базы данных.</span><span class="sxs-lookup"><span data-stu-id="c7e60-184">The submitted credentials are then validated against a custom user store - usually a database.</span></span>

<span data-ttu-id="c7e60-185">После проверки того, отправленной учетные данные, *подлинности форм* создается для пользователя.</span><span class="sxs-lookup"><span data-stu-id="c7e60-185">After verifying the submitted credentials, a *forms authentication ticket* is created for the user.</span></span> <span data-ttu-id="c7e60-186">Этот билет означает, что пользователь прошел проверку подлинности и включает в себя идентификационные данные, такие как имя пользователя.</span><span class="sxs-lookup"><span data-stu-id="c7e60-186">This ticket indicates that the user has been authenticated and includes identifying information, such as the username.</span></span> <span data-ttu-id="c7e60-187">Билет проверки подлинности форм (обычно) сохраняется как файл cookie на клиентском компьютере.</span><span class="sxs-lookup"><span data-stu-id="c7e60-187">The forms authentication ticket is (typically) stored as a cookie on the client computer.</span></span> <span data-ttu-id="c7e60-188">Последующих посещениях веб-сайта, поэтому включать билета проверки подлинности форм в HTTP-запроса, благодаря чему веб-приложения для идентификации пользователя, когда они вошли.</span><span class="sxs-lookup"><span data-stu-id="c7e60-188">Therefore, subsequent visits to the website include the forms authentication ticket in the HTTP request, thereby enabling the web application to identify the user once they have logged in.</span></span>

<span data-ttu-id="c7e60-189">На рисунке 2 показан процесс проверки подлинности форм из точки vantage высокого уровня.</span><span class="sxs-lookup"><span data-stu-id="c7e60-189">Figure 2 illustrates the forms authentication workflow from a high-level vantage point.</span></span> <span data-ttu-id="c7e60-190">Обратите внимание на то, как компоненты проверки подлинности и авторизации в ASP.NET выступать в качестве двумя отдельными сущностями.</span><span class="sxs-lookup"><span data-stu-id="c7e60-190">Notice how the authentication and authorization pieces in ASP.NET act as two separate entities.</span></span> <span data-ttu-id="c7e60-191">Система проверки подлинности форм определяет пользователя (или сообщает, что анонимный).</span><span class="sxs-lookup"><span data-stu-id="c7e60-191">The forms authentication system identifies the user (or reports that they are anonymous).</span></span> <span data-ttu-id="c7e60-192">Система авторизации является то, что определяет, имеет ли пользователь доступ к запрошенному ресурсу.</span><span class="sxs-lookup"><span data-stu-id="c7e60-192">The authorization system is what determines whether the user has access to the requested resource.</span></span> <span data-ttu-id="c7e60-193">Если пользователь не имеет прав (как при попытке анонимно посетите ProtectedPage.aspx, они находятся на рис. 2), система авторизации сообщает, что пользователь отклонил, вызывая форм проверки подлинности системы автоматически перенаправлять пользователя на страницу входа.</span><span class="sxs-lookup"><span data-stu-id="c7e60-193">If the user is unauthorized (as they are in Figure 2 when attempting to anonymously visit ProtectedPage.aspx), the authorization system reports that the user is denied, causing the forms authentication system to automatically redirect the user to the login page.</span></span>

<span data-ttu-id="c7e60-194">Когда пользователь успешно выполнил вход, последующие HTTP-запросы включают билета проверки подлинности форм.</span><span class="sxs-lookup"><span data-stu-id="c7e60-194">Once the user has successfully logged in, subsequent HTTP requests include the forms authentication ticket.</span></span> <span data-ttu-id="c7e60-195">Система проверки подлинности форм просто определяет пользователя — это система авторизации, которое определяет, может ли пользователь доступ к запрошенному ресурсу.</span><span class="sxs-lookup"><span data-stu-id="c7e60-195">The forms authentication system merely identifies the user - it is the authorization system that determines whether the user can access the requested resource.</span></span>


![Рабочий процесс проверки подлинности форм](security-basics-and-asp-net-support-vb/_static/image2.png)

<span data-ttu-id="c7e60-197">**На рисунке 2**: рабочий процесс проверки подлинности форм</span><span class="sxs-lookup"><span data-stu-id="c7e60-197">**Figure 2**: The Forms Authentication Workflow</span></span>


<span data-ttu-id="c7e60-198">Будет подробно проверки подлинности форм гораздо более подробно в следующих учебниках[Общие сведения для проверки подлинности форм](an-overview-of-forms-authentication-vb.md) и [настройки проверки подлинности форм и дополнительные разделы](forms-authentication-configuration-and-advanced-topics-vb.md).</span><span class="sxs-lookup"><span data-stu-id="c7e60-198">We will dig into forms authentication in much greater detail in the next two tutorials,[An Overview of Forms Authentication](an-overview-of-forms-authentication-vb.md) and [Forms Authentication Configuration and Advanced Topics](forms-authentication-configuration-and-advanced-topics-vb.md).</span></span> <span data-ttu-id="c7e60-199">Для получения дополнительных сведений об ASP. Параметры проверки подлинности в сети, в разделе [проверки подлинности ASP.NET](https://msdn.microsoft.com/en-us/library/eeyk640h.aspx).</span><span class="sxs-lookup"><span data-stu-id="c7e60-199">For more on ASP.NET's authentication options, see [ASP.NET Authentication](https://msdn.microsoft.com/en-us/library/eeyk640h.aspx).</span></span>

## <a name="limiting-access-to-web-pages-directories-and-page-functionality"></a><span data-ttu-id="c7e60-200">Ограничение доступа к веб-страниц, каталогов и функциональных возможностей страницы</span><span class="sxs-lookup"><span data-stu-id="c7e60-200">Limiting Access to Web Pages, Directories, and Page Functionality</span></span>

<span data-ttu-id="c7e60-201">ASP.NET содержит два способа определить, является ли определенный пользователь имеет право на доступ к определенного файла или каталога:</span><span class="sxs-lookup"><span data-stu-id="c7e60-201">ASP.NET includes two ways to determine whether a particular user has authority to access a specific file or directory:</span></span>

- <span data-ttu-id="c7e60-202">**Авторизация файлов** — поскольку страниц ASP.NET и веб-службы реализованы как файлы, которые находятся в файловой системе веб-сервере, доступ к этим файлам можно указать с помощью списков управления доступом (ACL).</span><span class="sxs-lookup"><span data-stu-id="c7e60-202">**File authorization** - since ASP.NET pages and web services are implemented as files that reside on the web server's file system, access to these files can be specified through Access Control Lists (ACLs).</span></span> <span data-ttu-id="c7e60-203">Авторизация файла чаще всего используется с проверкой подлинности Windows, так как ACL представляют собой разрешения, которые применяются к учетным записям Windows.</span><span class="sxs-lookup"><span data-stu-id="c7e60-203">File authorization is most commonly used with Windows authentication because ACLs are permissions that apply to Windows accounts.</span></span> <span data-ttu-id="c7e60-204">При использовании проверки подлинности форм, все запросы системного уровня операционной системы и файл выполняемых учетную запись Windows, независимо от пользователя на узле.</span><span class="sxs-lookup"><span data-stu-id="c7e60-204">When using forms authentication, all operating system- and file system-level requests are executed by the same Windows account, regardless of the user visiting the site.</span></span>
- <span data-ttu-id="c7e60-205">**Авторизация URL-адреса**-авторизации URL-адрес страницы разработчик указывает правила авторизации в файле Web.config. Эти правила авторизации указать, что пользователям или ролям получают доступ к или Отказано в доступе к определенным страниц или каталогов в приложении.</span><span class="sxs-lookup"><span data-stu-id="c7e60-205">**URL authorization**- with URL authorization, the page developer specifies authorization rules in Web.config. These authorization rules specify what users or roles are allowed to access or are denied from accessing certain pages or directories in the application.</span></span>

<span data-ttu-id="c7e60-206">Авторизация файла и авторизация URL-адреса определить правила авторизации для доступа к определенной страницы ASP.NET или для всех страниц ASP.NET в конкретном каталоге.</span><span class="sxs-lookup"><span data-stu-id="c7e60-206">File authorization and URL authorization define authorization rules for accessing a particular ASP.NET page or for all ASP.NET pages in a particular directory.</span></span> <span data-ttu-id="c7e60-207">С помощью этих методов можно настроить ASP.NET, чтобы отклонять запросы на определенную страницу для конкретного пользователя или разрешить доступ к определенным пользователям и запретить доступ для всех остальных случаях.</span><span class="sxs-lookup"><span data-stu-id="c7e60-207">Using these techniques we can instruct ASP.NET to deny requests to a particular page for a particular user, or allow access to a set of users and deny access to everyone else.</span></span> <span data-ttu-id="c7e60-208">Новые сведения о сценариях, где все пользователи могут получить доступ к странице, но функциональных возможностей страницы зависит от пользователя?</span><span class="sxs-lookup"><span data-stu-id="c7e60-208">What about scenarios where all of the users can access the page, but the page's functionality depends on the user?</span></span> <span data-ttu-id="c7e60-209">Например большое количество сайтов, поддерживающих учетные записи пользователей выполнять страниц отображать различное содержимое или данные для прошедших проверку пользователей и анонимных пользователей.</span><span class="sxs-lookup"><span data-stu-id="c7e60-209">For example, many sites that support user accounts have pages that display different content or data for authenticated users versus anonymous users.</span></span> <span data-ttu-id="c7e60-210">Анонимный пользователь может появиться ссылку для входа на сайт, тогда как прошедший проверку пользователь увидит вместо этого сообщения, например и Добро пожаловать, *Username* вместе со ссылкой, чтобы выйти из системы. Другой пример: отображается при просмотре элемента на узле аукциона различные сведения в зависимости от того, являетесь ли вы bidder или компьютера, auctioning элемента.</span><span class="sxs-lookup"><span data-stu-id="c7e60-210">An anonymous user might see a link to log in to the site, whereas an authenticated user would instead see a message like, Welcome back, *Username* along with a link to log out. Another example: when viewing an item at an auction site you see different information depending on whether you are a bidder or the one auctioning the item.</span></span>

<span data-ttu-id="c7e60-211">Можно сделать такие изменения уровня страницы, декларативно или программно.</span><span class="sxs-lookup"><span data-stu-id="c7e60-211">Such page-level adjustments can be accomplished declaratively or programmatically.</span></span> <span data-ttu-id="c7e60-212">Для отображения разного содержимого для анонимных прошедших проверку подлинности пользователей, просто перетащите [управления LoginView](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.loginview.aspx) на страницу и ввести его AnonymousTemplate и LoggedInTemplate шаблоны соответствующее содержимое.</span><span class="sxs-lookup"><span data-stu-id="c7e60-212">To show different content for anonymous than authenticated users, simply drag a [LoginView control](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.loginview.aspx) onto your page and enter the appropriate content into its AnonymousTemplate and LoggedInTemplate templates.</span></span> <span data-ttu-id="c7e60-213">Кроме того, можно программно определить является ли текущий запрос проходит проверку подлинности, кем является пользователь и какие роли они принадлежат к (если таковые имеются).</span><span class="sxs-lookup"><span data-stu-id="c7e60-213">Alternatively, you can programmatically determine whether the current request is authenticated, who the user is, and what roles they belong to (if any).</span></span> <span data-ttu-id="c7e60-214">Эти сведения можно использовать для затем Показать или скрыть столбцы в сетку или панели на странице.</span><span class="sxs-lookup"><span data-stu-id="c7e60-214">You can use this information to then show or hide columns in a grid or Panels on the page.</span></span>

<span data-ttu-id="c7e60-215">Этот ряд содержит три учебника, ориентированные на авторизации.</span><span class="sxs-lookup"><span data-stu-id="c7e60-215">This series includes three tutorials that focus on authorization.</span></span> <span data-ttu-id="c7e60-216">***Авторизация на основе пользователя***рассматривается ограничение доступа на страницу или страницы в каталоге для отдельным учетным записям пользователей; ***Авторизации на основе ролей*** просматривает указания правил авторизации для роли уровне; Наконец, ***отображение содержимого на основе — в настоящее время входа в систему пользователя*** учебника более подробно рассматривается изменение определенного содержимое страницы и функциональность на основе пользователя, посетив страницу.</span><span class="sxs-lookup"><span data-stu-id="c7e60-216">***User-Based Authorization***examines how to limit access to a page or pages in a directory for specific user accounts; ***Role-Based Authorization*** looks at supplying authorization rules at the role level; lastly, the ***Displaying Content Based on the Currently Logged In User*** tutorial explores modifying a particular page's content and functionality based on the user visiting the page.</span></span> <span data-ttu-id="c7e60-217">Для получения дополнительных сведений об ASP. Параметры авторизации NET элемента, в разделе [авторизации ASP.NET](https://msdn.microsoft.com/en-us/library/wce3kxhd.aspx).</span><span class="sxs-lookup"><span data-stu-id="c7e60-217">For more on ASP.NET's authorization options, see [ASP.NET Authorization](https://msdn.microsoft.com/en-us/library/wce3kxhd.aspx).</span></span>

## <a name="user-accounts-and-roles"></a><span data-ttu-id="c7e60-218">Учетные записи пользователей и ролей</span><span class="sxs-lookup"><span data-stu-id="c7e60-218">User Accounts and Roles</span></span>

<span data-ttu-id="c7e60-219">ASP. NET проверки подлинности форм предоставляет инфраструктуру для пользователей для входа на сайт и свое состояние прошедшего проверку подлинности, запоминаются посещений страницы.</span><span class="sxs-lookup"><span data-stu-id="c7e60-219">ASP.NET's forms authentication provides an infrastructure for users to log in to a site and have their authenticated state remembered across page visits.</span></span> <span data-ttu-id="c7e60-220">И авторизация URL-адреса предоставляет платформу для ограничения доступа к определенные файлы или папки в приложении ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c7e60-220">And URL authorization offers a framework for limiting access to specific files or folders in an ASP.NET application.</span></span> <span data-ttu-id="c7e60-221">Однако ни один из компонентов предоставляет средства для хранения учетных записей пользователей и управление ролями.</span><span class="sxs-lookup"><span data-stu-id="c7e60-221">Neither feature, however, supplies a means for storing user account information or managing roles.</span></span>

<span data-ttu-id="c7e60-222">До ASP.NET 2.0 разработчики несут ответственность за создание собственных хранилищ пользователя и роли.</span><span class="sxs-lookup"><span data-stu-id="c7e60-222">Prior to ASP.NET 2.0, developers were responsible for creating their own user and role stores.</span></span> <span data-ttu-id="c7e60-223">Они также находились на обработчик для разработки пользовательских интерфейсов и написание кода для важных пользователя связанные с учетной записью страницы на страницу входа и страницу, чтобы создать новую учетную запись, в частности.</span><span class="sxs-lookup"><span data-stu-id="c7e60-223">They were also on the hook for designing the user interfaces and writing the code for essential user account-related pages like the login page and the page to create a new account, among others.</span></span> <span data-ttu-id="c7e60-224">Не все платформы встроенной учетной записи ASP.NET, каждый разработчик, реализующий пользователи имели чтобы попасть по его собственному проектные решения на вопросы, например, как сохранять пароли и другие конфиденциальные сведения? и какие правила, следует ли применить относительно длина пароля и надежности?</span><span class="sxs-lookup"><span data-stu-id="c7e60-224">Without any built-in user account framework in ASP.NET, each developer implementing user accounts had to arrive at his own design decisions on questions like, How do I store passwords or other sensitive information? and What guidelines should I impose regarding password length and strength?</span></span>

<span data-ttu-id="c7e60-225">В настоящее время реализации учетных записей пользователей в приложении ASP.NET очень гораздо проще благодаря *framework членства* и встроенной входа веб-элементов управления.</span><span class="sxs-lookup"><span data-stu-id="c7e60-225">Today, implementing user accounts in an ASP.NET application is much simpler thanks to the *Membership framework* and the built-in Login Web controls.</span></span> <span data-ttu-id="c7e60-226">Платформа членства — небольшое число классов в [имен System.Web.Security](https://msdn.microsoft.com/en-us/library/system.web.security.aspx) , обеспечивающие функциональные возможности для выполнения задач, связанных с учетной записи пользователя необходимо.</span><span class="sxs-lookup"><span data-stu-id="c7e60-226">The Membership framework is a handful of classes in the [System.Web.Security namespace](https://msdn.microsoft.com/en-us/library/system.web.security.aspx) that provide functionality for performing essential user account-related tasks.</span></span> <span data-ttu-id="c7e60-227">Класс ключа в структуре членства является [класс членства](https://msdn.microsoft.com/en-us/library/system.web.security.membership.aspx), имеющее методы, такие как:</span><span class="sxs-lookup"><span data-stu-id="c7e60-227">The key class in the Membership framework is the [Membership class](https://msdn.microsoft.com/en-us/library/system.web.security.membership.aspx), which has methods like:</span></span>

- <span data-ttu-id="c7e60-228">CreateUser</span><span class="sxs-lookup"><span data-stu-id="c7e60-228">CreateUser</span></span>
- <span data-ttu-id="c7e60-229">DeleteUser</span><span class="sxs-lookup"><span data-stu-id="c7e60-229">DeleteUser</span></span>
- <span data-ttu-id="c7e60-230">GetAllUsers</span><span class="sxs-lookup"><span data-stu-id="c7e60-230">GetAllUsers</span></span>
- <span data-ttu-id="c7e60-231">GetUser</span><span class="sxs-lookup"><span data-stu-id="c7e60-231">GetUser</span></span>
- <span data-ttu-id="c7e60-232">UpdateUser</span><span class="sxs-lookup"><span data-stu-id="c7e60-232">UpdateUser</span></span>
- <span data-ttu-id="c7e60-233">ValidateUser</span><span class="sxs-lookup"><span data-stu-id="c7e60-233">ValidateUser</span></span>

<span data-ttu-id="c7e60-234">Платформа членства использует [модель поставщика](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), который разделяет результирующие API платформы членства от его реализации.</span><span class="sxs-lookup"><span data-stu-id="c7e60-234">The Membership framework uses the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), which cleanly separates the Membership framework's API from its implementation.</span></span> <span data-ttu-id="c7e60-235">Это позволяет разработчикам использовать общий API, но позволяет им использовать реализацию в соответствии с потребностями своего приложения.</span><span class="sxs-lookup"><span data-stu-id="c7e60-235">This enables developers to use a common API, but empowers them to use an implementation that meets their application's custom needs.</span></span> <span data-ttu-id="c7e60-236">Иными словами класс членства определяет основные функциональные возможности платформы (методы, свойства и события), но фактически не предоставляет каких-либо деталей реализации.</span><span class="sxs-lookup"><span data-stu-id="c7e60-236">In short, the Membership class defines the essential functionality of the framework (the methods, properties, and events), but does not actually supply any implementation details.</span></span> <span data-ttu-id="c7e60-237">Вместо этого методы класса членства вызвать настроенного поставщика, который является то, что выполняет фактическую работу.</span><span class="sxs-lookup"><span data-stu-id="c7e60-237">Instead, the methods of the Membership class invoke the configured provider, which is what performs the actual work.</span></span> <span data-ttu-id="c7e60-238">Например при вызове метода класса членства CreateUser класс членства не сведения о хранилище пользователя.</span><span class="sxs-lookup"><span data-stu-id="c7e60-238">For example, when the Membership class's CreateUser method is invoked, the Membership class doesn't know the details of the user store.</span></span> <span data-ttu-id="c7e60-239">Он не знает, если пользователи находятся в базе данных или XML-файла или другого хранилища.</span><span class="sxs-lookup"><span data-stu-id="c7e60-239">It doesn't know if users are being maintained in a database or in an XML file or in some other store.</span></span> <span data-ttu-id="c7e60-240">Класс членства проверяет конфигурацию веб-приложения, чтобы определить, какой поставщик делегировать вызов и этого класса поставщик отвечает за фактически Создание новой учетной записи пользователя в хранилище пользователя.</span><span class="sxs-lookup"><span data-stu-id="c7e60-240">The Membership class examines the web application's configuration to determine what provider to delegate the call to, and that provider class is responsible for actually creating the new user account in the appropriate user store.</span></span> <span data-ttu-id="c7e60-241">На рисунке 3 показано это взаимодействие.</span><span class="sxs-lookup"><span data-stu-id="c7e60-241">This interaction is illustrated in Figure 3.</span></span>

<span data-ttu-id="c7e60-242">Корпорация Майкрософт предоставляет два класса поставщика членства в .NET Framework:</span><span class="sxs-lookup"><span data-stu-id="c7e60-242">Microsoft ships two Membership provider classes in the .NET Framework:</span></span>

- <span data-ttu-id="c7e60-243">[ActiveDirectoryMembershipProvider](https://msdn.microsoft.com/en-us/library/system.web.security.activedirectorymembershipprovider.aspx) -реализует API членства в Active Directory и Active Directory Application Mode (ADAM) серверов.</span><span class="sxs-lookup"><span data-stu-id="c7e60-243">[ActiveDirectoryMembershipProvider](https://msdn.microsoft.com/en-us/library/system.web.security.activedirectorymembershipprovider.aspx) - implements the Membership API in Active Directory and Active Directory Application Mode (ADAM) servers.</span></span>
- <span data-ttu-id="c7e60-244">[SqlMembershipProvider](https://msdn.microsoft.com/en-us/library/system.web.security.sqlmembershipprovider.aspx) -реализует API членства в базе данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c7e60-244">[SqlMembershipProvider](https://msdn.microsoft.com/en-us/library/system.web.security.sqlmembershipprovider.aspx) - implements the Membership API in a SQL Server database.</span></span>

<span data-ttu-id="c7e60-245">Этого учебника посвящены исключительно SqlMembershipProvider.</span><span class="sxs-lookup"><span data-stu-id="c7e60-245">This tutorial series focuses exclusively on the SqlMembershipProvider.</span></span>


<span data-ttu-id="c7e60-246">[![Поставщик модели позволяет различных реализаций быть легко подключено в Framework](security-basics-and-asp-net-support-vb/_static/image4.png)](security-basics-and-asp-net-support-vb/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="c7e60-246">[![The Provider Model Enables Different Implementations to be Seamlessly Plugged Into the Framework](security-basics-and-asp-net-support-vb/_static/image4.png)](security-basics-and-asp-net-support-vb/_static/image3.png)</span></span>

<span data-ttu-id="c7e60-247">**Рисунок 03**: поставщик модели позволяет различных реализаций быть легко подключено в Framework ([Просмотр полноразмерное изображение](security-basics-and-asp-net-support-vb/_static/image5.png))</span><span class="sxs-lookup"><span data-stu-id="c7e60-247">**Figure 03**: The Provider Model Enables Different Implementations to be Seamlessly Plugged Into the Framework ([Click to view full-size image](security-basics-and-asp-net-support-vb/_static/image5.png))</span></span>


<span data-ttu-id="c7e60-248">Преимуществом модель поставщика является можно, разработанных корпорацией Майкрософт, сторонние поставщики или отдельных разработчиков и легко подключать framework членства альтернативных реализаций.</span><span class="sxs-lookup"><span data-stu-id="c7e60-248">The benefit of the provider model is that alternative implementations can be developed by Microsoft, third-party vendors, or individual developers and seamlessly plugged into the Membership framework.</span></span> <span data-ttu-id="c7e60-249">Например, корпорация Майкрософт выпустила [поставщик членства для баз данных Microsoft Access](https://download.microsoft.com/download/5/5/b/55bc291f-4316-4fd7-9269-dbf9edbaada8/sampleaccessproviders.vsi).</span><span class="sxs-lookup"><span data-stu-id="c7e60-249">For example, Microsoft has released [a Membership provider for Microsoft Access databases](https://download.microsoft.com/download/5/5/b/55bc291f-4316-4fd7-9269-dbf9edbaada8/sampleaccessproviders.vsi).</span></span> <span data-ttu-id="c7e60-250">Дополнительные сведения о поставщиках членства, см. [Provider Toolkit](https://msdn.microsoft.com/en-us/asp.net/aa336558.aspx), которая содержит пошаговое руководство по поставщиков членства, образец настраиваемых поставщиков, более 100 страниц документации на модель поставщика и Полный исходный код встроенные поставщики членства (а именно: ActiveDirectoryMembershipProvider SqlMembershipProvider).</span><span class="sxs-lookup"><span data-stu-id="c7e60-250">For more information on the Membership providers, refer to the [Provider Toolkit](https://msdn.microsoft.com/en-us/asp.net/aa336558.aspx), which includes a walkthrough of the Membership providers, sample custom providers, over 100 pages of documentation on the provider model, and the complete source code for the built-in Membership providers (namely, ActiveDirectoryMembershipProvider and SqlMembershipProvider).</span></span>

<span data-ttu-id="c7e60-251">ASP.NET 2.0 также появились framework ролей.</span><span class="sxs-lookup"><span data-stu-id="c7e60-251">ASP.NET 2.0 also introduced the Roles framework.</span></span> <span data-ttu-id="c7e60-252">Например framework членство в роли framework строится поверх модель поставщика.</span><span class="sxs-lookup"><span data-stu-id="c7e60-252">Like the Membership framework, the Roles framework is built atop the provider model.</span></span> <span data-ttu-id="c7e60-253">Выполняется через API-интерфейса [класс ролей](https://msdn.microsoft.com/en-us/library/system.web.security.roles.aspx) и .NET Framework поставляется с тремя классами поставщика:</span><span class="sxs-lookup"><span data-stu-id="c7e60-253">Its API is exposed via the [Roles class](https://msdn.microsoft.com/en-us/library/system.web.security.roles.aspx) and the .NET Framework ships with three provider classes:</span></span>

- <span data-ttu-id="c7e60-254">[AuthorizationStoreRoleProvider](https://msdn.microsoft.com/en-us/library/system.web.security.authorizationstoreroleprovider.aspx) -управляет сведениями о роли в хранилище политик диспетчера авторизации, например Active Directory или ADAM.</span><span class="sxs-lookup"><span data-stu-id="c7e60-254">[AuthorizationStoreRoleProvider](https://msdn.microsoft.com/en-us/library/system.web.security.authorizationstoreroleprovider.aspx) - manages role information in an authorization-manager policy store, such as Active Directory or ADAM.</span></span>
- <span data-ttu-id="c7e60-255">[SqlRoleProvider](https://msdn.microsoft.com/en-us/library/system.web.security.sqlroleprovider.aspx) -реализует роли в базе данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c7e60-255">[SqlRoleProvider](https://msdn.microsoft.com/en-us/library/system.web.security.sqlroleprovider.aspx) - implements roles in a SQL Server database.</span></span>
- <span data-ttu-id="c7e60-256">[WindowsTokenRoleProvider](https://msdn.microsoft.com/en-us/library/system.web.security.windowstokenroleprovider.aspx) -связывает сведения о роли, группе Windows посетителя.</span><span class="sxs-lookup"><span data-stu-id="c7e60-256">[WindowsTokenRoleProvider](https://msdn.microsoft.com/en-us/library/system.web.security.windowstokenroleprovider.aspx) - associates role information based on the visitor's Windows group.</span></span> <span data-ttu-id="c7e60-257">Этот метод обычно используется проверка подлинности Windows.</span><span class="sxs-lookup"><span data-stu-id="c7e60-257">This method is typically used with Windows authentication.</span></span>

<span data-ttu-id="c7e60-258">Этого учебника посвящены исключительно SqlRoleProvider.</span><span class="sxs-lookup"><span data-stu-id="c7e60-258">This tutorial series focuses exclusively on the SqlRoleProvider.</span></span>

<span data-ttu-id="c7e60-259">Поскольку модель поставщика включает единый интерфейс API с выходом вперед (классы членства и ролей), можно реализовать функции вокруг API, который не нужно беспокоиться о подробностях реализации — те, обрабатываются поставщиками, выбранные на странице разработчик.</span><span class="sxs-lookup"><span data-stu-id="c7e60-259">Since the provider model includes a single forward-facing API (the Membership and Roles classes), it is possible to build functionality around that API without having to worry about the implementation details - those are handled by the providers selected by the page developer.</span></span> <span data-ttu-id="c7e60-260">Этот универсальный интерфейс API позволяет корпорации Майкрософт и сторонних поставщиков для построения веб-элементов управления, взаимодействующие с платформами членства и ролей.</span><span class="sxs-lookup"><span data-stu-id="c7e60-260">This unified API allows for Microsoft and third-party vendors to build Web controls that interface with the Membership and Roles frameworks.</span></span> <span data-ttu-id="c7e60-261">ASP.NET поставляется вместе с количеством [входа веб-элементы управления](https://msdn.microsoft.com/en-us/library/ms178329.aspx) для реализации общих интерфейсов пользователя учетной записи пользователя.</span><span class="sxs-lookup"><span data-stu-id="c7e60-261">ASP.NET ships with a number of [Login Web controls](https://msdn.microsoft.com/en-us/library/ms178329.aspx) for implementing common user account user interfaces.</span></span> <span data-ttu-id="c7e60-262">Например [входа в систему управления](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.login.aspx) предлагает пользователю ввести свои учетные данные, проверяет их, а затем регистрирует их в посредством проверки подлинности форм.</span><span class="sxs-lookup"><span data-stu-id="c7e60-262">For example, the [Login control](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.login.aspx) prompts a user for their credentials, validates them, and then logs them in via forms authentication.</span></span> <span data-ttu-id="c7e60-263">[Управления LoginView](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.loginview.aspx) предлагает шаблоны для отображения различные разметки для анонимных пользователей и проверку подлинности пользователей или другой разметки на основе роли пользователя.</span><span class="sxs-lookup"><span data-stu-id="c7e60-263">The [LoginView control](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.loginview.aspx) offers templates for displaying different markup to anonymous users versus authenticated users, or different markup based on the user's role.</span></span> <span data-ttu-id="c7e60-264">И [управления CreateUserWizard](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.createuserwizard.aspx) предоставляет пошаговые пользовательский интерфейс для создания новой учетной записи пользователя.</span><span class="sxs-lookup"><span data-stu-id="c7e60-264">And the [CreateUserWizard control](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.createuserwizard.aspx) provides a step-by-step user interface for creating a new user account.</span></span>

<span data-ttu-id="c7e60-265">В системе различные элементы управления входом взаимодействовать с платформами членства и ролей.</span><span class="sxs-lookup"><span data-stu-id="c7e60-265">Underneath the covers the various Login controls interact with the Membership and Roles frameworks.</span></span> <span data-ttu-id="c7e60-266">Большинство элементов управления входа может осуществляться без необходимости написания единой строки кода.</span><span class="sxs-lookup"><span data-stu-id="c7e60-266">Most Login controls can be implemented without having to write a single line of code.</span></span> <span data-ttu-id="c7e60-267">Рассмотрим эти элементы управления более подробно в будущих учебниках, включая способы расширения и настройки их функциональность.</span><span class="sxs-lookup"><span data-stu-id="c7e60-267">We will examine these controls in greater detail in future tutorials, including techniques for extending and customizing their functionality.</span></span>

## <a name="summary"></a><span data-ttu-id="c7e60-268">Сводка</span><span class="sxs-lookup"><span data-stu-id="c7e60-268">Summary</span></span>

<span data-ttu-id="c7e60-269">Все веб-приложений, поддерживающих учетные записи пользователей требуется аналогичные функциональные возможности, например: возможность пользователям вход и иметь их журнала состояния запоминаются посещений страницы; веб-страницы для новой посетителей создается учетная запись; и возможность разработчик страницы, чтобы указать, какой ресурс, данных и функциональные возможности будут доступны какие пользователям или ролям.</span><span class="sxs-lookup"><span data-stu-id="c7e60-269">All web applications that support user accounts require similar features, such as: the ability for users to log in and have their log in status remembered across page visits; a web page for new visitors to create an account; and the ability to the page developer to specify what resource, data, and functionality are available to what users or roles.</span></span> <span data-ttu-id="c7e60-270">Задачи проверки подлинности и авторизации пользователей и управления учетными записями пользователей и ролями значительно упрощается для выполнения в приложениях ASP.NET благодаря форм проверки подлинности и авторизация URL-адреса, а также инфраструктур членства и ролей.</span><span class="sxs-lookup"><span data-stu-id="c7e60-270">The tasks of authenticating and authorizing users and of managing user accounts and roles is remarkably easy to accomplish in ASP.NET applications thanks to forms authentication, URL authorization, and the Membership and Roles frameworks.</span></span>

<span data-ttu-id="c7e60-271">В ходе следующего несколько учебников будут рассмотрены следующие аспекты путем построения поэтапное рабочий веб-приложение с нуля.</span><span class="sxs-lookup"><span data-stu-id="c7e60-271">Over the course of the next several tutorials we will examine these aspects by building a working web application from the ground up in a step-by-step fashion.</span></span> <span data-ttu-id="c7e60-272">В следующих двух учебнике мы рассмотрим форм проверки подлинности, подробно.</span><span class="sxs-lookup"><span data-stu-id="c7e60-272">In the next two tutorial we will explore forms authentication in detail.</span></span> <span data-ttu-id="c7e60-273">Мы увидим рабочего процесса проверки подлинности форм в действии, проанализируем билета проверки подлинности с помощью форм, рассматриваются вопросы безопасности и узнать, как настроить систему проверки подлинности форм — все при построении веб-приложение, которое позволяет посетителям войти и выйти из системы.</span><span class="sxs-lookup"><span data-stu-id="c7e60-273">We will see the forms authentication workflow in action, dissect the forms authentication ticket, discuss security concerns, and see how to configure the forms authentication system - all while building a web application that allows visitors to log in and log out.</span></span>

<span data-ttu-id="c7e60-274">Программирование довольны!</span><span class="sxs-lookup"><span data-stu-id="c7e60-274">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="c7e60-275">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="c7e60-275">Further Reading</span></span>

<span data-ttu-id="c7e60-276">Дополнительные сведения по темам, рассматриваемые в этом учебнике см. в следующих ресурсах:</span><span class="sxs-lookup"><span data-stu-id="c7e60-276">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="c7e60-277">ASP.NET 2.0 членства, ролей, проверки подлинности форм и ресурсы по безопасности</span><span class="sxs-lookup"><span data-stu-id="c7e60-277">ASP.NET 2.0 Membership, Roles, Forms Authentication, and Security Resources</span></span>](https://weblogs.asp.net/scottgu/ASP.NET-2.0-Membership_2C00_-Roles_2C00_-Forms-Authentication_2C00_-and-Security-Resources-)
- [<span data-ttu-id="c7e60-278">Рекомендации по ASP.NET 2.0 безопасности</span><span class="sxs-lookup"><span data-stu-id="c7e60-278">ASP.NET 2.0 Security Guidelines</span></span>](https://msdn.microsoft.com/en-us/library/ms998258.aspx)
- [<span data-ttu-id="c7e60-279">Проверка подлинности ASP.NET</span><span class="sxs-lookup"><span data-stu-id="c7e60-279">ASP.NET Authentication</span></span>](https://msdn.microsoft.com/en-us/library/eeyk640h.aspx)
- [<span data-ttu-id="c7e60-280">Проверки подлинности ASP.NET</span><span class="sxs-lookup"><span data-stu-id="c7e60-280">ASP.NET Authorization</span></span>](https://msdn.microsoft.com/en-us/library/wce3kxhd.aspx)
- [<span data-ttu-id="c7e60-281">Общие сведения об элементах управления входом ASP.NET</span><span class="sxs-lookup"><span data-stu-id="c7e60-281">ASP.NET Login Controls Overview</span></span>](https://msdn.microsoft.com/en-us/library/ms178329.aspx)
- [<span data-ttu-id="c7e60-282">Изучение ASP.NET 2.0 членства, ролей и профиля</span><span class="sxs-lookup"><span data-stu-id="c7e60-282">Examining ASP.NET 2.0's Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="c7e60-283">Как I: защитить узел с помощью членства и ролей?</span><span class="sxs-lookup"><span data-stu-id="c7e60-283">How Do I: Secure My Site Using Membership and Roles?</span></span>](https://asp.net/learn/videos/video-45.aspx) <span data-ttu-id="c7e60-284">(Видео)</span><span class="sxs-lookup"><span data-stu-id="c7e60-284">(Video)</span></span>
- [<span data-ttu-id="c7e60-285">Общие сведения о членстве</span><span class="sxs-lookup"><span data-stu-id="c7e60-285">Introduction to Membership</span></span>](https://msdn.microsoft.com/en-us/library/yh26yfzy.aspx)
- [<span data-ttu-id="c7e60-286">Центре разработчиков безопасности MSDN</span><span class="sxs-lookup"><span data-stu-id="c7e60-286">MSDN Security Developer Center</span></span>](https://msdn.microsoft.com/en-us/security/default.aspx)
- <span data-ttu-id="c7e60-287">[Профессиональные ASP.NET 2.0 безопасности, членства и управления ролями](http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596985.html) (ISBN: 978-0-7645-9698-8)</span><span class="sxs-lookup"><span data-stu-id="c7e60-287">[Professional ASP.NET 2.0 Security, Membership, and Role Management](http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596985.html) (ISBN: 978-0-7645-9698-8)</span></span>
- [<span data-ttu-id="c7e60-288">Набор средств поставщика</span><span class="sxs-lookup"><span data-stu-id="c7e60-288">Provider Toolkit</span></span>](https://msdn.microsoft.com/en-us/asp.net/aa336558.aspx)

## <a name="about-the-author"></a><span data-ttu-id="c7e60-289">Об авторе</span><span class="sxs-lookup"><span data-stu-id="c7e60-289">About the Author</span></span>

<span data-ttu-id="c7e60-290">[Скотт Митчелл](http://www.4guysfromrolla.com/ScottMitchell.shtml), автор семи ASP/ASP.NET и основателя из [4GuysFromRolla.com](http://www.4guysfromrolla.com), работает с веб-технологиями Майкрософт с 1998 года.</span><span class="sxs-lookup"><span data-stu-id="c7e60-290">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="c7e60-291">Скотт — независимый консультант, trainer и записи.</span><span class="sxs-lookup"><span data-stu-id="c7e60-291">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="c7e60-292">Его последняя книга — [ *диспетчерами учат самостоятельно ASP.NET 2.0 в течение 24 часов*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="c7e60-292">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="c7e60-293">Он может быть достигнута по [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) или через его блог, который можно найти в [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="c7e60-293">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="c7e60-294">Благодарности</span><span class="sxs-lookup"><span data-stu-id="c7e60-294">Special Thanks To</span></span>

<span data-ttu-id="c7e60-295">Этот учебник ряд прошел проверку многие полезные рецензентов.</span><span class="sxs-lookup"><span data-stu-id="c7e60-295">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="c7e60-296">Основной рецензент этого учебника было ряда прошел проверку многие полезные рецензентов этого учебника.</span><span class="sxs-lookup"><span data-stu-id="c7e60-296">Lead reviewer for this tutorial was This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="c7e60-297">Основными редакторами этого учебника включают Alicja Maziarz, Джон Suru и Мерфи Тереза д.</span><span class="sxs-lookup"><span data-stu-id="c7e60-297">Lead reviewers for this tutorial include Alicja Maziarz, John Suru, and Teresa Murphy.</span></span> <span data-ttu-id="c7e60-298">Объясняются моих последующих статей для MSDN?</span><span class="sxs-lookup"><span data-stu-id="c7e60-298">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="c7e60-299">Если Да, напишите мне по [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="c7e60-299">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="c7e60-300">[Назад](forms-authentication-configuration-and-advanced-topics-cs.md)
[Вперед](an-overview-of-forms-authentication-vb.md)</span><span class="sxs-lookup"><span data-stu-id="c7e60-300">[Previous](forms-authentication-configuration-and-advanced-topics-cs.md)
[Next](an-overview-of-forms-authentication-vb.md)</span></span>
