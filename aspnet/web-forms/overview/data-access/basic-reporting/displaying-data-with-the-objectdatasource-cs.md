---
uid: web-forms/overview/data-access/basic-reporting/displaying-data-with-the-objectdatasource-cs
title: Отображение данных с ObjectDataSource (C#) | Документы Microsoft
author: rick-anderson
description: В этом учебнике рассматривается в элемент управления ObjectDataSource, с помощью этого элемента управления можно привязать данные из МЕТОДА, созданные в предыдущем учебнике без havi...
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/31/2010
ms.topic: article
ms.assetid: af882aef-56f5-4e9a-8f95-3977fde20e74
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/basic-reporting/displaying-data-with-the-objectdatasource-cs
msc.type: authoredcontent
ms.openlocfilehash: 6fbad218f3e02bde13b8788bf6f1eefac0c4990c
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2018
---
<a name="displaying-data-with-the-objectdatasource-c"></a><span data-ttu-id="64350-103">Отображение данных с ObjectDataSource (C#)</span><span class="sxs-lookup"><span data-stu-id="64350-103">Displaying Data With the ObjectDataSource (C#)</span></span>
====================
<span data-ttu-id="64350-104">по [Скотт Митчелл](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="64350-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="64350-105">[Загрузить пример приложения](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_4_CS.exe) или [скачать PDF](displaying-data-with-the-objectdatasource-cs/_static/datatutorial04cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="64350-105">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_4_CS.exe) or [Download PDF](displaying-data-with-the-objectdatasource-cs/_static/datatutorial04cs1.pdf)</span></span>

> <span data-ttu-id="64350-106">В этом учебнике рассматривается на элемент управления ObjectDataSource, с помощью этого элемента управления можно привязать данные из МЕТОДА, созданные в предыдущем учебнике без необходимости написания строка кода!</span><span class="sxs-lookup"><span data-stu-id="64350-106">This tutorial looks at the ObjectDataSource control Using this control you can bind data retrieved from the BLL created in the previous tutorial without having to write a line of code!</span></span>


## <a name="introduction"></a><span data-ttu-id="64350-107">Вступление</span><span class="sxs-lookup"><span data-stu-id="64350-107">Introduction</span></span>

<span data-ttu-id="64350-108">С нашей приложения веб-сайта и архитектура макет страниц мы все готово для начала изучения того, как выполнять набор общих данных и отчетов-задач, связанных с.</span><span class="sxs-lookup"><span data-stu-id="64350-108">With our application architecture and website page layout complete, we're ready to start exploring how to accomplish a variety of common data- and reporting-related tasks.</span></span> <span data-ttu-id="64350-109">На предыдущих уроках мы рассмотрели программные методы привязки данных DAL и уровень бизнес-ЛОГИКИ на веб-страницу ASP.NET элемента управления данными.</span><span class="sxs-lookup"><span data-stu-id="64350-109">In the previous tutorials we've seen how to programmatically bind data from the DAL and BLL to a data Web control in an ASP.NET page.</span></span> <span data-ttu-id="64350-110">Этот синтаксис назначение данных веб-элемент управления `DataSource` свойства к данным для отображения и последующего вызова элемента управления `DataBind()` метод использовался в приложениях ASP.NET 1.x и можно продолжать использовать в приложениях 2.0.</span><span class="sxs-lookup"><span data-stu-id="64350-110">This syntax assigning the data Web control's `DataSource` property to the data to display and then calling the control's `DataBind()` method was the pattern used in ASP.NET 1.x applications, and can continue to be used in your 2.0 applications.</span></span> <span data-ttu-id="64350-111">Однако в ASP.NET 2.0 новых источников данных предоставляют декларативный способ работы с данными.</span><span class="sxs-lookup"><span data-stu-id="64350-111">However, ASP.NET 2.0's new data source controls offer a declarative way to work with data.</span></span> <span data-ttu-id="64350-112">Использовать эти элементы управления можно привязать данные из МЕТОДА, созданную в [с предыдущим учебником](../introduction/creating-a-business-logic-layer-cs.md) без необходимости написания строка кода!</span><span class="sxs-lookup"><span data-stu-id="64350-112">Using these controls you can bind data retrieved from the BLL created in the [previous tutorial](../introduction/creating-a-business-logic-layer-cs.md) without having to write a line of code!</span></span>

<span data-ttu-id="64350-113">ASP.NET 2.0 есть пять встроенных источников данных [SqlDataSource](https://msdn.microsoft.com/library/dz12d98w(vs.80).aspx), [AccessDataSource](https://msdn.microsoft.com/library/8e5545e1.aspx), [ObjectDataSource](https://msdn.microsoft.com/library/9a4kyhcx.aspx), [XmlDataSource](https://msdn.microsoft.com/library/e8d8587a(en-US,VS.80).aspx), и [SiteMapDataSource](https://msdn.microsoft.com/library/5ex9t96x(en-US,VS.80).aspx) несмотря на то, что можно создавать собственные [элементами управления источниками данных пользовательских](https://msdn.microsoft.com/library/default.asp?url=/library/dnvs05/html/DataSourceCon1.asp), при необходимости.</span><span class="sxs-lookup"><span data-stu-id="64350-113">ASP.NET 2.0 ships with five built-in data source controls [SqlDataSource](https://msdn.microsoft.com/library/dz12d98w(vs.80).aspx), [AccessDataSource](https://msdn.microsoft.com/library/8e5545e1.aspx), [ObjectDataSource](https://msdn.microsoft.com/library/9a4kyhcx.aspx), [XmlDataSource](https://msdn.microsoft.com/library/e8d8587a(en-US,VS.80).aspx), and [SiteMapDataSource](https://msdn.microsoft.com/library/5ex9t96x(en-US,VS.80).aspx) although you can build your own [custom data source controls](https://msdn.microsoft.com/library/default.asp?url=/library/dnvs05/html/DataSourceCon1.asp), if needed.</span></span> <span data-ttu-id="64350-114">Так как мы уже создали архитектуру нашего учебного приложения, мы будем работать с ObjectDataSource от наших классов уровень бизнес-ЛОГИКИ.</span><span class="sxs-lookup"><span data-stu-id="64350-114">Since we have developed an architecture for our tutorial application, we'll be using the ObjectDataSource against our BLL classes.</span></span>


![ASP.NET 2.0 включает пять встроенных источников данных](displaying-data-with-the-objectdatasource-cs/_static/image1.png)

<span data-ttu-id="64350-116">**Рис. 1**: ASP.NET 2.0 включает пять встроенных источников данных</span><span class="sxs-lookup"><span data-stu-id="64350-116">**Figure 1**: ASP.NET 2.0 Includes Five Built-In Data Source Controls</span></span>


<span data-ttu-id="64350-117">Элемент управления ObjectDataSource выступает в качестве прокси-сервер для работы с некоторыми объектами.</span><span class="sxs-lookup"><span data-stu-id="64350-117">The ObjectDataSource serves as a proxy for working with some other object.</span></span> <span data-ttu-id="64350-118">Чтобы настроить элемент управления ObjectDataSource мы укажите это базовый объект и его методы сопоставлении ObjectDataSource `Select`, `Insert`, `Update`, и `Delete` методы.</span><span class="sxs-lookup"><span data-stu-id="64350-118">To configure the ObjectDataSource we specify this underlying object and how its methods map to the ObjectDataSource's `Select`, `Insert`, `Update`, and `Delete` methods.</span></span> <span data-ttu-id="64350-119">После этого объекта указан, и его методы сопоставлен ObjectDataSource, мы затем привязать к данным веб-элемент управления ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="64350-119">Once this underlying object has been specified and its methods mapped to the ObjectDataSource's, we can then bind the ObjectDataSource to a data Web control.</span></span> <span data-ttu-id="64350-120">ASP.NET поставляется с многие данных веб-элементов управления, включая GridView, DetailsView, RadioButtonList и DropDownList, среди прочего.</span><span class="sxs-lookup"><span data-stu-id="64350-120">ASP.NET ships with many data Web controls, including the GridView, DetailsView, RadioButtonList, and DropDownList, among others.</span></span> <span data-ttu-id="64350-121">Во время жизненного цикла страницы данных веб-элемент управления может потребоваться доступ к данным он привязан к, которой он предстоит выполнить путем вызова его ObjectDataSource `Select` метода; Если данных веб-элемент управления поддерживает вставку, обновления или удаления, может вызывать его ObjectDataSource `Insert`, `Update`, или `Delete` методы.</span><span class="sxs-lookup"><span data-stu-id="64350-121">During the page lifecycle, the data Web control may need to access the data it's bound to, which it will accomplish by invoking its ObjectDataSource's `Select` method; if the data Web control supports inserting, updating, or deleting, calls may be made to its ObjectDataSource's `Insert`, `Update`, or `Delete` methods.</span></span> <span data-ttu-id="64350-122">Как показано на следующей диаграмме, эти вызовы ObjectDataSource методам соответствующего базового объекта затем направляются.</span><span class="sxs-lookup"><span data-stu-id="64350-122">These calls are then routed by the ObjectDataSource to the appropriate underlying object's methods as the following diagram illustrates.</span></span>


<span data-ttu-id="64350-123">[![Элемент управления ObjectDataSource выступает в качестве учетной записи-посредника](displaying-data-with-the-objectdatasource-cs/_static/image3.png)](displaying-data-with-the-objectdatasource-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="64350-123">[![The ObjectDataSource Serves as a Proxy](displaying-data-with-the-objectdatasource-cs/_static/image3.png)](displaying-data-with-the-objectdatasource-cs/_static/image2.png)</span></span>

<span data-ttu-id="64350-124">**На рисунке 2**: ObjectDataSource выступает в качестве прокси-сервера ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="64350-124">**Figure 2**: The ObjectDataSource Serves as a Proxy ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image4.png))</span></span>


<span data-ttu-id="64350-125">Хотя элемент управления ObjectDataSource можно использовать для вызова методов для вставки, обновления или удаления данных, мы рассмотрим только возврат данных. с помощью ObjectDataSource и веб-элементы управления, которые изменяют данные будут посвящены следующие учебники.</span><span class="sxs-lookup"><span data-stu-id="64350-125">While the ObjectDataSource can be used to invoke methods for inserting, updating, or deleting data, let's just focus on returning data; future tutorials will explore using the ObjectDataSource and data Web controls that modify data.</span></span>

## <a name="step-1-adding-and-configuring-the-objectdatasource-control"></a><span data-ttu-id="64350-126">Шаг 1: Добавление и настройка элемента управления ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="64350-126">Step 1: Adding and Configuring the ObjectDataSource Control</span></span>

<span data-ttu-id="64350-127">Сначала откройте `SimpleDisplay.aspx` страницы в `BasicReporting` папки, перейдите в представление конструктора и перетащите элемент управления ObjectDataSource из панели элементов в область конструктора страницы.</span><span class="sxs-lookup"><span data-stu-id="64350-127">Start by opening the `SimpleDisplay.aspx` page in the `BasicReporting` folder, switch to Design view, and then drag an ObjectDataSource control from the Toolbox onto the page's design surface.</span></span> <span data-ttu-id="64350-128">ObjectDataSource отображается как серый прямоугольник в рабочей области конструирования, так как он не создает разметку; он просто получает доступ к данным путем вызова метода из указанного объекта.</span><span class="sxs-lookup"><span data-stu-id="64350-128">The ObjectDataSource appears as a gray box on the design surface because it does not produce any markup; it simply accesses data by invoking a method from a specified object.</span></span> <span data-ttu-id="64350-129">Данные, возвращенные ObjectDataSource могут отображаться в данных веб-элемента управления GridView, DetailsView, FormView и т. д.</span><span class="sxs-lookup"><span data-stu-id="64350-129">The data returned by an ObjectDataSource can be displayed by a data Web control, such as the GridView, DetailsView, FormView, and so on.</span></span>

> [!NOTE]
> <span data-ttu-id="64350-130">Кроме того, можно сначала добавить данные веб-элемент управления на страницу и выберите его в смарт-теге &lt;новый источник данных&gt; параметр из раскрывающегося списка.</span><span class="sxs-lookup"><span data-stu-id="64350-130">Alternatively, you may first add the data Web control to the page and then, from its smart tag, choose the &lt;New data source&gt; option from the drop-down list.</span></span>


<span data-ttu-id="64350-131">Чтобы указать базовый объект и способ сопоставления методы этого объекта в элемент управления ObjectDataSource ObjectDataSource, щелкните ссылку настройки источника данных из элемента управления ObjectDataSource смарт-тега.</span><span class="sxs-lookup"><span data-stu-id="64350-131">To specify the ObjectDataSource's underlying object and how that object's methods map to the ObjectDataSource's, click on the Configure Data Source link from the ObjectDataSource's smart tag.</span></span>


<span data-ttu-id="64350-132">[![Нажмите кнопку настроить связь с источником данных из смарт-тег](displaying-data-with-the-objectdatasource-cs/_static/image6.png)](displaying-data-with-the-objectdatasource-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="64350-132">[![Click the Configure Data Source Link from the Smart Tag](displaying-data-with-the-objectdatasource-cs/_static/image6.png)](displaying-data-with-the-objectdatasource-cs/_static/image5.png)</span></span>

<span data-ttu-id="64350-133">**Рис. 3**: нажмите кнопку настроить связь с источником данных из смарт-тега ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="64350-133">**Figure 3**: Click the Configure Data Source Link from the Smart Tag ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image7.png))</span></span>


<span data-ttu-id="64350-134">Появится мастер настройки источника данных.</span><span class="sxs-lookup"><span data-stu-id="64350-134">This brings up the Configure Data Source wizard.</span></span> <span data-ttu-id="64350-135">Во-первых мы необходимо указать объект, который является работа с ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="64350-135">First, we must specify the object the ObjectDataSource is to work with.</span></span> <span data-ttu-id="64350-136">Если установлен флажок «Показывать только компоненты данных», в раскрывающемся списке на этом экране перечислены только объекты, имеющие атрибут `DataObject` атрибута.</span><span class="sxs-lookup"><span data-stu-id="64350-136">If the "Show only data components" checkbox is checked, the drop-down list on this screen lists only those objects that have been decorated with the `DataObject` attribute.</span></span> <span data-ttu-id="64350-137">В настоящее время наш список включает адаптеров таблиц в типизированный набор данных и классы уровень бизнес-ЛОГИКИ, созданный в предыдущем учебнике.</span><span class="sxs-lookup"><span data-stu-id="64350-137">Currently our list includes the TableAdapters in the Typed DataSet and the BLL classes we created in the previous tutorial.</span></span> <span data-ttu-id="64350-138">Если вы не добавляли `DataObject` атрибут классам уровня бизнес-логики не увидят их в этот список.</span><span class="sxs-lookup"><span data-stu-id="64350-138">If you forgot to add the `DataObject` attribute to the Business Logic Layer classes you won't see them in this list.</span></span> <span data-ttu-id="64350-139">В этом случае, снимите флажок «Показывать только компоненты данных» для просмотра всех объектов, которые следует включить классы уровень бизнес-ЛОГИКИ (вместе с другими классами типизированных наборов данных DataTables, объектов DataRow и так далее).</span><span class="sxs-lookup"><span data-stu-id="64350-139">In that case, uncheck the "Show only data components" checkbox to view all objects, which should include the BLL classes (along with the other classes in the Typed DataSet the DataTables, DataRows, and so on).</span></span>

<span data-ttu-id="64350-140">В первом экране мастера выберите `ProductsBLL` класса из раскрывающегося списка и нажмите кнопку Далее.</span><span class="sxs-lookup"><span data-stu-id="64350-140">From this first screen choose the `ProductsBLL` class from the drop-down list and click Next.</span></span>


<span data-ttu-id="64350-141">[![Укажите объект для использования с элементом управления ObjectDataSource](displaying-data-with-the-objectdatasource-cs/_static/image9.png)](displaying-data-with-the-objectdatasource-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="64350-141">[![Specify the Object to Use with the ObjectDataSource Control](displaying-data-with-the-objectdatasource-cs/_static/image9.png)](displaying-data-with-the-objectdatasource-cs/_static/image8.png)</span></span>

<span data-ttu-id="64350-142">**Рис. 4**: Укажите объект для использования с элементом управления ObjectDataSource ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="64350-142">**Figure 4**: Specify the Object to Use with the ObjectDataSource Control ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image10.png))</span></span>


<span data-ttu-id="64350-143">На следующем экране мастера предлагается выбрать, какой метод следует вызвать элемент управления ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="64350-143">The next screen in the wizard prompts you to select what method the ObjectDataSource should invoke.</span></span> <span data-ttu-id="64350-144">В раскрывающемся списке перечислены эти методы, которые возвращают данные объекта, выбранного на предыдущем экране.</span><span class="sxs-lookup"><span data-stu-id="64350-144">The drop-down lists those methods that return data in the object selected from the previous screen.</span></span> <span data-ttu-id="64350-145">Здесь мы видим `GetProductByProductID`, `GetProducts`, `GetProductsByCategoryID`, и `GetProductsBySupplierID`.</span><span class="sxs-lookup"><span data-stu-id="64350-145">Here we see `GetProductByProductID`, `GetProducts`, `GetProductsByCategoryID`, and `GetProductsBySupplierID`.</span></span> <span data-ttu-id="64350-146">Выберите `GetProducts` метода из раскрывающегося списка и нажмите кнопку Готово (Если вы добавили `DataObjectMethodAttribute` для `ProductBLL`методы, как показано в предыдущем учебнике, этот параметр будет выбран по умолчанию).</span><span class="sxs-lookup"><span data-stu-id="64350-146">Select the `GetProducts` method from the drop-down list and click Finish (if you added the `DataObjectMethodAttribute` to the `ProductBLL`'s methods as shown in the previous tutorial, this option will be selected by default).</span></span>


<span data-ttu-id="64350-147">[![Выберите метод для возвращения данных на вкладке SELECT](displaying-data-with-the-objectdatasource-cs/_static/image12.png)](displaying-data-with-the-objectdatasource-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="64350-147">[![Choose the Method for Returning Data from the SELECT Tab](displaying-data-with-the-objectdatasource-cs/_static/image12.png)](displaying-data-with-the-objectdatasource-cs/_static/image11.png)</span></span>

<span data-ttu-id="64350-148">**Рис. 5**: выберите метод для возвращения данных на вкладке ВЫБЕРИТЕ ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image13.png))</span><span class="sxs-lookup"><span data-stu-id="64350-148">**Figure 5**: Choose the Method for Returning Data from the SELECT Tab ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image13.png))</span></span>


## <a name="configure-the-objectdatasource-manually"></a><span data-ttu-id="64350-149">Вручную настроить элемент управления ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="64350-149">Configure the ObjectDataSource Manually</span></span>

<span data-ttu-id="64350-150">Мастер настройки источника данных ObjectDataSource предоставляет быстрый способ для указания объекта, к которому он использует и связать вызываются какие методы объекта.</span><span class="sxs-lookup"><span data-stu-id="64350-150">The ObjectDataSource's Configure Data Source wizard offers a quick way to specify the object it uses and to associate what methods of the object are invoked.</span></span> <span data-ttu-id="64350-151">Можно однако настроить ObjectDataSource через его свойства в окне «Свойства» или непосредственно в декларативной разметкой.</span><span class="sxs-lookup"><span data-stu-id="64350-151">You can, however, configure the ObjectDataSource through its properties, either through the Properties window or directly in the declarative markup.</span></span> <span data-ttu-id="64350-152">Просто установите `TypeName` свойство в тип базового объекта для использования и `SelectMethod` на метод, который вызывается при получении данных.</span><span class="sxs-lookup"><span data-stu-id="64350-152">Simply set the `TypeName` property to the type of the underlying object to be used, and the `SelectMethod` to the method to invoke when retrieving data.</span></span>


[!code-aspx[Main](displaying-data-with-the-objectdatasource-cs/samples/sample1.aspx)]

<span data-ttu-id="64350-153">Даже если вы предпочитаете мастер настройки источника данных, которые могут возникнуть ситуации, когда необходимо вручную настроить элемент управления ObjectDataSource, как мастер выводит только классы, созданные разработчиком.</span><span class="sxs-lookup"><span data-stu-id="64350-153">Even if you prefer the Configure Data Source wizard there may be times when you need to manually configure the ObjectDataSource, as the wizard only lists developer-created classes.</span></span> <span data-ttu-id="64350-154">Если вы хотите привязать ObjectDataSource на класс в .NET Framework, такие как [класс членства](https://msdn.microsoft.com/library/system.web.security.membership.aspx), чтобы получить доступ к учетной записи пользователя или [класс Directory](https://msdn.microsoft.com/library/system.io.directory.aspx) для работы с сведения о файловой системе необходимо будет вручную настроить свойства элемента управления ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="64350-154">If you want to bind the ObjectDataSource to a class in the .NET Framework such as the [Membership class](https://msdn.microsoft.com/library/system.web.security.membership.aspx), to access user account information, or the [Directory class](https://msdn.microsoft.com/library/system.io.directory.aspx) to work with file system information you'll need to manually set the ObjectDataSource's properties.</span></span>

## <a name="step-2-adding-a-data-web-control-and-binding-it-to-the-objectdatasource"></a><span data-ttu-id="64350-155">Шаг 2: Добавление веб-элемент управления данными и привязке его ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="64350-155">Step 2: Adding a Data Web Control and Binding it to the ObjectDataSource</span></span>

<span data-ttu-id="64350-156">После добавлен на страницу и настройки ObjectDataSource все готово для добавления данных веб-элементов управления страницы, чтобы отобразить данные, возвращенные ObjectDataSource `Select` метод.</span><span class="sxs-lookup"><span data-stu-id="64350-156">Once the ObjectDataSource has been added to the page and configured, we're ready to add data Web controls to the page to display the data returned by the ObjectDataSource's `Select` method.</span></span> <span data-ttu-id="64350-157">Все данные веб-элемент управления можно привязать к элементу ObjectDataSource; Давайте взглянем на отображение данных ObjectDataSource в GridView, DetailsView и FormView.</span><span class="sxs-lookup"><span data-stu-id="64350-157">Any data Web control can be bound to an ObjectDataSource; let's look at displaying the ObjectDataSource's data in a GridView, DetailsView, and FormView.</span></span>

## <a name="binding-a-gridview-to-the-objectdatasource"></a><span data-ttu-id="64350-158">Привязка элемента управления GridView в элемент управления ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="64350-158">Binding a GridView to the ObjectDataSource</span></span>

<span data-ttu-id="64350-159">Добавление элемента управления GridView с панели элементов для `SimpleDisplay.aspx`в область конструктора.</span><span class="sxs-lookup"><span data-stu-id="64350-159">Add a GridView control from the Toolbox to `SimpleDisplay.aspx`'s design surface.</span></span> <span data-ttu-id="64350-160">В смарт-теге элемента GridView выберите элемент управления ObjectDataSource, который мы добавили в шаге 1.</span><span class="sxs-lookup"><span data-stu-id="64350-160">From the GridView's smart tag, choose the ObjectDataSource control we added in Step 1.</span></span> <span data-ttu-id="64350-161">Автоматически создается поле BoundField в GridView для каждого свойства, возвращенных данных из элемента управления ObjectDataSource `Select` метод (а именно, свойства, определенные DataTable продуктов).</span><span class="sxs-lookup"><span data-stu-id="64350-161">This will automatically create a BoundField in the GridView for each property returned by the data from the ObjectDataSource's `Select` method (namely, the properties defined by the Products DataTable).</span></span>


<span data-ttu-id="64350-162">[![Был добавлен на страницу элемент управления GridView и связывать элемент управления ObjectDataSource](displaying-data-with-the-objectdatasource-cs/_static/image15.png)](displaying-data-with-the-objectdatasource-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="64350-162">[![A GridView Has Been Added to the Page and Bound to the ObjectDataSource](displaying-data-with-the-objectdatasource-cs/_static/image15.png)](displaying-data-with-the-objectdatasource-cs/_static/image14.png)</span></span>

<span data-ttu-id="64350-163">**Рис. 6**: GridView будет добавлен на страницу и связанных ObjectDataSource ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="64350-163">**Figure 6**: A GridView Has Been Added to the Page and Bound to the ObjectDataSource ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image16.png))</span></span>


<span data-ttu-id="64350-164">Затем можно настроить, изменить или удалить стояли GridView, выбрав пункт Правка столбцов из смарт-тега.</span><span class="sxs-lookup"><span data-stu-id="64350-164">You can then customize, rearrange, or remove the GridView's BoundFields by clicking the Edit Columns option from the smart tag.</span></span>


<span data-ttu-id="64350-165">[![Управление стояли GridView через диалоговое окно Изменение столбцов](displaying-data-with-the-objectdatasource-cs/_static/image18.png)](displaying-data-with-the-objectdatasource-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="64350-165">[![Manage the GridView's BoundFields Through the Edit Columns Dialog Box](displaying-data-with-the-objectdatasource-cs/_static/image18.png)](displaying-data-with-the-objectdatasource-cs/_static/image17.png)</span></span>

<span data-ttu-id="64350-166">**Рис. 7**: диалоговое окно Управление GridView стояли через изменение столбцов ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image19.png))</span><span class="sxs-lookup"><span data-stu-id="64350-166">**Figure 7**: Manage the GridView's BoundFields Through the Edit Columns Dialog Box ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image19.png))</span></span>


<span data-ttu-id="64350-167">Теперь пора изменить стояли GridView, удаление `ProductID`, `SupplierID`, `CategoryID`, `QuantityPerUnit`, `UnitsInStock`, `UnitsOnOrder`, и `ReorderLevel` стояли.</span><span class="sxs-lookup"><span data-stu-id="64350-167">Take a moment to modify the GridView's BoundFields, removing the `ProductID`, `SupplierID`, `CategoryID`, `QuantityPerUnit`, `UnitsInStock`, `UnitsOnOrder`, and `ReorderLevel` BoundFields.</span></span> <span data-ttu-id="64350-168">Выберите из списка в левом нижнем BoundField и нажмите кнопку "Удалить" (красный крест) для их удаления.</span><span class="sxs-lookup"><span data-stu-id="64350-168">Simply select the BoundField from the list in the bottom left and click the delete button (the red X) to remove them.</span></span> <span data-ttu-id="64350-169">После этого изменения порядка стояли, чтобы `CategoryName` и `SupplierName` стояли перед `UnitPrice` BoundField, выбрав эти стояли и нажав кнопку со стрелкой вверх.</span><span class="sxs-lookup"><span data-stu-id="64350-169">Next, Rearrange the BoundFields so that the `CategoryName` and `SupplierName` BoundFields precede the `UnitPrice` BoundField by selecting these BoundFields and clicking the up arrow.</span></span> <span data-ttu-id="64350-170">Задать `HeaderText` свойства оставшиеся стояли для `Products`, `Category`, `Supplier`, и `Price`соответственно.</span><span class="sxs-lookup"><span data-stu-id="64350-170">Set the `HeaderText` properties of the remaining BoundFields to `Products`, `Category`, `Supplier`, and `Price`, respectively.</span></span> <span data-ttu-id="64350-171">Затем попросите `Price` денежный формат валюты, задав BoundField `HtmlEncode` свойству значение False и его `DataFormatString` свойства `{0:c}`.</span><span class="sxs-lookup"><span data-stu-id="64350-171">Next, have the `Price` BoundField formatted as a currency by setting the BoundField's `HtmlEncode` property to False and its `DataFormatString` property to `{0:c}`.</span></span> <span data-ttu-id="64350-172">И наконец, выровняем `Price` справа и `Discontinued` — по центру через `ItemStyle` / `HorizontalAlign` свойство.</span><span class="sxs-lookup"><span data-stu-id="64350-172">Finally, horizontally align the `Price` to the right and the `Discontinued` checkbox in the center via the `ItemStyle`/`HorizontalAlign` property.</span></span>


[!code-aspx[Main](displaying-data-with-the-objectdatasource-cs/samples/sample2.aspx)]


<span data-ttu-id="64350-173">[![Настраивались стояли GridView](displaying-data-with-the-objectdatasource-cs/_static/image21.png)](displaying-data-with-the-objectdatasource-cs/_static/image20.png)</span><span class="sxs-lookup"><span data-stu-id="64350-173">[![The GridView's BoundFields Have Been Customized](displaying-data-with-the-objectdatasource-cs/_static/image21.png)](displaying-data-with-the-objectdatasource-cs/_static/image20.png)</span></span>

<span data-ttu-id="64350-174">**Рис. 8**: GridView настраивались стояли ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="64350-174">**Figure 8**: The GridView's BoundFields Have Been Customized ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image22.png))</span></span>


## <a name="using-themes-for-a-consistent-look"></a><span data-ttu-id="64350-175">Использование тем для согласованного внешнего вида</span><span class="sxs-lookup"><span data-stu-id="64350-175">Using Themes for a Consistent Look</span></span>

<span data-ttu-id="64350-176">Эти учебники стремятся удалит все параметры на уровне управления, вместо использование каскадных таблиц стилей, определенных во внешнем файле, когда это возможно.</span><span class="sxs-lookup"><span data-stu-id="64350-176">These tutorials strive to remove any control-level style settings, instead using cascading style sheets defined in an external file whenever possible.</span></span> <span data-ttu-id="64350-177">`Styles.css` Файл содержит `DataWebControlStyle`, `HeaderStyle`, `RowStyle`, и `AlternatingRowStyle` классы CSS, которые должны использоваться для определяют внешний вид данных, веб-элементы управления, используемые в этих учебниках.</span><span class="sxs-lookup"><span data-stu-id="64350-177">The `Styles.css` file contains `DataWebControlStyle`, `HeaderStyle`, `RowStyle`, and `AlternatingRowStyle` CSS classes that should be used to dictate the appearance of the data Web controls used in these tutorials.</span></span> <span data-ttu-id="64350-178">Для этого нужно присвоить свойству `CssClass` свойства `DataWebControlStyle`и его `HeaderStyle`, `RowStyle`, и `AlternatingRowStyle` свойств `CssClass` свойства соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="64350-178">To accomplish this, we could set the GridView's `CssClass` property to `DataWebControlStyle`, and its `HeaderStyle`, `RowStyle`, and `AlternatingRowStyle` properties' `CssClass` properties accordingly.</span></span>

<span data-ttu-id="64350-179">Если настроить перечисленные `CssClass` свойства на веб-элемент управления, необходимо явно установить значения этих свойств для всех данных, веб-элемент управления, добавленный к нашим руководствам.</span><span class="sxs-lookup"><span data-stu-id="64350-179">If we set these `CssClass` properties at the Web control we'd need to remember to explicitly set these property values for each and every data Web control added to our tutorials.</span></span> <span data-ttu-id="64350-180">Более удобный подход состоит в определении свойства CSS по умолчанию для GridView, DetailsView и FormView контролирует использование тем.</span><span class="sxs-lookup"><span data-stu-id="64350-180">A more manageable approach is to define the default CSS-related properties for the GridView, DetailsView, and FormView controls using a Theme.</span></span> <span data-ttu-id="64350-181">Тема — это совокупность свойств уровня для элемента управления, изображения и классов CSS, которые могут быть применены к страницам на сайте для принудительного применения общий внешний вид и поведение.</span><span class="sxs-lookup"><span data-stu-id="64350-181">A Theme is a collection of control-level property settings, images, and CSS classes that can be applied to pages across a site to enforce a common look and feel.</span></span>

<span data-ttu-id="64350-182">Нашей теме не будет ни изображений, ни файлов CSS (Мы оставим таблицу стилей `Styles.css` как-определяется в корневой папке веб-приложения), но будет содержать две обложки.</span><span class="sxs-lookup"><span data-stu-id="64350-182">Our Theme won't include any images or CSS files (we'll leave the stylesheet `Styles.css` as-is, defined in the root folder of the web application), but will include two Skins.</span></span> <span data-ttu-id="64350-183">Обложка — файл, определяющий свойства по умолчанию для веб-элемента управления.</span><span class="sxs-lookup"><span data-stu-id="64350-183">A Skin is a file that defines the default properties for a Web control.</span></span> <span data-ttu-id="64350-184">В частности, у нас будет файл обложки для элементов управления GridView и DetailsView, указывающее значение по умолчанию `CssClass`-связанных свойств.</span><span class="sxs-lookup"><span data-stu-id="64350-184">Specifically, we'll have a Skin file for the GridView and DetailsView controls, indicating the default `CssClass`-related properties.</span></span>

<span data-ttu-id="64350-185">Начните с добавления в проект с именем файла обложки `GridView.skin` , щелкнув правой кнопкой мыши имя проекта в обозревателе решений и выбрав команду Добавить новый элемент.</span><span class="sxs-lookup"><span data-stu-id="64350-185">Start by adding a new Skin File to your project named `GridView.skin` by right-clicking on the project name in the Solution Explorer and choosing Add New Item.</span></span>


<span data-ttu-id="64350-186">[![Добавление файла обложки GridView.skin](displaying-data-with-the-objectdatasource-cs/_static/image24.png)](displaying-data-with-the-objectdatasource-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="64350-186">[![Add a Skin File Named GridView.skin](displaying-data-with-the-objectdatasource-cs/_static/image24.png)](displaying-data-with-the-objectdatasource-cs/_static/image23.png)</span></span>

<span data-ttu-id="64350-187">**Рис. 9**: добавить файл обложки с именем `GridView.skin` ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image25.png))</span><span class="sxs-lookup"><span data-stu-id="64350-187">**Figure 9**: Add a Skin File Named `GridView.skin` ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image25.png))</span></span>


<span data-ttu-id="64350-188">Файлы обложки должны быть помещены в тему, которая хранится в `App_Themes` папки.</span><span class="sxs-lookup"><span data-stu-id="64350-188">Skin files need to be placed in a Theme, which are located in the `App_Themes` folder.</span></span> <span data-ttu-id="64350-189">Так как мы еще нет такая папка, Visual Studio окна предложит создать его нам при добавлении первого файла обложки.</span><span class="sxs-lookup"><span data-stu-id="64350-189">Since we don't yet have such a folder, Visual Studio will kindly offer to create one for us when adding our first Skin.</span></span> <span data-ttu-id="64350-190">Нажмите "Да", чтобы создать `App_Theme` папку и сохранить новый `GridView.skin` файл существует.</span><span class="sxs-lookup"><span data-stu-id="64350-190">Click Yes to create the `App_Theme` folder and place the new `GridView.skin` file there.</span></span>


<span data-ttu-id="64350-191">[![Позволить Visual Studio, создайте папку App_Theme](displaying-data-with-the-objectdatasource-cs/_static/image27.png)](displaying-data-with-the-objectdatasource-cs/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="64350-191">[![Let Visual Studio Create the App_Theme Folder](displaying-data-with-the-objectdatasource-cs/_static/image27.png)](displaying-data-with-the-objectdatasource-cs/_static/image26.png)</span></span>

<span data-ttu-id="64350-192">**Рис. 10**: позволить Visual Studio создать `App_Theme` папку ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="64350-192">**Figure 10**: Let Visual Studio Create the `App_Theme` Folder ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image28.png))</span></span>


<span data-ttu-id="64350-193">Это создаст новую тему в `App_Themes` папку с именем GridView с файл обложки `GridView.skin`.</span><span class="sxs-lookup"><span data-stu-id="64350-193">This will create a new Theme in the `App_Themes` folder named GridView with the Skin file `GridView.skin`.</span></span>


![Темы GridView имеет был добавлен в папку App_Theme](displaying-data-with-the-objectdatasource-cs/_static/image29.png)

<span data-ttu-id="64350-195">**Рис. 11**: темы GridView был добавлен в `App_Theme` папки</span><span class="sxs-lookup"><span data-stu-id="64350-195">**Figure 11**: The GridView Theme has Been Added to the `App_Theme` Folder</span></span>


<span data-ttu-id="64350-196">Переименуйте темы GridView в DataWebControls (щелкните правой кнопкой мыши в папке GridView `App_Theme` папку и выберите Переименовать).</span><span class="sxs-lookup"><span data-stu-id="64350-196">Rename the GridView Theme to DataWebControls (right-click on the GridView folder in the `App_Theme` folder and choose Rename).</span></span> <span data-ttu-id="64350-197">Затем введите следующую разметку в `GridView.skin` файла:</span><span class="sxs-lookup"><span data-stu-id="64350-197">Next, enter the following markup into the `GridView.skin` file:</span></span>


[!code-aspx[Main](displaying-data-with-the-objectdatasource-cs/samples/sample3.aspx)]

<span data-ttu-id="64350-198">Определяет свойства по умолчанию для `CssClass`-связанных свойств для всех элементов GridView все страницы, использующие DataWebControls темы.</span><span class="sxs-lookup"><span data-stu-id="64350-198">This defines the default properties for the `CssClass`-related properties for any GridView in any page that uses the DataWebControls Theme.</span></span> <span data-ttu-id="64350-199">Теперь добавим обложку для DetailsView данных веб-элемент управления, мы будем использовать ближайшее время.</span><span class="sxs-lookup"><span data-stu-id="64350-199">Let's add another Skin for the DetailsView, a data Web control that we'll be using shortly.</span></span> <span data-ttu-id="64350-200">Добавить новую обложку DataWebControls тему, с именем `DetailsView.skin` и добавьте следующую разметку:</span><span class="sxs-lookup"><span data-stu-id="64350-200">Add a new Skin to the DataWebControls Theme named `DetailsView.skin` and add the following markup:</span></span>


[!code-aspx[Main](displaying-data-with-the-objectdatasource-cs/samples/sample4.aspx)]

<span data-ttu-id="64350-201">С нашей определена тема последним шагом является применение темы странице ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="64350-201">With our Theme defined, the last step is to apply the Theme to our ASP.NET page.</span></span> <span data-ttu-id="64350-202">Темы можно применять для страницу по отдельности или для всех страниц веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="64350-202">A Theme can be applied on a page-by-page basis or for all pages in a website.</span></span> <span data-ttu-id="64350-203">Используем эту тему для всех страниц веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="64350-203">Let's use this theme for all pages in the website.</span></span> <span data-ttu-id="64350-204">Чтобы сделать это, добавьте следующую разметку, чтобы `Web.config` `<system.web>` разделе:</span><span class="sxs-lookup"><span data-stu-id="64350-204">To accomplish this, add the following markup to `Web.config`'s `<system.web>` section:</span></span>


[!code-xml[Main](displaying-data-with-the-objectdatasource-cs/samples/sample5.xml)]

<span data-ttu-id="64350-205">Это все, чтобы он!</span><span class="sxs-lookup"><span data-stu-id="64350-205">That's all there is to it!</span></span> <span data-ttu-id="64350-206">`styleSheetTheme` Параметр указывает, что свойства, заданные в теме *не* свойства, определенные на уровне элемента управления.</span><span class="sxs-lookup"><span data-stu-id="64350-206">The `styleSheetTheme` setting indicates that the properties specified in the Theme should *not* override the properties specified at the control level.</span></span> <span data-ttu-id="64350-207">Чтобы указать, что параметры темы следует заменяют параметры управления, используйте `theme` атрибута вместо `styleSheetTheme`; к сожалению, параметры темы, указанного с помощью `theme` атрибута не отображаются в конструкторе Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="64350-207">To specify that Theme settings should trump control settings, use the `theme` attribute in place of `styleSheetTheme`; unfortunately, Theme settings specified via the `theme` attribute do not appear in the Visual Studio Design view.</span></span> <span data-ttu-id="64350-208">См. [Обзор обложки и темы ASP.NET](https://msdn.microsoft.com/library/ykzx33wh.aspx) и [темы с помощью серверных стили](https://quickstarts.asp.net/quickstartv20/aspnet/doc/themes/stylesheettheme.aspx) на тем и обложек; Подробнее [How To: применение тем ASP.NET](https://msdn.microsoft.com/library/0yy5hxdk(VS.80).aspx) для получения дополнительных сведений о Настройка страницы для использования темы.</span><span class="sxs-lookup"><span data-stu-id="64350-208">Refer to [ASP.NET Themes and Skins Overview](https://msdn.microsoft.com/library/ykzx33wh.aspx) and [Server-Side Styles Using Themes](https://quickstarts.asp.net/quickstartv20/aspnet/doc/themes/stylesheettheme.aspx) for more information on Themes and Skins; see [How To: Apply ASP.NET Themes](https://msdn.microsoft.com/library/0yy5hxdk(VS.80).aspx) for more on configuring a page to use a theme.</span></span>


<span data-ttu-id="64350-209">[![GridView отображает имя продукта, категории, поставщика, цены и информации о поддержке](displaying-data-with-the-objectdatasource-cs/_static/image31.png)](displaying-data-with-the-objectdatasource-cs/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="64350-209">[![The GridView Displays the Product's Name, Category, Supplier, Price, and Discontinued Information](displaying-data-with-the-objectdatasource-cs/_static/image31.png)](displaying-data-with-the-objectdatasource-cs/_static/image30.png)</span></span>

<span data-ttu-id="64350-210">**Рис. 12**: GridView отображает имя продукта, категории, поставщика, цены и неподдерживаемые сведения ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image32.png))</span><span class="sxs-lookup"><span data-stu-id="64350-210">**Figure 12**: The GridView Displays the Product's Name, Category, Supplier, Price, and Discontinued Information ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image32.png))</span></span>


## <a name="displaying-one-record-at-a-time-in-the-detailsview"></a><span data-ttu-id="64350-211">Отображение одной записи за раз в DetailsView</span><span class="sxs-lookup"><span data-stu-id="64350-211">Displaying One Record at a Time in the DetailsView</span></span>

<span data-ttu-id="64350-212">GridView отображает одну строку для каждой записи элемента управления источником данных, к которому он привязан.</span><span class="sxs-lookup"><span data-stu-id="64350-212">The GridView displays one row for each record returned by the data source control to which it's bound.</span></span> <span data-ttu-id="64350-213">Бывают случаи, тем не менее, если необходимо отобразить записи или только одной записи за раз.</span><span class="sxs-lookup"><span data-stu-id="64350-213">There are times, however, when we may want to display a sole record or just one record at a time.</span></span> <span data-ttu-id="64350-214">[Управления DetailsView](https://msdn.microsoft.com/library/s3w1w7t4.aspx) предлагает функциональные возможности, Подготовка к просмотру как HTML `<table>` с двумя столбцами и одной строке для каждого столбца или свойства, связанного с элементом управления.</span><span class="sxs-lookup"><span data-stu-id="64350-214">The [DetailsView control](https://msdn.microsoft.com/library/s3w1w7t4.aspx) offers this functionality, rendering as an HTML `<table>` with two columns and one row for each column or property bound to the control.</span></span> <span data-ttu-id="64350-215">DetailsView можно считать GridView с одной записью поворачиваются на 90 градусов.</span><span class="sxs-lookup"><span data-stu-id="64350-215">You can think of the DetailsView as a GridView with a single record rotated 90 degrees.</span></span>

<span data-ttu-id="64350-216">Начните с добавления элемента управления DetailsView *выше* GridView в `SimpleDisplay.aspx`.</span><span class="sxs-lookup"><span data-stu-id="64350-216">Start by adding a DetailsView control *above* the GridView in `SimpleDisplay.aspx`.</span></span> <span data-ttu-id="64350-217">Затем привяжите его к тому же элементу управления ObjectDataSource как GridView.</span><span class="sxs-lookup"><span data-stu-id="64350-217">Next, bind it to the same ObjectDataSource control as the GridView.</span></span> <span data-ttu-id="64350-218">Как и с GridView, BoundField будут добавлены в DetailsView для каждого свойства объекта, возвращаемого элемента управления ObjectDataSource `Select` метод.</span><span class="sxs-lookup"><span data-stu-id="64350-218">Like with the GridView, a BoundField will be added to the DetailsView for each property in the object returned by the ObjectDataSource's `Select` method.</span></span> <span data-ttu-id="64350-219">Единственное отличие заключается в том, что стояли DetailsView располагаются по горизонтали, а не по вертикали.</span><span class="sxs-lookup"><span data-stu-id="64350-219">The only difference is that the DetailsView's BoundFields are laid out horizontally rather than vertically.</span></span>


<span data-ttu-id="64350-220">[![Добавление DetailsView на страницу и привязать его к ObjectDataSource](displaying-data-with-the-objectdatasource-cs/_static/image34.png)](displaying-data-with-the-objectdatasource-cs/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="64350-220">[![Add a DetailsView to the Page and Bind it to the ObjectDataSource](displaying-data-with-the-objectdatasource-cs/_static/image34.png)](displaying-data-with-the-objectdatasource-cs/_static/image33.png)</span></span>

<span data-ttu-id="64350-221">**Рис. 13**: добавление DetailsView на страницу и привязать его к коллекции ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image35.png))</span><span class="sxs-lookup"><span data-stu-id="64350-221">**Figure 13**: Add a DetailsView to the Page and Bind it to the ObjectDataSource ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image35.png))</span></span>


<span data-ttu-id="64350-222">Как GridView DetailsView стояли может быть оптимизировано для более специализированного отображают данные, возвращенные ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="64350-222">Like the GridView, the DetailsView's BoundFields can be tweaked to provide a more customized display of the data returned by the ObjectDataSource.</span></span> <span data-ttu-id="64350-223">На рисунке 14 показана DetailsView после его стояли и `CssClass` свойства были настроены, чтобы сделать его внешний вид, аналогичный приведенному в примере GridView.</span><span class="sxs-lookup"><span data-stu-id="64350-223">Figure 14 shows the DetailsView after its BoundFields and `CssClass` properties have been configured to make its appearance similar to the GridView example.</span></span>


<span data-ttu-id="64350-224">[![Отображение одной записи при DetailsView](displaying-data-with-the-objectdatasource-cs/_static/image37.png)](displaying-data-with-the-objectdatasource-cs/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="64350-224">[![The DetailsView Shows a Single Record](displaying-data-with-the-objectdatasource-cs/_static/image37.png)](displaying-data-with-the-objectdatasource-cs/_static/image36.png)</span></span>

<span data-ttu-id="64350-225">**Рис. 14**: DetailsView. Отображение одной записи ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image38.png))</span><span class="sxs-lookup"><span data-stu-id="64350-225">**Figure 14**: The DetailsView Shows a Single Record ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image38.png))</span></span>


<span data-ttu-id="64350-226">Обратите внимание, что DetailsView отображает только первую запись, полученную из источника данных.</span><span class="sxs-lookup"><span data-stu-id="64350-226">Note that the DetailsView only displays the first record returned by its data source.</span></span> <span data-ttu-id="64350-227">Дающим пользователю осуществлять пошаговое выполнение всех записей, одновременно, нам необходимо включить разбиение на страницы DetailsView.</span><span class="sxs-lookup"><span data-stu-id="64350-227">To allow the user to step through all of the records, one at a time, we must enable paging for the DetailsView.</span></span> <span data-ttu-id="64350-228">Чтобы сделать это, вернитесь в Visual Studio и установите флажок Включить постраничный просмотр в DetailsView смарт-тега.</span><span class="sxs-lookup"><span data-stu-id="64350-228">To do so, return to Visual Studio and check the Enable Paging checkbox in the DetailsView's smart tag.</span></span>


<span data-ttu-id="64350-229">[![Включить постраничный просмотр в элементе управления DetailsView](displaying-data-with-the-objectdatasource-cs/_static/image40.png)](displaying-data-with-the-objectdatasource-cs/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="64350-229">[![Enable Paging in the DetailsView Control](displaying-data-with-the-objectdatasource-cs/_static/image40.png)](displaying-data-with-the-objectdatasource-cs/_static/image39.png)</span></span>

<span data-ttu-id="64350-230">**Рис. 15**: включить разбиение по страницам в элементе управления DetailsView ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image41.png))</span><span class="sxs-lookup"><span data-stu-id="64350-230">**Figure 15**: Enable Paging in the DetailsView Control ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image41.png))</span></span>


<span data-ttu-id="64350-231">[![Включении разбиения на страницы DetailsView позволяет пользователю просматривать любые из этих продуктов](displaying-data-with-the-objectdatasource-cs/_static/image43.png)](displaying-data-with-the-objectdatasource-cs/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="64350-231">[![With Paging Enabled, the DetailsView Allows the User to View Any of the Products](displaying-data-with-the-objectdatasource-cs/_static/image43.png)](displaying-data-with-the-objectdatasource-cs/_static/image42.png)</span></span>

<span data-ttu-id="64350-232">**На рисунке 16**: С включено разбиение на страницы DetailsView позволяет пользователю просматривать любые из этих продуктов ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image44.png))</span><span class="sxs-lookup"><span data-stu-id="64350-232">**Figure 16**: With Paging Enabled, the DetailsView Allows the User to View Any of the Products ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image44.png))</span></span>


<span data-ttu-id="64350-233">Мы поговорим о разбиение по страницам в будущих учебниках.</span><span class="sxs-lookup"><span data-stu-id="64350-233">We'll talk more about paging in future tutorials.</span></span>

## <a name="a-more-flexible-layout-for-showing-one-record-at-a-time"></a><span data-ttu-id="64350-234">Более гибкий макет для отображения одной записи за раз</span><span class="sxs-lookup"><span data-stu-id="64350-234">A More Flexible Layout for Showing One Record at a Time</span></span>

<span data-ttu-id="64350-235">DetailsView довольно жесткая в его отображения каждой записи возвращаются из коллекции.</span><span class="sxs-lookup"><span data-stu-id="64350-235">The DetailsView is pretty rigid in how it displays each record returned from the ObjectDataSource.</span></span> <span data-ttu-id="64350-236">Мы можете более гибкий представление данных.</span><span class="sxs-lookup"><span data-stu-id="64350-236">We may want a more flexible view of the data.</span></span> <span data-ttu-id="64350-237">Например, вместо отображается название продукта, категории, поставщика, цены и информация о поддержке в отдельной строке, мы может потребоваться отображать название продукта и цена в `<h4>` заголовком категорию и поставщика информация, представленная под именем и цены в меньший размер шрифта.</span><span class="sxs-lookup"><span data-stu-id="64350-237">For example, rather than showing the product's name, category, supplier, price, and discontinued information each on a separate row, we may want to show the product name and price in an `<h4>` heading, with the category and supplier information appearing below the name and price in a smaller font size.</span></span> <span data-ttu-id="64350-238">И мы не имеет значения отобразить имена свойств (продукта, категории и т. д.) рядом со значениями.</span><span class="sxs-lookup"><span data-stu-id="64350-238">And we may not care to show the property names (Product, Category, and so on) next to the values.</span></span>

<span data-ttu-id="64350-239">[Управления FormView](https://msdn.microsoft.com/library/fyf1dk77.aspx) предоставляет такую настройку.</span><span class="sxs-lookup"><span data-stu-id="64350-239">The [FormView control](https://msdn.microsoft.com/library/fyf1dk77.aspx) provides this level of customization.</span></span> <span data-ttu-id="64350-240">Вместо использования поля (как GridView и DetailsView), FormView использует шаблоны, которые позволяют смешивать веб-элементов управления, статические HTML и [синтаксис привязки данных](http://www.15seconds.com/issue/040630.htm).</span><span class="sxs-lookup"><span data-stu-id="64350-240">Rather than using fields (like the GridView and DetailsView do), the FormView uses templates, which allow for a mix of Web controls, static HTML, and [databinding syntax](http://www.15seconds.com/issue/040630.htm).</span></span> <span data-ttu-id="64350-241">Если вы знакомы с элементом управления повторителем из ASP.NET 1.x, можно считать из FormView повторителя для отображения одной записи.</span><span class="sxs-lookup"><span data-stu-id="64350-241">If you are familiar with the Repeater control from ASP.NET 1.x, you can think of the FormView as the Repeater for showing a single record.</span></span>

<span data-ttu-id="64350-242">Добавить элемент управления FormView `SimpleDisplay.aspx` область конструктора страницы.</span><span class="sxs-lookup"><span data-stu-id="64350-242">Add a FormView control to the `SimpleDisplay.aspx` page's design surface.</span></span> <span data-ttu-id="64350-243">Сначала FormView появится в виде блока серый говорит о том, что нам нужно указать, как минимум, элемент управления `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="64350-243">Initially the FormView displays as a gray block, informing us that we need to provide, at minimum, the control's `ItemTemplate`.</span></span>


<span data-ttu-id="64350-244">[![FormView должен включать ItemTemplate](displaying-data-with-the-objectdatasource-cs/_static/image46.png)](displaying-data-with-the-objectdatasource-cs/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="64350-244">[![The FormView Must Include an ItemTemplate](displaying-data-with-the-objectdatasource-cs/_static/image46.png)](displaying-data-with-the-objectdatasource-cs/_static/image45.png)</span></span>

<span data-ttu-id="64350-245">**Рисунок 17**: необходимо включить FormView `ItemTemplate` ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image47.png))</span><span class="sxs-lookup"><span data-stu-id="64350-245">**Figure 17**: The FormView Must Include an `ItemTemplate` ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image47.png))</span></span>


<span data-ttu-id="64350-246">Можно привязать FormView непосредственно к элементу управления источником данных через FormView смарт-тег, который создает значение по умолчанию `ItemTemplate` автоматически (вместе с `EditItemTemplate` и `InsertItemTemplate`, если элемент управления ObjectDatatSource `InsertMethod` и `UpdateMethod` свойств).</span><span class="sxs-lookup"><span data-stu-id="64350-246">You can bind the FormView directly to a data source control through the FormView's smart tag, which will create a default `ItemTemplate` automatically (along with an `EditItemTemplate` and `InsertItemTemplate`, if the ObjectDatatSource control's `InsertMethod` and `UpdateMethod` properties are set).</span></span> <span data-ttu-id="64350-247">Однако для этого примера давайте привязка данных к FormView и указать его `ItemTemplate` вручную.</span><span class="sxs-lookup"><span data-stu-id="64350-247">However, for this example let's bind the data to the FormView and specify its `ItemTemplate` manually.</span></span> <span data-ttu-id="64350-248">Начать с настройки FormView `DataSourceID` свойства `ID` элемента управления ObjectDataSource `ObjectDataSource1`.</span><span class="sxs-lookup"><span data-stu-id="64350-248">Start by setting the FormView's `DataSourceID` property to the `ID` of the ObjectDataSource control, `ObjectDataSource1`.</span></span> <span data-ttu-id="64350-249">Создайте `ItemTemplate` , чтобы он отображал имя продукта и цены в `<h4>` имен элементов и категории и shipper ниже, позволяет уменьшить размер шрифта.</span><span class="sxs-lookup"><span data-stu-id="64350-249">Next, create the `ItemTemplate` so that it displays the product's name and price in an `<h4>` element and the category and shipper names beneath that in a smaller font size.</span></span>


[!code-aspx[Main](displaying-data-with-the-objectdatasource-cs/samples/sample6.aspx)]


<span data-ttu-id="64350-250">[![На первом продукта (Chai) отображается в пользовательский формат](displaying-data-with-the-objectdatasource-cs/_static/image49.png)](displaying-data-with-the-objectdatasource-cs/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="64350-250">[![The First Product (Chai) is Displayed in a Custom Format](displaying-data-with-the-objectdatasource-cs/_static/image49.png)](displaying-data-with-the-objectdatasource-cs/_static/image48.png)</span></span>

<span data-ttu-id="64350-251">**На рисунке 18**: первого продукта (Chai) отображается в формате ([Просмотр полноразмерное изображение](displaying-data-with-the-objectdatasource-cs/_static/image50.png))</span><span class="sxs-lookup"><span data-stu-id="64350-251">**Figure 18**: The First Product (Chai) is Displayed in a Custom Format ([Click to view full-size image](displaying-data-with-the-objectdatasource-cs/_static/image50.png))</span></span>


<span data-ttu-id="64350-252">`<%# Eval(propertyName) %>` — Это синтаксис привязки данных.</span><span class="sxs-lookup"><span data-stu-id="64350-252">The `<%# Eval(propertyName) %>` is the databinding syntax.</span></span> <span data-ttu-id="64350-253">`Eval` Метод возвращает значение указанного свойства для текущего объекта привязки к элементу управления FormView.</span><span class="sxs-lookup"><span data-stu-id="64350-253">The `Eval` method returns the value of the specified property for the current object being bound to the FormView control.</span></span> <span data-ttu-id="64350-254">См. в статье Алекс Гомера [упрощенное и расширенных данных привязки синтаксис в ASP.NET 2.0](http://www.15seconds.com/issue/040630.htm) Дополнительные сведения о подробно привязки данных.</span><span class="sxs-lookup"><span data-stu-id="64350-254">Check out Alex Homer's article [Simplified and Extended Data Binding Syntax in ASP.NET 2.0](http://www.15seconds.com/issue/040630.htm) for more information on the ins and outs of databinding.</span></span>

<span data-ttu-id="64350-255">Как DetailsView FormView отображаются только первая запись из коллекции.</span><span class="sxs-lookup"><span data-stu-id="64350-255">Like the DetailsView, the FormView only shows the first record returned from the ObjectDataSource.</span></span> <span data-ttu-id="64350-256">Вы можете включить постраничного просмотра в FormView, чтобы пошагово одного продукта за раз.</span><span class="sxs-lookup"><span data-stu-id="64350-256">You can enable paging in the FormView to allow visitors to step through the products one at a time.</span></span>

## <a name="summary"></a><span data-ttu-id="64350-257">Сводка</span><span class="sxs-lookup"><span data-stu-id="64350-257">Summary</span></span>

<span data-ttu-id="64350-258">Доступ и отображение данных на уровне бизнес-логики может осуществляться без написания кода, благодаря элементу управления ObjectDataSource ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="64350-258">Accessing and displaying data from a Business Logic Layer can be accomplished without writing a line of code thanks to ASP.NET 2.0's ObjectDataSource control.</span></span> <span data-ttu-id="64350-259">ObjectDataSource вызывает указанный метод класса и возвращает результаты.</span><span class="sxs-lookup"><span data-stu-id="64350-259">The ObjectDataSource invokes a specified method of a class and returns the results.</span></span> <span data-ttu-id="64350-260">Эти результаты могут отображаться в данных веб-элемент управления, к которому привязан элемент управления ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="64350-260">These results can be displayed in a data Web control that's bound to the ObjectDataSource.</span></span> <span data-ttu-id="64350-261">В этом учебнике мы рассмотрели привязку элементов управления GridView, DetailsView и FormView в элемент управления ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="64350-261">In this tutorial we looked at binding the GridView, DetailsView, and FormView controls to the ObjectDataSource.</span></span>

<span data-ttu-id="64350-262">Теперь мы только знаете способ использования ObjectDataSource для вызова метода без параметров, но что делать, если нужно вызвать метод, который ожидает, что входные параметры, такие как `ProductBLL` класса `GetProductsByCategoryID(categoryID)`?</span><span class="sxs-lookup"><span data-stu-id="64350-262">So far we've only seen how to use the ObjectDataSource to invoke a parameter-less method, but what if we want to invoke a method that expects input parameters, such as the `ProductBLL` class's `GetProductsByCategoryID(categoryID)`?</span></span> <span data-ttu-id="64350-263">Чтобы вызвать метод, который ожидает один или несколько параметров настройте ObjectDataSource для указания значений для этих параметров.</span><span class="sxs-lookup"><span data-stu-id="64350-263">In order to call a method that expects one or more parameters we must configure the ObjectDataSource to specify the values for these parameters.</span></span> <span data-ttu-id="64350-264">Мы рассмотрим, как выполнить это в нашем [следующее руководство](declarative-parameters-cs.md).</span><span class="sxs-lookup"><span data-stu-id="64350-264">We'll see how to accomplish this in our [next tutorial](declarative-parameters-cs.md).</span></span>

<span data-ttu-id="64350-265">Программирование довольны!</span><span class="sxs-lookup"><span data-stu-id="64350-265">Happy Programming!</span></span>

## <a name="further-reading"></a><span data-ttu-id="64350-266">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="64350-266">Further Reading</span></span>

<span data-ttu-id="64350-267">Дополнительные сведения по темам, рассматриваемые в этом учебнике см. в следующих ресурсах:</span><span class="sxs-lookup"><span data-stu-id="64350-267">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="64350-268">Создание собственных элементов управления источниками данных</span><span class="sxs-lookup"><span data-stu-id="64350-268">Create Your Own Data Source Controls</span></span>](https://msdn.microsoft.com/library/ms364049.aspx)
- [<span data-ttu-id="64350-269">Примеры GridView для ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="64350-269">GridView Examples for ASP.NET 2.0</span></span>](https://msdn.microsoft.com/library/aa479339.aspx)
- [<span data-ttu-id="64350-270">Простой и расширенный синтаксис привязки данных в ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="64350-270">Simplified and Extended Data Binding Syntax in ASP.NET 2.0</span></span>](http://www.15seconds.com/issue/040630.htm)
- [<span data-ttu-id="64350-271">Темы в ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="64350-271">Themes in ASP.NET 2.0</span></span>](http://www.odetocode.com/Articles/423.aspx)
- [<span data-ttu-id="64350-272">Стили на стороне сервера с использованием тем.</span><span class="sxs-lookup"><span data-stu-id="64350-272">Server-Side Styles Using Themes</span></span>](https://quickstarts.asp.net/quickstartv20/aspnet/doc/themes/stylesheettheme.aspx)
- [<span data-ttu-id="64350-273">Практическое руководство: Применение тем ASP.NET программными средствами</span><span class="sxs-lookup"><span data-stu-id="64350-273">How To: Apply ASP.NET Themes Programmatically</span></span>](https://msdn.microsoft.com/library/tx35bd89.aspx)

## <a name="about-the-author"></a><span data-ttu-id="64350-274">Об авторе</span><span class="sxs-lookup"><span data-stu-id="64350-274">About the Author</span></span>

<span data-ttu-id="64350-275">[Скотт Митчелл](http://www.4guysfromrolla.com/ScottMitchell.shtml), автор семи ASP/ASP.NET и основателя из [4GuysFromRolla.com](http://www.4guysfromrolla.com), работает с веб-технологиями Майкрософт с 1998 года.</span><span class="sxs-lookup"><span data-stu-id="64350-275">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="64350-276">Скотт — независимый консультант, trainer и записи.</span><span class="sxs-lookup"><span data-stu-id="64350-276">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="64350-277">Его последняя книга — [ *диспетчерами учат самостоятельно ASP.NET 2.0 в течение 24 часов*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="64350-277">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="64350-278">Он может быть достигнута по [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) или через его блог, который можно найти в [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="64350-278">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="64350-279">Благодарности</span><span class="sxs-lookup"><span data-stu-id="64350-279">Special Thanks To</span></span>

<span data-ttu-id="64350-280">Этот учебник ряд прошел проверку многие полезные рецензентов.</span><span class="sxs-lookup"><span data-stu-id="64350-280">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="64350-281">Основной рецензент этого учебника было – Хилтон Гизнау.</span><span class="sxs-lookup"><span data-stu-id="64350-281">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="64350-282">Объясняются моих последующих статей для MSDN?</span><span class="sxs-lookup"><span data-stu-id="64350-282">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="64350-283">Если Да, напишите мне по [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="64350-283">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="64350-284">Вперед</span><span class="sxs-lookup"><span data-stu-id="64350-284">Next</span></span>](declarative-parameters-cs.md)
