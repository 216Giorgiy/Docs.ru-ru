---
uid: web-forms/overview/older-versions-getting-started/master-pages/interacting-with-the-master-page-from-the-content-page-cs
title: Взаимодействие с главной страницы на странице содержимого (C#) | Документы Microsoft
author: rick-anderson
description: Рассматривается вызывать методы, задайте свойства, т. д., из главной страницы из кода на странице содержимого.
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/11/2008
ms.topic: article
ms.assetid: 32d54638-71b2-491d-81f4-f7417a13a62f
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/interacting-with-the-master-page-from-the-content-page-cs
msc.type: authoredcontent
ms.openlocfilehash: b550d8c2a64bb2ad91e1db7b2c25433f73dbd5b7
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2018
---
<a name="interacting-with-the-master-page-from-the-content-page-c"></a><span data-ttu-id="0a8b5-103">Взаимодействие с главной страницы на странице содержимого (C#)</span><span class="sxs-lookup"><span data-stu-id="0a8b5-103">Interacting with the Master Page from the Content Page (C#)</span></span>
====================
<span data-ttu-id="0a8b5-104">по [Скотт Митчелл](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="0a8b5-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="0a8b5-105">[Загрузить код](http://download.microsoft.com/download/1/8/4/184e24fa-fcc8-47fa-ac99-4b6a52d41e97/ASPNET_MasterPages_Tutorial_06_CS.zip) или [скачать PDF](http://download.microsoft.com/download/e/b/4/eb4abb10-c416-4ba4-9899-32577715b1bd/ASPNET_MasterPages_Tutorial_06_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="0a8b5-105">[Download Code](http://download.microsoft.com/download/1/8/4/184e24fa-fcc8-47fa-ac99-4b6a52d41e97/ASPNET_MasterPages_Tutorial_06_CS.zip) or [Download PDF](http://download.microsoft.com/download/e/b/4/eb4abb10-c416-4ba4-9899-32577715b1bd/ASPNET_MasterPages_Tutorial_06_CS.pdf)</span></span>

> <span data-ttu-id="0a8b5-106">Рассматривается вызывать методы, задайте свойства, т. д., из главной страницы из кода на странице содержимого.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-106">Examines how to call methods, set properties, etc. of the Master Page from code in the Content Page.</span></span>


## <a name="introduction"></a><span data-ttu-id="0a8b5-107">Вступление</span><span class="sxs-lookup"><span data-stu-id="0a8b5-107">Introduction</span></span>

<span data-ttu-id="0a8b5-108">В течение последних пяти учебников рассматривалось как создание главной страницы, определить области содержимого, привязать к главной страницы страницы ASP.NET и содержимое страницы.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-108">Over the course of the past five tutorials we have looked at how to create a master page, define content regions, bind ASP.NET pages to a master page, and define page-specific content.</span></span> <span data-ttu-id="0a8b5-109">Когда посетитель запрашивает определенной страницы содержимого, содержимое и главные страницы разметки совмещенного во время выполнения, возникающие при отрисовке иерархии единой системы управления.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-109">When a visitor requests a particular content page, the content and master pages' markup are fused at runtime, resulting in the rendering of a unified control hierarchy.</span></span> <span data-ttu-id="0a8b5-110">Таким образом, мы уже видели другом — способ главной страницы и один из его страниц могут взаимодействовать: страницы содержимого подробно рассматриваются разметки для transfuse в элементы управления ContentPlaceHolder главной страницы.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-110">Therefore, we have already seen one way in which the master page and one of its content pages can interact: the content page spells out the markup to transfuse into the master page's ContentPlaceHolder controls.</span></span>

<span data-ttu-id="0a8b5-111">То, что у нас есть еще для анализа является главной страницы и страницы содержимого взаимодействие программными средствами.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-111">What we have yet to examine is how the master page and content page can interact programmatically.</span></span> <span data-ttu-id="0a8b5-112">Кроме определения разметки для элементов управления ContentPlaceHolder на главной странице, страницы содержимого можно назначить значения свойствам открытого главной страницы и вызова его открытых методов.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-112">In addition to defining the markup for the master page's ContentPlaceHolder controls, a content page can also assign values to its master page's public properties and invoke its public methods.</span></span> <span data-ttu-id="0a8b5-113">Аналогичным образом главной страницы может взаимодействовать с его страниц.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-113">Similarly, a master page may interact with its content pages.</span></span> <span data-ttu-id="0a8b5-114">Хотя программный взаимодействие между главной и содержимого страницы реже, чем взаимодействие между их декларативный пометки, существует множество сценариев, где требуются такие программного взаимодействия.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-114">While programmatic interaction between a master and content page is less common than the interaction between their declarative markups, there are many scenarios where such programmatic interaction is needed.</span></span>

<span data-ttu-id="0a8b5-115">В этом учебнике рассматриваются как страницу содержимого программного взаимодействия с главной страницей по; в следующем уроке мы рассмотрим аналогично взаимодействие главной страницы с его страниц.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-115">In this tutorial we examine how a content page can programmatically interact with its master page; in the next tutorial we will look at how the master page can similarly interact with its content pages.</span></span>

## <a name="examples-of-programmatic-interaction-between-a-content-page-and-its-master-page"></a><span data-ttu-id="0a8b5-116">Примеры программного взаимодействия между содержимым и его главной страницы</span><span class="sxs-lookup"><span data-stu-id="0a8b5-116">Examples of Programmatic Interaction Between a Content Page and its Master Page</span></span>

<span data-ttu-id="0a8b5-117">При определенной области страницы должна быть настроена на основе страницу за страницей, мы используем управления ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-117">When a particular region of a page needs to be configured on a page-by-page basis, we use a ContentPlaceHolder control.</span></span> <span data-ttu-id="0a8b5-118">Но как обстоят дела ситуации, где большая часть страниц необходимо создавать определенные выходные данные, но небольшом количестве страниц требуется настроить его, чтобы увидеть что-нибудь еще?</span><span class="sxs-lookup"><span data-stu-id="0a8b5-118">But what about situations where the majority of pages need to emit a certain output, but a small number of pages need to customize it to show something else?</span></span> <span data-ttu-id="0a8b5-119">Например, который мы рассмотрели в [ *несколько и содержимого по умолчанию* ](multiple-contentplaceholders-and-default-content-cs.md) учебника предполагает отображение интерфейс входа на каждой странице.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-119">One such example, which we examined in the [*Multiple ContentPlaceHolders and Default Content*](multiple-contentplaceholders-and-default-content-cs.md) tutorial, involves displaying a login interface on each page.</span></span> <span data-ttu-id="0a8b5-120">Хотя большая часть страниц должны включать интерфейс входа, должно быть подавлено для небольшое число страниц, таких как: страницы входа основной (`Login.aspx`); страницы; Создание учетной записи и других страниц, которые доступны только пользователям, прошедшим проверку.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-120">While most pages should include a login interface, it should be suppressed for a handful of pages, such as: the main login page (`Login.aspx`); the Create Account page; and other pages that are only accessible to authenticated users.</span></span> <span data-ttu-id="0a8b5-121">[ *Несколько и содержимого по умолчанию* ](multiple-contentplaceholders-and-default-content-cs.md) учебника было показано, как определить содержимое по умолчанию для ContentPlaceHolder на главной странице и затем его переопределение в этих страницах where нежелательно содержимого по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-121">The [*Multiple ContentPlaceHolders and Default Content*](multiple-contentplaceholders-and-default-content-cs.md) tutorial showed how to define the default content for a ContentPlaceHolder in the master page and then how to override it in those pages where the default content was not wanted.</span></span>

<span data-ttu-id="0a8b5-122">Другой вариант — создать открытые свойства или метода в главной страницы, которое указывает, следует ли отображать или скрывать интерфейс входа.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-122">Another option is to create a public property or method within the master page that indicates whether to show or hide the login interface.</span></span> <span data-ttu-id="0a8b5-123">Например, Главная страница может включать открытое свойство с именем `ShowLoginUI` , значение которого используется для задания `Visible` свойства элемента управления на главной странице входа.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-123">For example, the master page might include a public property named `ShowLoginUI` whose value was used to set the `Visible` property of the Login control in the master page.</span></span> <span data-ttu-id="0a8b5-124">Эти страницы содержимого, где следует отключить пользовательский интерфейс входа в систему может затем программно задать `ShowLoginUI` свойства `false`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-124">Those content pages where the login user interface should be suppressed could then programmatically set the `ShowLoginUI` property to `false`.</span></span>

<span data-ttu-id="0a8b5-125">Возможно наиболее распространенным примером взаимодействие главной страницы и содержимое возникает, когда данные отображаются в главной страницы должна обновляться после задан некоторых операций на странице содержимого.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-125">Perhaps the most common example of content and master page interaction occurs when data displayed in the master page needs to be refreshed after some action has transpired in the content page.</span></span> <span data-ttu-id="0a8b5-126">Рассмотрите возможность главной странице, которая содержит GridView, отображающий пять наиболее часто добавить записи из таблицы, определенной базы данных и что один из его страниц включает интерфейс для добавления новых записей в этой же таблицы.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-126">Consider a master page that includes a GridView that displays the five most recently added records from a particular database table, and that one of its content pages includes an interface for adding new records to that same table.</span></span>

<span data-ttu-id="0a8b5-127">Когда пользователь открывает страницу, чтобы добавить новую запись, она видит, что пяти добавленной самой последней записи в главной страницы.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-127">When a user visits the page to add a new record, she sees the five most recently added records displayed in the master page.</span></span> <span data-ttu-id="0a8b5-128">После заполнения значения для столбцов новой записи, она отправляет форму.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-128">After filling in the values for the new record's columns, she submits the form.</span></span> <span data-ttu-id="0a8b5-129">Предположим, что имеется GridView на главной странице его `EnableViewState` свойство установлено в значение true (по умолчанию), его содержимое загружается из состояния представления и, соответственно, отображаются пять же записи, несмотря на то, что новая запись был только что добавлен в базу данных.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-129">Assuming that the GridView in the master page has its `EnableViewState` property set to true (the default), its content is reloaded from view state and, consequently, the five same records are displayed even though a newer record was just added to the database.</span></span> <span data-ttu-id="0a8b5-130">Это может запутать пользователя.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-130">This may confuse the user.</span></span>

> [!NOTE]
> <span data-ttu-id="0a8b5-131">Даже при отключении состояния представления GridView, чтобы он выполняет повторную привязку в источнике данных для каждой обратной передачи, он по-прежнему могут не отобразиться только что добавленные записи, так как данные будут привязаны к GridView ранее жизненного цикла страницы, чем при добавлении новой записи базы данных ASE.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-131">Even if you disable the GridView's view state so that it rebinds to its underlying data source on every postback, it still won't show the just-added record because the data is bound to the GridView earlier in the page lifecycle than when the new record is added to the database.</span></span>


<span data-ttu-id="0a8b5-132">Чтобы это исправить, чтобы отображалось только что добавленные записи на главной странице в GridView при обратной передаче, нам нужно указать GridView для повторной привязки к источнику данных *после* новой записи был добавлен в базу данных.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-132">To remedy this so that the just-added record is displayed in the master page's GridView on postback we need to instruct the GridView to rebind to its data source *after* the new record has been added to the database.</span></span> <span data-ttu-id="0a8b5-133">Это требует взаимодействия между содержимым и главные страницы, так как интерфейс для добавления новой записи (и соответствующих обработчиков событий) находятся в страницы содержимого, но GridView, который должен быть обновлен на главной странице.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-133">This requires interaction between the content and master pages because the interface for adding the new record (and its event handlers) are in the content page but the GridView that needs to be refreshed is in the master page.</span></span>

<span data-ttu-id="0a8b5-134">Поскольку обновление экрана главной страницы из обработчика событий на странице содержимого является одним из наиболее распространенных потребностей для содержимого и взаимодействия с главной страницы, давайте рассмотрим в этом разделе более подробно.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-134">Because refreshing the master page's display from an event handler in the content page is one of the most common needs for content and master page interaction, let's explore this topic in more detail.</span></span> <span data-ttu-id="0a8b5-135">В этом учебнике загружаемый файл содержит базы данных Microsoft SQL Server 2005 Express Edition, с именем `NORTHWIND.MDF` на веб-сайте `App_Data` папки.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-135">The download for this tutorial includes a Microsoft SQL Server 2005 Express Edition database named `NORTHWIND.MDF` in the website's `App_Data` folder.</span></span> <span data-ttu-id="0a8b5-136">Базы данных Northwind хранит продукта, сотрудников и сведения о продажах для вымышленной компании Northwind Traders.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-136">The Northwind database stores product, employee, and sales information for a fictitious company, Northwind Traders.</span></span>

<span data-ttu-id="0a8b5-137">Шаг 1 последовательно описан отображения пяти недавно добавлено продуктов в GridView на главной странице.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-137">Step 1 walks through displaying the five most recently added products in a GridView in the master page.</span></span> <span data-ttu-id="0a8b5-138">Шаг 2 создает страницу содержимого для добавления новых продуктов.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-138">Step 2 creates a content page for adding new products.</span></span> <span data-ttu-id="0a8b5-139">Шаг 3 рассматривается создание открытым свойствам и методам в главной страницы и шаг 4 показано, как программным образом взаимодействовать с этим свойствам и методам со страницы содержимого.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-139">Step 3 looks at how to create public properties and methods in the master page, and Step 4 illustrates how to programmatically interface with these properties and methods from the content page.</span></span>

> [!NOTE]
> <span data-ttu-id="0a8b5-140">Этот учебник не углубимся в особенности работы с данными в ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-140">This tutorial does not delve into the specifics of working with data in ASP.NET.</span></span> <span data-ttu-id="0a8b5-141">Действия по настройке главной страницы для отображения данных и странице содержимого для вставки данных, завершено, пока breezy.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-141">The steps for setting up the master page to display data and the content page for inserting data are complete, yet breezy.</span></span> <span data-ttu-id="0a8b5-142">Более подробное рассмотрение отображение и вставка данных с помощью элементов управления SqlDataSource и GridView, можно найти в источниках в разделе "Дополнительные материалы" в конце этого учебника.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-142">For a more in-depth look at displaying and inserting data and using the SqlDataSource and GridView controls, consult the resources in the Further Readings section at the end of this tutorial.</span></span>


## <a name="step-1-displaying-the-five-most-recently-added-products-in-the-master-page"></a><span data-ttu-id="0a8b5-143">Шаг 1: Отображение пять недавно добавлено продуктов на главной странице</span><span class="sxs-lookup"><span data-stu-id="0a8b5-143">Step 1: Displaying the Five Most Recently Added Products in the Master Page</span></span>

<span data-ttu-id="0a8b5-144">Откройте `Site.master` главную страницу и добавить метку и элемента управления GridView для `leftContent` `<div>`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-144">Open the `Site.master` master page and add a Label and a GridView control to the `leftContent` `<div>`.</span></span> <span data-ttu-id="0a8b5-145">Очистить метки `Text` , установите его `EnableViewState` свойству значение false и его `ID` свойства `GridMessage`; присвоить свойству `ID` свойства `RecentProducts`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-145">Clear out the Label's `Text` property, set its `EnableViewState` property to false, and its `ID` property to `GridMessage`; set the GridView's `ID` property to `RecentProducts`.</span></span> <span data-ttu-id="0a8b5-146">Затем из конструктора, разверните GridView смарт-тег и выберите привязать его к новому источнику данных.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-146">Next, from the Designer, expand the GridView's smart tag and choose to bind it to a new data source.</span></span> <span data-ttu-id="0a8b5-147">Запустится мастер настройки источника данных.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-147">This launches the Data Source Configuration wizard.</span></span> <span data-ttu-id="0a8b5-148">Так как база данных Northwind в `App_Data` папки — это база данных Microsoft SQL Server, выберите для создания SqlDataSource путем выбора (см. рис. 1); имя SqlDataSource `RecentProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-148">Because the Northwind database in the `App_Data` folder is a Microsoft SQL Server database, choose to create a SqlDataSource by selecting (see Figure 1); name the SqlDataSource `RecentProductsDataSource`.</span></span>


<span data-ttu-id="0a8b5-149">[![Привязать элемент управления SqlDataSource с именем RecentProductsDataSource GridView](interacting-with-the-master-page-from-the-content-page-cs/_static/image2.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="0a8b5-149">[![Bind the GridView to a SqlDataSource Control Named RecentProductsDataSource](interacting-with-the-master-page-from-the-content-page-cs/_static/image2.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image1.png)</span></span>

<span data-ttu-id="0a8b5-150">**На рисунке 01**: привязка GridView для элемента управления SqlDataSource с именем `RecentProductsDataSource` ([Просмотр полноразмерное изображение](interacting-with-the-master-page-from-the-content-page-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="0a8b5-150">**Figure 01**: Bind the GridView to a SqlDataSource Control Named `RecentProductsDataSource` ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image3.png))</span></span>


<span data-ttu-id="0a8b5-151">Следующий шаг появляется запрос, чтобы указать, что базы данных для подключения к.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-151">The next step asks us to specify what database to connect to.</span></span> <span data-ttu-id="0a8b5-152">Выберите `NORTHWIND.MDF` файла из раскрывающегося списка базы данных и нажмите кнопку Далее.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-152">Choose the `NORTHWIND.MDF` database file from the drop-down list and click Next.</span></span> <span data-ttu-id="0a8b5-153">Поскольку это первый раз, мы использовали эту базу данных, мастер предложит сохранить строку подключения в `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-153">Because this is the first time we've used this database, the wizard will offer to store the connection string in `Web.config`.</span></span> <span data-ttu-id="0a8b5-154">Их хранение строки подключения, используя имя `NorthwindConnectionString`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-154">Have it store the connection string using the name `NorthwindConnectionString`.</span></span>


<span data-ttu-id="0a8b5-155">[![Подключиться к базе данных "Борей"](interacting-with-the-master-page-from-the-content-page-cs/_static/image5.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="0a8b5-155">[![Connect to the Northwind Database](interacting-with-the-master-page-from-the-content-page-cs/_static/image5.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image4.png)</span></span>

<span data-ttu-id="0a8b5-156">**На рисунке 02**: подключиться к базе данных "Борей" ([Просмотр полноразмерное изображение](interacting-with-the-master-page-from-the-content-page-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="0a8b5-156">**Figure 02**: Connect to the Northwind Database  ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image6.png))</span></span>


<span data-ttu-id="0a8b5-157">Мастер настройки источника данных предоставляет два средства, с помощью которых можно указать запрос, используемый для извлечения данных:</span><span class="sxs-lookup"><span data-stu-id="0a8b5-157">The Configure Data Source wizard provides two means by which we can specify the query used to retrieve data:</span></span>

- <span data-ttu-id="0a8b5-158">Указав пользовательские инструкции SQL или хранимой процедуры или</span><span class="sxs-lookup"><span data-stu-id="0a8b5-158">By specifying a custom SQL statement or stored procedure, or</span></span>
- <span data-ttu-id="0a8b5-159">Путем выбора таблицы или представления, а затем указать столбцы, возвращаемые</span><span class="sxs-lookup"><span data-stu-id="0a8b5-159">By picking a table or view and then specifying the columns to return</span></span>

<span data-ttu-id="0a8b5-160">Поскольку нам требуется возвратить только пять недавно добавлен продуктов, нам нужно указать пользовательские инструкции SQL.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-160">Because we want to return just the five most recently added products, we need to specify a custom SQL statement.</span></span> <span data-ttu-id="0a8b5-161">Используйте следующий запрос SELECT:</span><span class="sxs-lookup"><span data-stu-id="0a8b5-161">Use the following SELECT query:</span></span>


[!code-sql[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample1.sql)]

<span data-ttu-id="0a8b5-162">`TOP 5` Ключевое слово возвращает только первых пяти записей из запроса.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-162">The `TOP 5` keyword returns only the first five records from the query.</span></span> <span data-ttu-id="0a8b5-163">`Products` Первичного ключа таблицы `ProductID`, является `IDENTITY` столбец, который гарантирует, что каждый новый продукт, добавляемой в таблицу будет больше предыдущей записи.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-163">The `Products` table's primary key, `ProductID`, is an `IDENTITY` column, which assures us that each new product added to the table will have a larger value than the previous entry.</span></span> <span data-ttu-id="0a8b5-164">Поэтому Сортировка результатов по `ProductID` в порядке убывания возвращает продуктов, начиная с наиболее недавно созданный из них.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-164">Therefore, sorting the results by `ProductID` in descending order returns the products starting with the most recently created ones.</span></span>


<span data-ttu-id="0a8b5-165">[![Возвращает последнее добавленное пяти продуктов](interacting-with-the-master-page-from-the-content-page-cs/_static/image8.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="0a8b5-165">[![Return the Five Most Recently Added Products](interacting-with-the-master-page-from-the-content-page-cs/_static/image8.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image7.png)</span></span>

<span data-ttu-id="0a8b5-166">**Рисунок 03**: возвращать пять наиболее недавно добавлено товаров ([Просмотр полноразмерное изображение](interacting-with-the-master-page-from-the-content-page-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="0a8b5-166">**Figure 03**: Return the Five Most Recently Added Products  ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image9.png))</span></span>


<span data-ttu-id="0a8b5-167">По завершении работы мастера Visual Studio создает два стояли для GridView для отображения `ProductName` и `UnitPrice` полей, возвращаемых из базы данных.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-167">After completing the wizard, Visual Studio generates two BoundFields for the GridView to display the `ProductName` and `UnitPrice` fields returned from the database.</span></span> <span data-ttu-id="0a8b5-168">На этом этапе декларативная разметка главной страницы должен содержать разметку следующего вида:</span><span class="sxs-lookup"><span data-stu-id="0a8b5-168">At this point your master page's declarative markup should include markup similar to the following:</span></span>


[!code-aspx[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample2.aspx)]

<span data-ttu-id="0a8b5-169">Как видите, содержащий разметку: метка веб-управления (`GridMessage`); GridView `RecentProducts`с двумя стояли; и элемента управления SqlDataSource, возвращающий пять наиболее недавно добавленных продуктов.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-169">As you can see, the markup contains: the Label Web control (`GridMessage`); the GridView `RecentProducts`, with two BoundFields; and a SqlDataSource control that returns the five most recently added products.</span></span>

<span data-ttu-id="0a8b5-170">С данным GridView создан и его настройки, управления SqlDataSource посетите веб-сайт с помощью браузера.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-170">With this GridView created and its SqlDataSource control configured, visit the website through a browser.</span></span> <span data-ttu-id="0a8b5-171">Как показано на рис. 4, вы увидите, что сетки в левом нижнем углу, перечислены пять самых недавно добавлено продуктов.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-171">As Figure 4 shows, you will see a grid in the lower left corner that lists the five most recently added products.</span></span>


<span data-ttu-id="0a8b5-172">[![GridView отображает последнее добавленное пяти продуктов](interacting-with-the-master-page-from-the-content-page-cs/_static/image11.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="0a8b5-172">[![The GridView Displays the Five Most Recently Added Products](interacting-with-the-master-page-from-the-content-page-cs/_static/image11.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image10.png)</span></span>

<span data-ttu-id="0a8b5-173">**На рисунке 04**: GridView отображает пять наиболее недавно добавлено продукты ([Просмотр полноразмерное изображение](interacting-with-the-master-page-from-the-content-page-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="0a8b5-173">**Figure 04**: The GridView Displays the Five Most Recently Added Products ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image12.png))</span></span>


> [!NOTE]
> <span data-ttu-id="0a8b5-174">Вы можете очистить внешний вид элемента управления GridView.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-174">Feel free to clean up the appearance of the GridView.</span></span> <span data-ttu-id="0a8b5-175">Некоторые рекомендации включают форматирование отображаемых `UnitPrice` значение в виде валюты и с помощью фоновых цветов и шрифтов для улучшения внешнего вида сетки.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-175">Some suggestions include formatting the displayed `UnitPrice` value as a currency and using background colors and fonts to improve the grid's appearance.</span></span>


## <a name="step-2-creating-a-content-page-to-add-new-products"></a><span data-ttu-id="0a8b5-176">Шаг 2: Создание страницы содержимого для добавления новых продуктов</span><span class="sxs-lookup"><span data-stu-id="0a8b5-176">Step 2: Creating a Content Page to Add New Products</span></span>

<span data-ttu-id="0a8b5-177">Теперь нам является создание страницы содержимого, из которого пользователь может добавлять новый продукт на `Products` таблицы.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-177">Our next task is to create a content page from which a user can add a new product to the `Products` table.</span></span> <span data-ttu-id="0a8b5-178">Добавление новой страницы содержимого для `Admin` папку с именем `AddProduct.aspx`, позволяя следует привязать его к `Site.master` главной страницы.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-178">Add a new content page to the `Admin` folder named `AddProduct.aspx`, making sure to bind it to the `Site.master` master page.</span></span> <span data-ttu-id="0a8b5-179">Рис. 5 показан обозреватель решений после добавления этой страницы на веб-сайт.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-179">Figure 5 shows the Solution Explorer after this page has been added to the website.</span></span>


<span data-ttu-id="0a8b5-180">[![Добавить новую страницу ASP.NET в папку Admin](interacting-with-the-master-page-from-the-content-page-cs/_static/image14.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="0a8b5-180">[![Add a New ASP.NET Page to the Admin Folder](interacting-with-the-master-page-from-the-content-page-cs/_static/image14.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image13.png)</span></span>

<span data-ttu-id="0a8b5-181">**На рисунке 05**: добавьте новую страницу ASP.NET в `Admin` папку ([Просмотр полноразмерное изображение](interacting-with-the-master-page-from-the-content-page-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="0a8b5-181">**Figure 05**: Add a New ASP.NET Page to the `Admin` Folder([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image15.png))</span></span>


<span data-ttu-id="0a8b5-182">Помните, что в [ *указанием заголовка, мета-теги и другие заголовки HTML на главной странице* ](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) учебник, созданную пользовательскую страницу базовый класс с именем `BasePage` , создавшей заголовок страницы, если она была не задан явно.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-182">Recall that in the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial we created a custom base page class named `BasePage` that generated the page's title if it was not explicitly set.</span></span> <span data-ttu-id="0a8b5-183">Последовательно выберите пункты `AddProduct.aspx` на странице кода класса и его производные от `BasePage` (вместо из `System.Web.UI.Page`).</span><span class="sxs-lookup"><span data-stu-id="0a8b5-183">Go to the `AddProduct.aspx` page's code-behind class and have it derive from `BasePage` (instead of from `System.Web.UI.Page`).</span></span>

<span data-ttu-id="0a8b5-184">Наконец, обновите `Web.sitemap` файл, чтобы включить запись для этого занятия.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-184">Finally, update the `Web.sitemap` file to include an entry for this lesson.</span></span> <span data-ttu-id="0a8b5-185">Добавьте следующую разметку под `<siteMapNode>` занятия проблемы именования идентификатор элемента управления:</span><span class="sxs-lookup"><span data-stu-id="0a8b5-185">Add the following markup beneath the `<siteMapNode>` for the Control ID Naming Issues lesson:</span></span>


[!code-xml[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample3.xml)]

<span data-ttu-id="0a8b5-186">Как показано на рис. 6, добавление данного объекта `<siteMapNode>` элемент отражается в списке занятий.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-186">As shown in Figure 6, the addition of this `<siteMapNode>` element is reflected in the Lessons list.</span></span>

<span data-ttu-id="0a8b5-187">Вернитесь к `AddProduct.aspx`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-187">Return to `AddProduct.aspx`.</span></span> <span data-ttu-id="0a8b5-188">В элементе управления содержимым для `MainContent` ContentPlaceHolder, добавление элемента управления DetailsView и назовите его `NewProduct`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-188">In the Content control for the `MainContent` ContentPlaceHolder, add a DetailsView control and name it `NewProduct`.</span></span> <span data-ttu-id="0a8b5-189">Привязать DetailsView новый элемент управления SqlDataSource с именем `NewProductDataSource`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-189">Bind the DetailsView to a new SqlDataSource control named `NewProductDataSource`.</span></span> <span data-ttu-id="0a8b5-190">Например, в SqlDataSource на шаге 1, мастер настройки, чтобы он использовал базу данных Northwind и указать пользовательские инструкции SQL.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-190">Like with the SqlDataSource in Step 1, configure the wizard so that it uses the Northwind database and choose to specify a custom SQL statement.</span></span> <span data-ttu-id="0a8b5-191">Поскольку DetailsView будет использоваться для добавления элементов в базу данных, необходимо указать оба `SELECT` инструкции и `INSERT` инструкции.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-191">Because the DetailsView will be used to add items to the database, we need to specify both a `SELECT` statement and an `INSERT` statement.</span></span> <span data-ttu-id="0a8b5-192">Используйте следующие `SELECT` запроса:</span><span class="sxs-lookup"><span data-stu-id="0a8b5-192">Use the following `SELECT` query:</span></span>


[!code-sql[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample4.sql)]

<span data-ttu-id="0a8b5-193">Из вкладки «Вставка» добавить следующий `INSERT` инструкции:</span><span class="sxs-lookup"><span data-stu-id="0a8b5-193">Then, from the INSERT tab, add the following `INSERT` statement:</span></span>


[!code-sql[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample5.sql)]

<span data-ttu-id="0a8b5-194">После завершения работы мастера перейдите DetailsView смарт-тег и установите флажок «Включить Вставка».</span><span class="sxs-lookup"><span data-stu-id="0a8b5-194">After completing the wizard go to the DetailsView's smart tag and check the "Enable Inserting" checkbox.</span></span> <span data-ttu-id="0a8b5-195">Это добавляет CommandField DetailsView с его `ShowInsertButton` свойству задано значение true.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-195">This adds a CommandField to the DetailsView with its `ShowInsertButton` property set to true.</span></span> <span data-ttu-id="0a8b5-196">Так как этот DetailsView будет использоваться исключительно для вставки данных, задайте DetailsView `DefaultMode` свойства `Insert`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-196">Because this DetailsView will be used solely for inserting data, set the DetailsView's `DefaultMode` property to `Insert`.</span></span>

<span data-ttu-id="0a8b5-197">Это все, чтобы он!</span><span class="sxs-lookup"><span data-stu-id="0a8b5-197">That's all there is to it!</span></span> <span data-ttu-id="0a8b5-198">Давайте протестируем эту страницу.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-198">Let's test this page.</span></span> <span data-ttu-id="0a8b5-199">Посетите `AddProduct.aspx` через браузер, введите имя и цена (см. рис. 6).</span><span class="sxs-lookup"><span data-stu-id="0a8b5-199">Visit `AddProduct.aspx` through a browser, enter a name and price (see Figure 6).</span></span>


<span data-ttu-id="0a8b5-200">[![Добавить новый продукт в базе данных](interacting-with-the-master-page-from-the-content-page-cs/_static/image17.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="0a8b5-200">[![Add a New Product to the Database](interacting-with-the-master-page-from-the-content-page-cs/_static/image17.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image16.png)</span></span>

<span data-ttu-id="0a8b5-201">**На рисунке 06**: добавить новый продукт в базе данных ([Просмотр полноразмерное изображение](interacting-with-the-master-page-from-the-content-page-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="0a8b5-201">**Figure 06**: Add a New Product to the Database  ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image18.png))</span></span>


<span data-ttu-id="0a8b5-202">После вводить имя и цену для нового продукта, нажмите кнопку "Добавить".</span><span class="sxs-lookup"><span data-stu-id="0a8b5-202">After typing in the name and price for your new product, click the Insert button.</span></span> <span data-ttu-id="0a8b5-203">Это приводит к обратной передаче.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-203">This causes the form to postback.</span></span> <span data-ttu-id="0a8b5-204">При обратной передаче управления SqlDataSource элемента `INSERT` инструкция выполняется; его два параметра, заполняются введенных пользователем значений в двух элементах управления TextBox DetailsView.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-204">On postback, the SqlDataSource control's `INSERT` statement is executed; its two parameters are populated with the user-entered values in the DetailsView's two TextBox controls.</span></span> <span data-ttu-id="0a8b5-205">К сожалению нет не визуальное представление, которое происходит вставка.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-205">Unfortunately, there is no visual feedback that an insert has occurred.</span></span> <span data-ttu-id="0a8b5-206">Было бы полезно обеспечить соответствующее сообщение, подтверждающее, что добавлена запись новой.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-206">It would be nice to have a message displayed, confirming that a new record has been added.</span></span> <span data-ttu-id="0a8b5-207">Я это поле оставить в качестве упражнения для модуля чтения.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-207">I leave this as an exercise for the reader.</span></span> <span data-ttu-id="0a8b5-208">Кроме того, после добавления новой записи в DetailsView GridView в главной страницы по-прежнему показывает же пятью записями как перед; он не включает запись только что добавлен.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-208">Also, after adding a new record from the DetailsView the GridView in the master page still shows the same five records as before; it does not include the just-added record.</span></span> <span data-ttu-id="0a8b5-209">Мы рассмотрим, как это исправить в следующих действиях.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-209">We'll examine how to remedy this in the upcoming steps.</span></span>

> [!NOTE]
> <span data-ttu-id="0a8b5-210">Помимо добавления определенные виды визуальную обратную связь, операция вставки завершилась успешно, я рекомендую также обновить интерфейсу вставки DetailsView, включая проверку.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-210">In addition to adding some form of visual feedback that the insert has succeeded, I'd encourage you to also update the DetailsView's inserting interface to include validation.</span></span> <span data-ttu-id="0a8b5-211">В настоящее время нет никаких проверок.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-211">Currently, there is no validation.</span></span> <span data-ttu-id="0a8b5-212">Если пользователь вводит недопустимое значение для `UnitPrice` поля, такие как «слишком много ресурсов,» будет создано исключение при обратной передаче, если система пытается преобразовать эту строку в десятичное число.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-212">If a user enters an invalid value for the `UnitPrice` field, such as "Too expensive," an exception will be thrown on postback when the system attempts to convert that string into a decimal.</span></span> <span data-ttu-id="0a8b5-213">Дополнительные сведения о настройке Вставка интерфейса см. [ *Настройка интерфейса изменения данных* учебника](../../data-access/editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) из моей [работа с учебника ряда данных](../../data-access/index.md).</span><span class="sxs-lookup"><span data-stu-id="0a8b5-213">For more information on customizing the inserting interface, refer to the [*Customizing the Data Modification Interface* tutorial](../../data-access/editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) from my [Working with Data tutorial series](../../data-access/index.md).</span></span>


## <a name="step-3-creating-public-properties-and-methods-in-the-master-page"></a><span data-ttu-id="0a8b5-214">Шаг 3: Создание открытым свойствам и методам в главной страницы</span><span class="sxs-lookup"><span data-stu-id="0a8b5-214">Step 3: Creating Public Properties and Methods in the Master Page</span></span>

<span data-ttu-id="0a8b5-215">На шаге 1, мы добавили метка веб-элемент управления с именем `GridMessage` выше GridView на главной странице.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-215">In Step 1 we added a Label Web control named `GridMessage` above the GridView in the master page.</span></span> <span data-ttu-id="0a8b5-216">Эта метка предназначен для вывода сообщения при необходимости.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-216">This Label is intended to optionally display a message.</span></span> <span data-ttu-id="0a8b5-217">Например, добавив новую запись для `Products` таблицы, мы хотим видеть следующее сообщение: «*ProductName* был добавлен в базу данных.»</span><span class="sxs-lookup"><span data-stu-id="0a8b5-217">For example, after adding a new record to the `Products` table, we might want to show a message that reads: "*ProductName* has been added to the database."</span></span> <span data-ttu-id="0a8b5-218">Вместо того чтобы жестко текста для метки на главной странице может потребоваться сообщений настраивается с помощью содержимого страницы.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-218">Rather than hard-code the text for this Label in the master page, we might want the message to be customizable by the content page.</span></span>

<span data-ttu-id="0a8b5-219">Поскольку элемент управления Label реализован в виде переменной защищенный элемент на главной странице недоступными непосредственно из содержимого страницы.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-219">Because the Label control is implemented as a protected member variable within the master page it cannot be accessed directly from content pages.</span></span> <span data-ttu-id="0a8b5-220">Для работы с меткой в пределах главной страницы на странице содержимого (или фактически, любые веб-элемент управления на главной странице), нам нужно создать общее свойство на главной странице, который предоставляет веб-элемент управления или выступает в роли прокси-сервера, с помощью которого можно одним из его свойств  доступ к.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-220">In order to work with the Label within a master page from the content page (or, for that matter, any Web control in the master page) we need to create a public property in the master page that exposes the Web control or serves as a proxy by which one of its properties can be accessed.</span></span> <span data-ttu-id="0a8b5-221">Добавьте следующий синтаксис кода класс главной страницы, чтобы предоставлять метку `Text` свойство:</span><span class="sxs-lookup"><span data-stu-id="0a8b5-221">Add the following syntax to the master page's code-behind class to expose the Label's `Text` property:</span></span>


[!code-csharp[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample6.cs)]

<span data-ttu-id="0a8b5-222">При добавлении новой записи `Products` таблицы из страницы содержимого `RecentProducts` GridView на главной странице необходимо привязать его базового источника данных.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-222">When a new record is added to the `Products` table from a content page the `RecentProducts` GridView in the master page needs to rebind to its underlying data source.</span></span> <span data-ttu-id="0a8b5-223">Для повторной привязки вызов GridView его `DataBind` метод.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-223">To rebind the GridView call its `DataBind` method.</span></span> <span data-ttu-id="0a8b5-224">Так как GridView на главной странице не программного доступа к страницы содержимого, нам необходимо создать открытый метод в главной страницы, при вызове, выполняет повторную привязку данных к GridView.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-224">Because the GridView in the master page is not programmatically accessible to the content pages, we need to create a public method in the master page that, when called, rebinds the data to the GridView.</span></span> <span data-ttu-id="0a8b5-225">Добавьте следующий метод класса с выделенным кодом главной страницы:</span><span class="sxs-lookup"><span data-stu-id="0a8b5-225">Add the following method to the master page's code-behind class:</span></span>


[!code-csharp[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample7.cs)]

<span data-ttu-id="0a8b5-226">С `GridMessageText` свойство и `RefreshRecentProductsGrid` метод на месте любой страницы содержимого можно программно задать или прочитать значение `GridMessage` метки `Text` свойство или привяжите данные к `RecentProducts` GridView.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-226">With the `GridMessageText` property and `RefreshRecentProductsGrid` method in place, any content page can programmatically set or read the value of the `GridMessage` Label's `Text` property or rebind the data to the `RecentProducts` GridView.</span></span> <span data-ttu-id="0a8b5-227">Шаг 4 рассматривается для доступа к открытым свойствам и методам главной страницы из страницы содержимого.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-227">Step 4 examines how to access the master page's public properties and methods from a content page.</span></span>

> [!NOTE]
> <span data-ttu-id="0a8b5-228">Не забудьте пометить главной страницы свойств и методов, как `public`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-228">Don't forget to mark the master page's properties and methods as `public`.</span></span> <span data-ttu-id="0a8b5-229">Если вы не указывают явно эти свойства и методы, как `public`, они не будут доступны на странице содержимого.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-229">If you do not explicitly denote these properties and methods as `public`, they will not be accessible from the content page.</span></span>


## <a name="step-4-calling-the-master-pages-public-members-from-a-content-page"></a><span data-ttu-id="0a8b5-230">Шаг 4: Вызов открытые члены главной страницы из страницы содержимого</span><span class="sxs-lookup"><span data-stu-id="0a8b5-230">Step 4: Calling the Master Page's Public Members from a Content Page</span></span>

<span data-ttu-id="0a8b5-231">Теперь, когда главная страница имеет необходимые открытым свойствам и методам, мы готовы для вызова этих свойств и методов из `AddProduct.aspx` страницы содержимого.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-231">Now that the master page has the necessary public properties and methods, we're ready to invoke these properties and methods from the `AddProduct.aspx` content page.</span></span> <span data-ttu-id="0a8b5-232">В частности, нам нужно указать главную страницу `GridMessageText` свойство и вызвать его `RefreshRecentProductsGrid` метод после добавления нового продукта в базу данных.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-232">Specifically, we need to set the master page's `GridMessageText` property and call its `RefreshRecentProductsGrid` method after the new product has been added to the database.</span></span> <span data-ttu-id="0a8b5-233">Все данные Web элементы управления ASP.NET порождения событий, непосредственно перед и после завершения различные задачи, которые облегчают разработчикам выполнение некоторых действий программный до или после задачи.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-233">All the ASP.NET data Web controls fire events immediately before and after completing various tasks, which make it easy for page developers to take some programmatic action either before or after the task.</span></span> <span data-ttu-id="0a8b5-234">Например, когда пользователь нажимает кнопку вставки DetailsView, на обратную передачу DetailsView вызывает его `ItemInserting` событий перед началом вставку рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-234">For example, when the end user clicks the DetailsView's Insert button, on postback the DetailsView raises its `ItemInserting` event before beginning the inserting workflow.</span></span> <span data-ttu-id="0a8b5-235">Затем он вставляет запись в базу данных.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-235">It then inserts the record into the database.</span></span> <span data-ttu-id="0a8b5-236">Вслед за этим вызывает DetailsView его `ItemInserted` событий.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-236">Following that, the DetailsView raises its `ItemInserted` event.</span></span> <span data-ttu-id="0a8b5-237">Таким образом, чтобы работать с главной страницы, после добавления нового продукта, можно создать обработчик событий для элемента DetailsView `ItemInserted` событий.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-237">Therefore, in order to work with the master page after the new product has been added, create an event handler for the DetailsView's `ItemInserted` event.</span></span>

<span data-ttu-id="0a8b5-238">Существует два способа, страницы содержимого программными средствами могут взаимодействовать с главной страницей по:</span><span class="sxs-lookup"><span data-stu-id="0a8b5-238">There are two ways that a content page can programmatically interface with its master page:</span></span>

- <span data-ttu-id="0a8b5-239">С помощью `Page.Master` свойство, которое возвращает ссылку слабо типизированной главной страницы, или</span><span class="sxs-lookup"><span data-stu-id="0a8b5-239">Using the `Page.Master` property, which returns a loosely-typed reference to the master page, or</span></span>
- <span data-ttu-id="0a8b5-240">Укажите страницу главной страницы типа или путь к файлу через `@MasterType` директив; это автоматически добавляет строго типизированным свойством на страницу с именем `Master`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-240">Specify the page's master page type or file path via a `@MasterType` directive; this automatically adds a strongly-typed property to the page named `Master`.</span></span>

<span data-ttu-id="0a8b5-241">Давайте рассмотрим оба подхода.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-241">Let's examine both approaches.</span></span>

### <a name="using-the-loosely-typedpagemasterproperty"></a><span data-ttu-id="0a8b5-242">С помощью слабо типизированной`Page.Master`свойство</span><span class="sxs-lookup"><span data-stu-id="0a8b5-242">Using the Loosely-Typed`Page.Master`Property</span></span>

<span data-ttu-id="0a8b5-243">Все веб-страницах ASP.NET должны быть производными от `Page` класс, который находится в `System.Web.UI` пространства имен.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-243">All ASP.NET web pages must derive from the `Page` class, which is located in the `System.Web.UI` namespace.</span></span> <span data-ttu-id="0a8b5-244">`Page` Класс включает [ `Master` свойство](https://msdn.microsoft.com/library/system.web.ui.page.master.aspx) , возвращающее ссылку на главную страницу.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-244">The `Page` class includes a [`Master` property](https://msdn.microsoft.com/library/system.web.ui.page.master.aspx) that returns a reference to the page's master page.</span></span> <span data-ttu-id="0a8b5-245">Если страница не имеет главной страницы `Master` возвращает `null`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-245">If the page does not have a master page `Master` returns `null`.</span></span>

<span data-ttu-id="0a8b5-246">`Master` Свойство возвращает объект типа [ `MasterPage` ](https://msdn.microsoft.com/library/system.web.ui.masterpage.aspx) (также расположен в `System.Web.UI` пространства имен) которого является базовым типом, от которого наследуют все главные страницы.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-246">The `Master` property returns an object of type [`MasterPage`](https://msdn.microsoft.com/library/system.web.ui.masterpage.aspx) (also located in the `System.Web.UI` namespace) which is the base type from which all master pages derive from.</span></span> <span data-ttu-id="0a8b5-247">Таким образом, чтобы использовать открытые свойства или методы, определенные в нашем сайте главной страницы, нам необходимо привести `MasterPage` объект, возвращенный из `Master` свойство к соответствующему типу.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-247">Therefore, to use public properties or methods defined in our website's master page we must cast the `MasterPage` object returned from the `Master` property to the appropriate type.</span></span> <span data-ttu-id="0a8b5-248">Так как мы назвали наш файл главной страницы `Site.master`, класс кода `Site`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-248">Because we named our master page file `Site.master`, the code-behind class was named `Site`.</span></span> <span data-ttu-id="0a8b5-249">Таким образом, следующий пример кода преобразует `Page.Master` свойство для экземпляра класса сайта.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-249">Therefore, the following code casts the `Page.Master` property to an instance of the Site class.</span></span>


[!code-csharp[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample8.cs)]

<span data-ttu-id="0a8b5-250">Теперь, когда у нас есть приведено слабо типизированной `Page.Master` свойства `Site` тип мы можно ссылаться на свойства и методы, определенные для сайта.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-250">Now that we have casted the loosely-typed `Page.Master` property to the `Site` type we can reference the properties and methods specific to Site.</span></span> <span data-ttu-id="0a8b5-251">Как показано на рис. 7, открытое свойство `GridMessageText` отображается в раскрывающемся списке IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-251">As Figure 7 shows, the public property `GridMessageText` appears in the IntelliSense drop-down.</span></span>


<span data-ttu-id="0a8b5-252">[![IntelliSense отображает общие свойства и методы нашей главной страницы](interacting-with-the-master-page-from-the-content-page-cs/_static/image20.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="0a8b5-252">[![IntelliSense Shows our Master Page's Public Properties and Methods](interacting-with-the-master-page-from-the-content-page-cs/_static/image20.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image19.png)</span></span>

<span data-ttu-id="0a8b5-253">**На рисунке 07**: IntelliSense отображает общие свойства и методы нашей главной страницы ([Просмотр полноразмерное изображение](interacting-with-the-master-page-from-the-content-page-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="0a8b5-253">**Figure 07**: IntelliSense Shows our Master Page's Public Properties and Methods  ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image21.png))</span></span>


> [!NOTE]
> <span data-ttu-id="0a8b5-254">Если имя главного файла подкачки `MasterPage.master` является имя класса кода программной части главной страницы `MasterPage`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-254">If you named your master page file `MasterPage.master` then the master page's code-behind class name is `MasterPage`.</span></span> <span data-ttu-id="0a8b5-255">Это может привести к неоднозначным кода при приведении из типа `System.Web.UI.MasterPage` для вашей `MasterPage` класса.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-255">This can lead to ambiguous code when casting from the type `System.Web.UI.MasterPage` to your `MasterPage` class.</span></span> <span data-ttu-id="0a8b5-256">Иными словами необходимо полностью определить тип, к которому выполняется приведение, который может быть немного сложным, при использовании модели проекта веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-256">In short, you need to fully qualify the type you are casting to, which can be a little tricky when using the Web Site Project model.</span></span> <span data-ttu-id="0a8b5-257">Мое предложение было бы либо убедитесь, что при создании главной странице присвоить файлу имя, что-то отличное от `MasterPage.master` или даже лучше, создайте строго типизированную ссылку на главную страницу.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-257">My suggestion would be to either make sure that when you create your master page you name it something other than `MasterPage.master` or, even better, create a strongly-typed reference to the master page.</span></span>


### <a name="creating-a-strongly-typed-reference-with-themastertypedirective"></a><span data-ttu-id="0a8b5-258">Создание ссылки на строго типизированные ссылки`@MasterType`директивы</span><span class="sxs-lookup"><span data-stu-id="0a8b5-258">Creating a Strongly-Typed Reference with the`@MasterType`Directive</span></span>

<span data-ttu-id="0a8b5-259">Если внимательно вы увидите, что класс кода страницы ASP.NET — это разделяемый класс (Примечание `partial` ключевого слова в определении класса).</span><span class="sxs-lookup"><span data-stu-id="0a8b5-259">If you look closely you can see that an ASP.NET page's code-behind class is a partial class (note the `partial` keyword in the class definition).</span></span> <span data-ttu-id="0a8b5-260">Разделяемые классы были представлены в C# и Visual Basic, построенной при помощи.NET Framework 2.0 и, по сути, разрешить членам класс определен в нескольких файлах.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-260">Partial classes were introduced in C# and Visual Basic with.NET Framework 2.0 and, in a nutshell, allow for a class's members to be defined across multiple files.</span></span> <span data-ttu-id="0a8b5-261">Файл класса кода программной - `AddProduct.aspx.cs`, например - содержит код, который мы разработчик страницы создания.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-261">The code-behind class file - `AddProduct.aspx.cs`, for example - contains the code that we, the page developer, create.</span></span> <span data-ttu-id="0a8b5-262">Помимо наш код обработчика ASP.NET автоматически создает отдельный файл класса со свойствами и обработчики событий в том, что переводиться декларативная разметка страницы иерархии классов.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-262">In addition to our code, the ASP.NET engine automatically creates a separate class file with properties and event handlers in that translate the declarative markup into the page's class hierarchy.</span></span>

<span data-ttu-id="0a8b5-263">Автоматическое генерирование кода, выполняемую при посещении страницы ASP.NET создает условия для некоторых вместо источником интересных и полезных возможностей.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-263">The automatic code generation that occurs whenever an ASP.NET page is visited paves the way for some rather interesting and useful possibilities.</span></span> <span data-ttu-id="0a8b5-264">В случае главные страницы, если мы сообщаем ядро ASP.NET главную страницу используется нашу страницу содержимого он создает строго типизированной `Master` свойство для нас.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-264">In the case of master pages, if we tell the ASP.NET engine what master page is being used by our content page it generates a strongly-typed `Master` property for us.</span></span>

<span data-ttu-id="0a8b5-265">Используйте [ `@MasterType` директивы](https://msdn.microsoft.com/library/ms228274.aspx) для оповещения подсистемы тип страницы содержимого главной страницы ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-265">Use the [`@MasterType` directive](https://msdn.microsoft.com/library/ms228274.aspx) to inform the ASP.NET engine of the content page's master page type.</span></span> <span data-ttu-id="0a8b5-266">`@MasterType` Директива может принимать либо имя типа главной страницы или пути к файлу.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-266">The `@MasterType` directive can accept either the type name of the master page or its file path.</span></span> <span data-ttu-id="0a8b5-267">Чтобы указать, что `AddProduct.aspx` страница использует `Site.master` как его Главная страница, добавьте следующую директиву в начало `AddProduct.aspx`:</span><span class="sxs-lookup"><span data-stu-id="0a8b5-267">To specify that the `AddProduct.aspx` page uses `Site.master` as its master page, add the following directive to the top of `AddProduct.aspx`:</span></span>


[!code-aspx[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample9.aspx)]

<span data-ttu-id="0a8b5-268">Эта директива модулю ASP.NET добавить строго типизированную ссылку на главную страницу через свойство с именем `Master`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-268">This directive instructs the ASP.NET engine to add a strongly-typed reference to the master page through a property named `Master`.</span></span> <span data-ttu-id="0a8b5-269">С `@MasterType` директив на месте, можно вызвать `Site.master` главный открытые свойства и методы, которые напрямую с помощью страницы `Master` свойство без любого приведения.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-269">With the `@MasterType` directive in place, we can call the `Site.master` master page's public properties and methods directly through the `Master` property without any casts.</span></span>

> [!NOTE]
> <span data-ttu-id="0a8b5-270">Если не указан `@MasterType` директивы, синтаксис `Page.Master` и `Master` возвращают одно и то же самое: слабо типизированный объект для главной страницы.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-270">If you omit the `@MasterType` directive, the syntax `Page.Master` and `Master` return the same thing: a loosely-typed object to the page's master page.</span></span> <span data-ttu-id="0a8b5-271">При включении `@MasterType` директива затем `Master` возвращает строго типизированную ссылку на указанную главную страницу.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-271">If you include the `@MasterType` directive then `Master` returns a strongly-typed reference to the specified master page.</span></span> <span data-ttu-id="0a8b5-272">`Page.Master`, однако по-прежнему возвращает слабо типизированную ссылку.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-272">`Page.Master`, however, still returns a loosely-typed reference.</span></span> <span data-ttu-id="0a8b5-273">Для более глубокого разговор о том, почему это происходит и как `Master` свойство создается при `@MasterType` включении директивы см. в разделе [к. Скотт Аллен](http://odetocode.com/blogs/scott/default.aspx)в записи блога [ `@MasterType` в ASP.NET 2.0](http://odetocode.com/Blogs/scott/archive/2005/07/16/1944.aspx).</span><span class="sxs-lookup"><span data-stu-id="0a8b5-273">For a more thorough look at why this is the case and how the `Master` property is constructed when the `@MasterType` directive is included, see [K. Scott Allen](http://odetocode.com/blogs/scott/default.aspx)'s blog entry [`@MasterType` in ASP.NET 2.0](http://odetocode.com/Blogs/scott/archive/2005/07/16/1944.aspx).</span></span>


### <a name="updating-the-master-page-after-adding-a-new-product"></a><span data-ttu-id="0a8b5-274">Обновление главной страницы после добавления нового продукта</span><span class="sxs-lookup"><span data-stu-id="0a8b5-274">Updating the Master Page After Adding a New Product</span></span>

<span data-ttu-id="0a8b5-275">Теперь, когда мы знаем, как вызывать общие свойства и методы из страницы содержимого главной страницы, все готово для обновления `AddProduct.aspx` страницы, чтобы главная страница обновляется после добавления нового продукта.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-275">Now that we know how to invoke a master page's public properties and methods from a content page, we're ready to update the `AddProduct.aspx` page so that the master page is refreshed after adding a new product.</span></span> <span data-ttu-id="0a8b5-276">В начале шага 4 мы создали обработчик событий для элемента управления DetailsView `ItemInserting` событие, которое выполняется сразу после новый продукт был добавлен в базу данных.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-276">At the beginning of Step 4 we created an event handler for the DetailsView control's `ItemInserting` event, which executes immediately after the new product has been added to the database.</span></span> <span data-ttu-id="0a8b5-277">Добавьте следующий код для этого обработчика событий:</span><span class="sxs-lookup"><span data-stu-id="0a8b5-277">Add the following code to that event handler:</span></span>


[!code-csharp[Main](interacting-with-the-master-page-from-the-content-page-cs/samples/sample10.cs)]

<span data-ttu-id="0a8b5-278">Приведенный выше код используется как слабо типизированный `Page.Master` свойство и строго типизированные `Master` свойство.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-278">The above code uses both the loosely-typed `Page.Master` property and the strongly-typed `Master` property.</span></span> <span data-ttu-id="0a8b5-279">Обратите внимание, что `GridMessageText` свойство имеет значение «*ProductName* сетке...» Значения только что добавленные продукта, доступны через `e.Values` коллекции; так как вы видите, только что добавленные `ProductName` значение возможен только через `e.Values["ProductName"]`.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-279">Note that the `GridMessageText` property is set to "*ProductName* added to grid..." The just-added product's values are accessible through the `e.Values` collection; as you can see, the just-added `ProductName` value is accessed via `e.Values["ProductName"]`.</span></span>

<span data-ttu-id="0a8b5-280">На рисунке 8 показана `AddProduct.aspx` страницу сразу же после нового продукта - Скотта Soda - был добавлен в базу данных.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-280">Figure 8 shows the `AddProduct.aspx` page immediately after a new product - Scott's Soda - has been added to the database.</span></span> <span data-ttu-id="0a8b5-281">Обратите внимание, название продукта, только что добавленные, указывается в метке главной страницы и что GridView обновления для включения продукта и его цену.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-281">Note that the just-added product name is noted in the master page's Label and that the GridView has been refreshed to include the product and its price.</span></span>


<span data-ttu-id="0a8b5-282">[![Метка главной страницы и GridView Показать только что добавленные продукта](interacting-with-the-master-page-from-the-content-page-cs/_static/image23.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="0a8b5-282">[![The Master Page's Label and GridView Show the Just-Added Product](interacting-with-the-master-page-from-the-content-page-cs/_static/image23.png)](interacting-with-the-master-page-from-the-content-page-cs/_static/image22.png)</span></span>

<span data-ttu-id="0a8b5-283">**На рисунке 08**: метка и GridView главной страницы отображаются продукты Just-Added ([Просмотр полноразмерное изображение](interacting-with-the-master-page-from-the-content-page-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="0a8b5-283">**Figure 08**: The Master Page's Label and GridView Show the Just-Added Product ([Click to view full-size image](interacting-with-the-master-page-from-the-content-page-cs/_static/image24.png))</span></span>


## <a name="summary"></a><span data-ttu-id="0a8b5-284">Сводка</span><span class="sxs-lookup"><span data-stu-id="0a8b5-284">Summary</span></span>

<span data-ttu-id="0a8b5-285">В идеальном случае главной страницы и его страниц полностью отделены друг от друга и уровень взаимодействия не требуется.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-285">Ideally, a master page and its content pages are completely separate from one another and require no level of interaction.</span></span> <span data-ttu-id="0a8b5-286">Хотя главные страницы и страницы содержимого должны разрабатываться с этой целью в, существует ряд распространенных сценариев, в которых страницу содержимого необходимо взаимодействовать с главной страницей по.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-286">While master pages and content pages should be designed with that goal in mind, there are a number of common scenarios in which a content page must interface with its master page.</span></span> <span data-ttu-id="0a8b5-287">Одной из наиболее распространенных причин основано на обновление конкретной части экрана главной страницы, на основе некоторые действия, который задан на странице содержимого.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-287">One of the most common reasons centers around updating a particular portion of the master page display based on some action that transpired in the content page.</span></span>

<span data-ttu-id="0a8b5-288">Хорошие новости — это относительно простой для программного взаимодействия с главной страницей по содержимого страницы.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-288">The good news is that it's relatively straightforward to have a content page programmatically interact with its master page.</span></span> <span data-ttu-id="0a8b5-289">Начните с создания открытые свойства или методы в главной страницей, инкапсулирующие функциональные возможности, что должно быть инициировано страницу содержимого.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-289">Start by creating public properties or methods in the master page that encapsulate the functionality that needs to be invoked by a content page.</span></span> <span data-ttu-id="0a8b5-290">Затем на странице содержимого доступными свойства и методы главной страницы через слабо типизированные `Page.Master` свойства или используйте `@MasterType` директивы для создания строго типизированную ссылку на главную страницу.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-290">Then, in the content page, access the master page's properties and methods through the loosely-typed `Page.Master` property or use the `@MasterType` directive to create a strongly-typed reference to the master page.</span></span>

<span data-ttu-id="0a8b5-291">В следующем уроке мы рассмотрим, как у главной страницы программного взаимодействия с помощью одного из его страниц.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-291">In the next tutorial we examine how to have the master page programmatically interact with one of its content pages.</span></span>

<span data-ttu-id="0a8b5-292">Программирование довольны!</span><span class="sxs-lookup"><span data-stu-id="0a8b5-292">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="0a8b5-293">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="0a8b5-293">Further Reading</span></span>

<span data-ttu-id="0a8b5-294">Дополнительные сведения по темам, рассматриваемые в этом учебнике см. в следующих ресурсах:</span><span class="sxs-lookup"><span data-stu-id="0a8b5-294">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="0a8b5-295">Просмотр и обновление данных в ASP.NET</span><span class="sxs-lookup"><span data-stu-id="0a8b5-295">Accessing and Updating Data in ASP.NET</span></span>](http://aspnet.4guysfromrolla.com/articles/011106-1.aspx)
- [<span data-ttu-id="0a8b5-296">Главные страницы ASP.NET: Советы, рекомендации и ловушек</span><span class="sxs-lookup"><span data-stu-id="0a8b5-296">ASP.NET Master Pages: Tips, Tricks, and Traps</span></span>](http://www.odetocode.com/articles/450.aspx)
- [<span data-ttu-id="0a8b5-297">`@MasterType` в ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="0a8b5-297">`@MasterType` in ASP.NET 2.0</span></span>](http://odetocode.com/Blogs/scott/archive/2005/07/16/1944.aspx)
- [<span data-ttu-id="0a8b5-298">Передача сведений об между содержимым и главных страниц</span><span class="sxs-lookup"><span data-stu-id="0a8b5-298">Passing Information Between Content and Master Pages</span></span>](http://aspnet.4guysfromrolla.com/articles/013107-1.aspx)
- [<span data-ttu-id="0a8b5-299">Работа с данными в учебниках ASP.NET</span><span class="sxs-lookup"><span data-stu-id="0a8b5-299">Working with Data in ASP.NET Tutorials</span></span>](../../data-access/index.md)

### <a name="about-the-author"></a><span data-ttu-id="0a8b5-300">Об авторе</span><span class="sxs-lookup"><span data-stu-id="0a8b5-300">About the Author</span></span>

<span data-ttu-id="0a8b5-301">[Скотт Митчелл](http://www.4guysfromrolla.com/ScottMitchell.shtml), автор по ASP/ASP.NET и основатель 4GuysFromRolla.com, работает с веб-технологиями Майкрософт с 1998 года.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-301">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="0a8b5-302">Скотт — независимый консультант, trainer и записи.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-302">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="0a8b5-303">Его последняя книга — [ *диспетчерами учат самостоятельно ASP.NET 3.5 в течение 24 часов*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="0a8b5-303">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="0a8b5-304">Скотт может быть достигнута по [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com) или через его блог по [ http://ScottOnWriting.NET ](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="0a8b5-304">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="0a8b5-305">Благодарности</span><span class="sxs-lookup"><span data-stu-id="0a8b5-305">Special Thanks To</span></span>

<span data-ttu-id="0a8b5-306">Этот учебник ряд прошел проверку многие полезные рецензентов.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-306">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="0a8b5-307">Основной рецензент этого учебника было Зак Джонс.</span><span class="sxs-lookup"><span data-stu-id="0a8b5-307">Lead reviewer for this tutorial was Zack Jones.</span></span> <span data-ttu-id="0a8b5-308">Объясняются моих последующих статей для MSDN?</span><span class="sxs-lookup"><span data-stu-id="0a8b5-308">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="0a8b5-309">Если Да, напишите мне по [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="0a8b5-309">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="0a8b5-310">[Назад](control-id-naming-in-content-pages-cs.md)
> [Вперед](interacting-with-the-content-page-from-the-master-page-cs.md)</span><span class="sxs-lookup"><span data-stu-id="0a8b5-310">[Previous](control-id-naming-in-content-pages-cs.md)
[Next](interacting-with-the-content-page-from-the-master-page-cs.md)</span></span>
