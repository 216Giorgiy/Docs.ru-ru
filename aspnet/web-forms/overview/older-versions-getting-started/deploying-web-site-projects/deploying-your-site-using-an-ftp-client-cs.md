---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-your-site-using-an-ftp-client-cs
title: Развертывание узла с помощью FTP-клиента (C#) | Документы Microsoft
author: rick-anderson
description: Самый простой способ развертывания приложения ASP.NET требуется вручную скопировать необходимые файлы из среды разработки в рабочую среду. Этом...
ms.author: aspnetcontent
manager: wpickett
ms.date: 04/01/2009
ms.topic: article
ms.assetid: a3599cf7-8474-4006-954a-3bc693736b66
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-your-site-using-an-ftp-client-cs
msc.type: authoredcontent
ms.openlocfilehash: 3b7add6765374fc3e5dba2c90239102354da3922
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2018
---
<a name="deploying-your-site-using-an-ftp-client-c"></a>Развертывание узла с помощью FTP-клиента (C#)
====================
по [Скотт Митчелл](https://twitter.com/ScottOnWriting)

[Загрузить код](http://download.microsoft.com/download/4/5/F/45F815EC-8B0E-46D3-9FB8-2DC015CCA306/ASPNET_Hosting_Tutorial_03_CS.zip) или [скачать PDF](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial03_DeployingViaFTP_cs.pdf)

> Самый простой способ развертывания приложения ASP.NET требуется вручную скопировать необходимые файлы из среды разработки в рабочую среду. Этого учебника показано, как использовать FTP-клиент, чтобы получить файлы с рабочего стола на поставщике веб-узла.


## <a name="introduction"></a>Вступление

Работу с предыдущим учебником появился простой книги проверки веб-приложения ASP.NET, который состоит из нескольких страниц ASP.NET, главной страницы, пользовательской базы `Page` класса количество изображений, и таблицы стилей CSS три. Теперь мы готовы к развертыванию этого приложения к поставщику веб-узла, после чего приложение будет доступна любому пользователю с подключением к Интернету!


В нашем обсуждений [ *определения файлов, которые должны быть развернуты* ](determining-what-files-need-to-be-deployed-cs.md) учебника мы знаем, что файлы должны быть скопированы на поставщике веб-узла. (Помните, что то, какие файлы будут скопированы зависит от приложения явно или автоматически скомпилирован ли). Но, как получить файлы из среды разработки (наш рабочий стол) до рабочей среде (веб-сервер под управлением поставщике веб-размещения)? [ **F** ile **T** на перемещение **P** пароля (FTP)](http://en.wikipedia.org/wiki/File_Transfer_Protocol) — это протокол, часто используемых для копирования файлов с одного компьютера на другой по сети. Другой вариант — серверные расширения FrontPage (FPSE). Это учебник посвящен с помощью автономного клиентское программное обеспечение FTP для развертывания необходимых файлов из среды разработки в рабочую среду.

> [!NOTE]
> Visual Studio включает инструменты для публикации веб-сайтов по протоколу FTP; Эти средства, а также рассмотрим инструменты, использующих FPSE, рассматриваются в следующем уроке.


Чтобы скопировать файлы с помощью FTP, нам нужно *FTP-клиент* в среде разработки. FTP-клиент — это приложение, предназначенных для копирования файлов с компьютера, он установлен на компьютере, на котором выполняется *FTP-сервера*. (Если поставщик узла web поддерживает передачу файлов по протоколу FTP, как и большинство, то нет FTP-сервера, работающих на своих веб-серверов.) Существует несколько клиентских приложений FTP. Можно даже double FTP-клиент веб-браузере. Мои FTP-клиента, а также тем, который будет использоваться для этого учебника — [FileZilla](http://filezilla-project.org/), бесплатные, открытая FTP-клиента, доступные для Windows, Linux и компьютерах Mac. Любой FTP-клиент будет работать, хотя, поэтому теперь можете использовать любой клиент вы удовлетворены наиболее.

Если вы следуете вдоль вы должны создать учетную запись с поставщике узла, прежде чем можно завершит этого учебника или последующие условия. Как отмечалось в предыдущем учебнике существует того компаний поставщика веб-узла с широкого спектра цены, функции и качество обслуживания. Для этого учебника ряда будет использоваться [скидки ASP.NET](http://discountasp.net) как Мой веб-узел поставщика, но можно выполнить вместе с любым поставщиком веб узла до тех пор, пока они поддерживают версии ASP.NET, веб-узла, разработанных в. (В этих учебниках были созданы с помощью ASP.NET 3.5.) Кроме того так как мы будут копироваться файлы на поставщике веб-узла с помощью протокола FTP в этот учебник и в будущем версии крайне важно, поставщик веб узла поддерживает доступа по FTP для своих веб-серверов. Практически все веб-узла поставщиками предоставляют эту функцию, но следует повторно проверить перед регистрацией.

## <a name="deploying-the-book-review-web-application-project"></a>Развертывание проекта книги проверки веб-приложения

Помните, что существуют две версии рецензия на книгу веб-приложения: один реализовано с помощью модели проекта веб-приложения (BookReviewsWAP), а другой с помощью модели проекта веб-сайта (BookReviewsWSP). Тип проекта влияет ли компиляции сайта автоматически или явно, и определяет эту модель компиляции файлов, которые должны быть развернуты. Следовательно будут рассмотрены развертывание проектов BookReviewsWAP и BookReviewsWSP по отдельности, начиная с BookReviewsWAP. Занять некоторое время для загрузки этих двух приложений ASP.NET, если вы еще не сделано.

Запустите проект BookReviewsWAP, перейдя к `BookReviewsWAP` папку и дважды щелкните `BookReviewsWAP.sln` файла. Перед развертыванием проекта важно для построения его, чтобы убедиться, что любые изменения в исходный код, включены в скомпилированной сборке. Для построения проекта перейдите в меню "Построение" и выберите пункт меню BookReviewsWAP сборки. Исходный код в проект компилируется в одну сборку, `BookReviewsWAP.dll`, размещенного в `Bin` папки.

Теперь мы готовы к развертыванию необходимые файлы! Запустите ваш FTP-клиента и подключитесь к веб-сервера на сайте поставщика узла web. (При регистрации веб-хостинга они уведомим вас сведения о подключении к FTP-серверу; она включает адрес FTP-сервера, а также имя пользователя и пароль).

Скопируйте следующие файлы с рабочего стола в корневую папку веб-сайта, на сайте поставщика узла web. Когда вы FTP на веб-сервер в Интернете размещения поставщика скорее всего в корневом каталоге веб-сайта. Однако некоторые веб-узла поставщиками иметь вложенную папку с именем `www` или `wwwroot` , служит в качестве корневой папки для файлов веб-сайта. Наконец, когда FTPing файлы может потребоваться создать соответствующую структуру папок в рабочей среде - `Bin` папки, `Fiction` папки, `Images` папки и т. д.

- `~/Default.aspx`
- `~/About.aspx`
- `~/Site.master`
- `~/Web.config`
- `~/Web.sitemap`
- Полное содержимое `Styles` папки
- Полное содержимое `Images` папку (и ее подпапке `BookCovers`)
- `~/Fiction/Default.aspx`
- `~/Fiction/Blaze.aspx`
- `~/Tech/Default.aspx`
- `~/Tech/CYOW.aspx`
- `~/Tech/TYASP35.aspx`
- `~/Bin/BookReviewsWAP.dll`

Рисунок 1 демонстрирует FileZilla, скопировав все необходимые файлы. FileZilla отображает файлы локального компьютера в левой части и файлов на удаленном компьютере в правой части. Как представлена на рисунке 1, файлы исходного кода ASP.NET, такие как `About.aspx.cs`, находятся на локальном компьютере (среда разработки), но не были скопированы на поставщике веб-узла (рабочей среде), так как файлы кода не обязательно должны быть развернуты при использовании явную компиляцию.

> [!NOTE]
> Нет никакого вреда, кроме того, файлы исходного кода на рабочем сервере, как они будут проигнорированы. По умолчанию ASP.NET запрещает HTTP-запросы для файлов исходного кода, так что даже при наличии файлов исходного кода на рабочем сервере они недоступны для посетителей веб-сайта. (То есть, в том случае, если пользователь пытается выполнить посетите `http://www.yoursite.com/Default.aspx.cs` они получат страницу ошибки, объясняющее, что эти типы файлов — `.cs` файлы - запрещены.)


[![Использовать FTP-клиент, чтобы скопировать необходимые файлы с рабочего стола на веб-сервер на поставщике веб-размещения](deploying-your-site-using-an-ftp-client-cs/_static/image2.png)](deploying-your-site-using-an-ftp-client-cs/_static/image1.png)

**Рис. 1**: использовать FTP-клиента для копирования необходимых файлов из рабочего стола на веб-сервер на поставщике веб-размещения ([Просмотр полноразмерное изображение](deploying-your-site-using-an-ftp-client-cs/_static/image3.png))


После развертывания веб-узла мгновение тестирование сайта. Если вы приобрели имя домена и параметры DNS настроены правильно, посещающие ваш сайт, указав имя домена. Кроме того, поставщика узла веб должен предоставил URL-адрес веб-сайта которого будет выглядеть примерно как *accountname*. *webhostprovider*.com или *webhostprovider*.com /*accountname*. Например, является URL-адрес для моей учетной записи на скидки ASP.NET: `http://httpruntime.web703.discountasp.net`.

На рисунке 2 показан развернутой рецензий сайт. Обратите внимание, что я просматриваю его на ASP скидки. Серверы в сети в `http://httpruntime.web703.discountasp.net`. На данный момент времени любой пользователь с подключением к Интернету может просматривать веб-узел! Как мы ожидать сайта выглядит и работает так же, как при тестировании в среде разработки.

> [!NOTE]
> Если возникает сообщение об ошибке при просмотре приложения теперь пора убедитесь, что вы уже развернули правильный набор файлов. Затем проверьте сообщение об ошибке, чтобы увидеть, если оно показывает все вам определить проблему. Вслед за этим можно включать в службу технической поддержки компании веб узла или опубликуйте свой вопрос на форуме, соответствующие по [форумы ASP.NET](https://forums.asp.net/).


[![Узел проверки книги теперь доступен любому пользователю с подключением к Интернету](deploying-your-site-using-an-ftp-client-cs/_static/image5.png)](deploying-your-site-using-an-ftp-client-cs/_static/image4.png)

**На рисунке 2**: узел проверки книги теперь доступен любому пользователю с подключением к Интернету ([Просмотр полноразмерное изображение](deploying-your-site-using-an-ftp-client-cs/_static/image6.png))


## <a name="deploying-the-book-review-web-site-project"></a>Развертывание проекта веб-сайта просмотрите книги

При развертывании приложения ASP.NET, использующего автоматическую компиляцию, такие как проект веб-сайта BookReviewsWSP, нет никакой скомпилированной сборки, в `Bin` папки. В результате файлов исходного кода веб-приложения должны быть развернуты в рабочей среде. Рассмотрим этот процесс.

Как с помощью проекта веб-приложения имеет смысл первого построения приложения перед его развертыванием. Во время построения проекта веб-сайта не приводит к созданию сборки, он проверяет наличие ошибок компиляции на странице. Более высокий уровень, чтобы найти эти ошибки, а не наличие посетителям сайта обнаруживать их для вас!

После успешного построения проекта позволяет скопируйте следующие файлы в корневую папку веб-сайта, на сайте поставщика узла web вашего FTP-клиента. Необходимо создать соответствующую структуру папок в рабочей среде.

> [!NOTE]
> Если вы уже развернули BookReviewsWAP, проект, но по-прежнему требуется попробуйте выполнить развертывание проекта BookReviewsWSP, сначала удалите все файлы на веб-сервере, которые были отправлены при развертывании BookReviewsWAP, а затем развернуть файлы для BookReviewsWSP.


- `~/Default.aspx`
- `~/Default.aspx.cs`
- `~/About.aspx`
- `~/About.aspx.cs`
- `~/Site.master`
- `~/Site.master.cs`
- `~/Web.config`
- `~/Web.sitemap`
- Полное содержимое `Styles` папки
- Полное содержимое `Images` папку (и ее подпапке `BookCovers`)
- `~/App_Code/BasePage.cs`
- `~/Fiction/Default.aspx`
- `~/Fiction/Default.aspx.cs`
- `~/Fiction/Blaze.aspx`
- `~/Fiction/Blaze.aspx.cs`
- `~/Tech/Default.aspx`
- `~/Tech/Default.aspx.cs`
- `~/Tech/CYOW.aspx`
- `~/Tech/CYOW.aspx.cs`
- `~/Tech/TYASP35.aspx`
- `~/Tech/TYASP35.aspx.cs`

На рисунке 3 показана FileZilla после копирования копии необходимых файлов. Как видите, ASP.NET файлы исходного кода, такие как `About.aspx.cs`, присутствуют на локальном компьютере (среда разработки) и поставщике веб-размещения (рабочей среде), так как файлы кода должны быть развернуты при использовании автоматического Компиляция по требованию.


[![Использовать FTP-клиент, чтобы скопировать необходимые файлы с рабочего стола на веб-сервер на поставщике веб-размещения](deploying-your-site-using-an-ftp-client-cs/_static/image8.png)](deploying-your-site-using-an-ftp-client-cs/_static/image7.png)

**Рис. 3**: использовать FTP-клиента для копирования необходимых файлов из рабочего стола на веб-сервер на поставщике веб-размещения ([Просмотр полноразмерное изображение](deploying-your-site-using-an-ftp-client-cs/_static/image9.png))


Взаимодействие с пользователем не затрагивается модель компиляции приложения. Одинаковые страницы ASP.NET доступны, и они выглядят и работают так же, является ли веб-сайт был создан с помощью модели проекта веб-приложения или модели проекта веб-сайта.

### <a name="updating-a-web-application-on-production"></a>Обновление веб-приложения в рабочей среде

Разработка веб-приложений и развертывания не однократный процесс. Например при создании веб-сайта рецензия на книгу я построен различные страницы и сопутствующие написали на моем компьютере personal (среда разработки). После достижения определенного стабильного состояния, я развернул Мое приложение, чтобы другие удалось на узле и чтение Мои проверки. Но развертывания не отмечает конец свои разработки на этом сайте. Может добавить дополнительные рецензий или реализации новых функций, таких как my посетителями скорость электронной или оставить свои комментарии. Такие улучшения бы следует разрабатывать в среде разработки и после завершения будет необходимо развернуть. Разработка и развертывание, следовательно, являются cyclical. Можно разрабатывать приложения, а затем развернуть его. При динамической сайта и в рабочей среде, добавлены новые функции и исправления ошибок со временем, которому требуются повторного развертывания приложения. И так далее и т. д.

Как и следует ожидать, при повторном развертывании веб-приложения, необходимо скопировать новые и измененные файлы. Нет необходимости повторно развертывания страниц без изменений или файлы поддержки стороне сервера или клиента (несмотря на то, что нет никакого вреда таким образом).

> [!NOTE]
> Также необходимо учитывать при использовании явную компиляцию, что в любой момент добавить новую страницу ASP.NET в проект или вносить изменения, связанные с кодом, необходимо заново постройте проект, который обновляет сборку в `Bin` папки. Следовательно необходимо будет скопировать этот обновленную сборку в рабочей среде, при обновлении веб-приложения в рабочей среде (а также другие новые и обновленные содержимое).


Также понимать, что любые изменения `Web.config` или файлов в `Bin` directory остановки и перезапуска пула приложений веб-сайта. Если состояние сеанса хранится с использованием `InProc` режиме (по умолчанию), а затем посетителей веб-узла будут потеряны свое состояние сеанса, каждый раз, когда эти ключевые файлы были изменены. Чтобы избежать этого неудобства, имеет смысл сохранить сеанс с помощью `StateServer` или `SQLServer` режимы. Дополнительные сведения по этой теме [режимы состояния сеанса](https://msdn.microsoft.com/library/ms178586.aspx).

Наконец Имейте в виду, что повторного развертывания приложения может занять от нескольких секунд до нескольких минут, в зависимости от числа и размера файлов, которые должны быть скопированы в рабочую среду. В течение этого времени посетителей веб-узла могут возникать ошибки или странного поведения. Можно «отключить» всего приложения, добавив на страницу с именем `App_Offline.htm` корневой каталог приложения, объясняющий пользователям, что сайт остановлен для обслуживания (и т. д) и будет вскоре перейдет в резервное копирование. Когда `App_Offline.htm` файл присутствует, среда выполнения ASP.NET перенаправляет все входящие запросы к этой странице.

## <a name="summary"></a>Сводка

Развертывание веб-приложения включает в себя копирование необходимых файлов из среды разработки в рабочую среду. Протокол передачи файлов (FTP) — наиболее распространенные средства, с помощью которого файлы передаются по сети и FTP-доступ на своих веб-серверы поддерживают большинство поставщиков веб-узла. В этом учебнике мы узнали, как использовать FTP-клиента для развертывания необходимых файлов на веб-сервер. После развертывания веб-сайта могут быть посетители с подключением к Интернету!

Программирование довольны!

### <a name="further-reading"></a>Дополнительные сведения

Дополнительные сведения по темам, рассматриваемые в этом учебнике см. в следующих ресурсах:

- [Приложение\_Offline.htm и обходу компонент «Понятного имени IE ошибок»](https://weblogs.asp.net/scottgu/App_5F00_Offline.htm-and-working-around-the-_2200_IE-Friendly-Errors_2200_-feature)
- [Режимы состояния сеанса](https://msdn.microsoft.com/library/ms178586.aspx)

> [!div class="step-by-step"]
> [Назад](determining-what-files-need-to-be-deployed-cs.md)
> [Вперед](deploying-your-site-using-visual-studio-cs.md)
