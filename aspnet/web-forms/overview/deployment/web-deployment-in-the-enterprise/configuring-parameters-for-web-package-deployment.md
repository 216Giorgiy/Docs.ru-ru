---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/configuring-parameters-for-web-package-deployment
title: "Настройка параметров для развертывания веб-пакета | Документы Microsoft"
author: jrjlee
description: "Описывается, как задать значения параметров, таких как имена веб-приложений Internet Information Services (IIS), строки подключения и конечные точки службы..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: 37947d79-ab1e-4ba9-9017-52e7a2757414
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/configuring-parameters-for-web-package-deployment
msc.type: authoredcontent
ms.openlocfilehash: 12a4ba8ad30df43e7192500ad4514dfa9679f899
ms.sourcegitcommit: 493a215355576cfa481773365de021bcf04bb9c7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/15/2018
---
<a name="configuring-parameters-for-web-package-deployment"></a><span data-ttu-id="3c119-103">Настройка параметров для развертывания веб-пакета</span><span class="sxs-lookup"><span data-stu-id="3c119-103">Configuring Parameters for Web Package Deployment</span></span>
====================
<span data-ttu-id="3c119-104">по [Джейсон Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="3c119-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="3c119-105">Скачать PDF</span><span class="sxs-lookup"><span data-stu-id="3c119-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="3c119-106">Описывается, как задать значения параметров, таких как имена веб-приложений Internet Information Services (IIS), строки подключения и конечные точки службы, при развертывании веб-пакета на удаленном веб-сервере IIS.</span><span class="sxs-lookup"><span data-stu-id="3c119-106">This topic describes how to set parameter values, like Internet Information Services (IIS) web application names, connection strings, and service endpoints, when you deploy a web package to a remote IIS web server.</span></span>


<span data-ttu-id="3c119-107">При построении проекта веб-приложения, построения и обработки пакетов создает три файла ключа:</span><span class="sxs-lookup"><span data-stu-id="3c119-107">When you build a web application project, the build and packaging process generates three key files:</span></span>

- <span data-ttu-id="3c119-108">Объект *.zip [имя проекта]* файл.</span><span class="sxs-lookup"><span data-stu-id="3c119-108">A *[project name].zip* file.</span></span> <span data-ttu-id="3c119-109">Это пакет веб-развертывания для проекта веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="3c119-109">This is the web deployment package for your web application project.</span></span> <span data-ttu-id="3c119-110">Этот пакет содержит все сборки, файлы, скрипты базы данных и ресурсов, необходимых для повторного создания веб-приложения на удаленном веб-сервере IIS.</span><span class="sxs-lookup"><span data-stu-id="3c119-110">This package contains all the assemblies, files, database scripts, and resources required to recreate your web application on a remote IIS web server.</span></span>
- <span data-ttu-id="3c119-111">Объект *.deploy.cmd [имя проекта]* файл.</span><span class="sxs-lookup"><span data-stu-id="3c119-111">A *[project name].deploy.cmd* file.</span></span> <span data-ttu-id="3c119-112">Содержит набор параметризованные команды, Web Deploy (MSDeploy.exe), которые публикуют веб-пакет развертывания на удаленном веб-сервере IIS.</span><span class="sxs-lookup"><span data-stu-id="3c119-112">This contains a set of parameterized Web Deploy (MSDeploy.exe) commands that publish your web deployment package to a remote IIS web server.</span></span>
- <span data-ttu-id="3c119-113">Объект *[имя проекта]. SetParameters.xml* файла.</span><span class="sxs-lookup"><span data-stu-id="3c119-113">A *[project name].SetParameters.xml* file.</span></span> <span data-ttu-id="3c119-114">Это предоставляет набор значений параметров для команды MSDeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="3c119-114">This provides a set of parameter values to the MSDeploy.exe command.</span></span> <span data-ttu-id="3c119-115">Можно обновить значения в этот файл и передать его на веб-развертывания как параметр командной строки при развертывании веб-пакет.</span><span class="sxs-lookup"><span data-stu-id="3c119-115">You can update the values in this file and pass it to Web Deploy as a command-line parameter when you deploy your web package.</span></span>

> [!NOTE]
> <span data-ttu-id="3c119-116">Дополнительные сведения о сборке и обработки пакетов см. в разделе [построения и упаковки проектов веб-приложений](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="3c119-116">For more information on the build and packaging process, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>


<span data-ttu-id="3c119-117">*SetParameters.xml* создан динамически файл проекта веб-приложения и файлы конфигурации в рамках проекта.</span><span class="sxs-lookup"><span data-stu-id="3c119-117">The *SetParameters.xml* file is dynamically generated from your web application project file and any configuration files within your project.</span></span> <span data-ttu-id="3c119-118">После построения и упаковки проекте конвейера публикации Web (WPP) автоматически определяет множество переменных, которые могут измениться сред развертывания, таких как целевой веб-приложения IIS и любые строки подключения базы данных.</span><span class="sxs-lookup"><span data-stu-id="3c119-118">When you build and package your project, the Web Publishing Pipeline (WPP) will automatically detect lots of the variables that are likely to change between deployment environments, like the destination IIS web application and any database connection strings.</span></span> <span data-ttu-id="3c119-119">Эти значения, автоматически параметризованы в пакет веб-развертывания и добавляются в *SetParameters.xml* файла.</span><span class="sxs-lookup"><span data-stu-id="3c119-119">These values are automatically parameterized in the web deployment package and added to the *SetParameters.xml* file.</span></span> <span data-ttu-id="3c119-120">Например, если добавить строку подключения к *web.config* файл в проект веб-приложения, процесс построения обнаружит это изменение и будет добавлена запись для *SetParameters.xml* файла соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="3c119-120">For example, if you add a connection string to the *web.config* file in your web application project, the build process will detect this change and will add an entry to the *SetParameters.xml* file accordingly.</span></span>

<span data-ttu-id="3c119-121">В большинстве случаев это автоматической параметризации, будет достаточно.</span><span class="sxs-lookup"><span data-stu-id="3c119-121">In a lot of cases, this automatic parameterization will be sufficient.</span></span> <span data-ttu-id="3c119-122">Однако, если вашим пользователям требуется для изменения других параметров между средами развертывания, таких как параметры приложения или URL-адреса конечной точки службы, необходимо сообщить WPP параметризовать эти значения в пакете развертывания и добавить соответствующие записи *SetParameters.xml* файла.</span><span class="sxs-lookup"><span data-stu-id="3c119-122">However, if your users need to vary other settings between deployment environments, like application settings or service endpoint URLs, you need to tell the WPP to parameterize these values in the deployment package and add corresponding entries to the *SetParameters.xml* file.</span></span> <span data-ttu-id="3c119-123">В последующих разделах объясняется, как это сделать.</span><span class="sxs-lookup"><span data-stu-id="3c119-123">The sections that follow explain how to do this.</span></span>

### <a name="automatic-parameterization"></a><span data-ttu-id="3c119-124">Автоматическая параметризация</span><span class="sxs-lookup"><span data-stu-id="3c119-124">Automatic Parameterization</span></span>

<span data-ttu-id="3c119-125">При построении и пакет веб-приложении WPP будет автоматической параметризации следующие действия:</span><span class="sxs-lookup"><span data-stu-id="3c119-125">When you build and package a web application, the WPP will automatically parameterize these things:</span></span>

- <span data-ttu-id="3c119-126">Назначение IIS веб-приложения путь и имя.</span><span class="sxs-lookup"><span data-stu-id="3c119-126">The destination IIS web application path and name.</span></span>
- <span data-ttu-id="3c119-127">Строки любого подключения в вашей *web.config* файла.</span><span class="sxs-lookup"><span data-stu-id="3c119-127">Any connection strings in your *web.config* file.</span></span>
- <span data-ttu-id="3c119-128">Строки подключения для всех баз данных, добавить в **упаковка и публикация SQL** на вкладке страницы свойств проекта.</span><span class="sxs-lookup"><span data-stu-id="3c119-128">Connection strings for any databases you add to the **Package/Publish SQL** tab in the project property pages.</span></span>

<span data-ttu-id="3c119-129">Например, если вы выполните сборку и упаковку [диспетчера контактов](the-contact-manager-solution.md) образец решения, не касаясь процесс параметризации никоим образом WPP влекущих *ContactManager.Mvc.SetParameters.xml* файла:</span><span class="sxs-lookup"><span data-stu-id="3c119-129">For example, if you were to build and package the [Contact Manager](the-contact-manager-solution.md) sample solution without touching the parameterization process in any way, the WPP would generate this *ContactManager.Mvc.SetParameters.xml* file:</span></span>


[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample1.xml)]


<span data-ttu-id="3c119-130">В этом случае:</span><span class="sxs-lookup"><span data-stu-id="3c119-130">In this case:</span></span>

- <span data-ttu-id="3c119-131">**Имя веб-приложения IIS** параметр — это путь IIS, где вы хотите развернуть веб-приложение.</span><span class="sxs-lookup"><span data-stu-id="3c119-131">The **IIS Web Application Name** parameter is the IIS path where you want to deploy the web application.</span></span> <span data-ttu-id="3c119-132">Значение по умолчанию берется из **Пакет/Публикация веб-сайта** страницы на страницах свойств проекта.</span><span class="sxs-lookup"><span data-stu-id="3c119-132">The default value is taken from the **Package/Publish Web** page in the project property pages.</span></span>
- <span data-ttu-id="3c119-133">**Строка подключения ApplicationServices Web.config** параметр был создан из **connectionStrings или добавления** элемент в *web.config* файла.</span><span class="sxs-lookup"><span data-stu-id="3c119-133">The **ApplicationServices-Web.config Connection String** parameter was generated from a **connectionStrings/add** element in the *web.config* file.</span></span> <span data-ttu-id="3c119-134">Он представляет строку подключения, приложение должно использовать для связи базы данных членства.</span><span class="sxs-lookup"><span data-stu-id="3c119-134">It represents the connection string that the application should use to contact the membership database.</span></span> <span data-ttu-id="3c119-135">Значение, укажите здесь будут заменены в развернутой *web.config* файла.</span><span class="sxs-lookup"><span data-stu-id="3c119-135">The value you provide here will be substituted into the deployed *web.config* file.</span></span> <span data-ttu-id="3c119-136">Значение по умолчанию берется из перед развертыванием *web.config* файла.</span><span class="sxs-lookup"><span data-stu-id="3c119-136">The default value is taken from the pre-deployment *web.config* file.</span></span>

<span data-ttu-id="3c119-137">Также WPP параметризует этих свойств в формируемые им пакет развертывания.</span><span class="sxs-lookup"><span data-stu-id="3c119-137">The WPP also parameterizes these properties in the deployment package it generates.</span></span> <span data-ttu-id="3c119-138">Можно указать значения для этих свойств при установке пакета развертывания.</span><span class="sxs-lookup"><span data-stu-id="3c119-138">You can provide values for these properties when you install the deployment package.</span></span> <span data-ttu-id="3c119-139">Если установить пакет вручную через диспетчер IIS, как описано в [вручную Установка веб-пакеты](manually-installing-web-packages.md), мастер установки попросит указать значения для всех параметров.</span><span class="sxs-lookup"><span data-stu-id="3c119-139">If you install the package manually through IIS Manager, as described in [Manually Installing Web Packages](manually-installing-web-packages.md), the installation wizard prompts you to provide values for any parameters.</span></span> <span data-ttu-id="3c119-140">При установке пакета удаленно с помощью *. deploy.cmd* файла, как описано в [веб-развертывание пакетов](deploying-web-packages.md), веб-развертывание будет отображаться для этого *SetParameters.xml* файл Укажите значения параметров.</span><span class="sxs-lookup"><span data-stu-id="3c119-140">If you install the package remotely using the *.deploy.cmd* file, as described in [Deploying Web Packages](deploying-web-packages.md), Web Deploy will look to this *SetParameters.xml* file to provide the parameter values.</span></span> <span data-ttu-id="3c119-141">Можно изменить значения в *SetParameters.xml* файл вручную, или файл, можно настроить как часть автоматизированного процесса построения и развертывания.</span><span class="sxs-lookup"><span data-stu-id="3c119-141">You can edit the values in the *SetParameters.xml* file manually, or you can customize the file as part of an automated build and deployment process.</span></span> <span data-ttu-id="3c119-142">Этот процесс описан более подробно далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="3c119-142">This process is described in more detail later in this topic.</span></span>

### <a name="custom-parameterization"></a><span data-ttu-id="3c119-143">Пользовательские параметризации</span><span class="sxs-lookup"><span data-stu-id="3c119-143">Custom Parameterization</span></span>

<span data-ttu-id="3c119-144">Для более сложных сценариев развертывания будут часто требуется параметризовать дополнительные свойства до развертывания проекта.</span><span class="sxs-lookup"><span data-stu-id="3c119-144">In more complex deployment scenarios, you'll often want to parameterize additional properties before you deploy your project.</span></span> <span data-ttu-id="3c119-145">Вообще говоря следует параметризовать все свойства и настройки, зависит от целевой среды.</span><span class="sxs-lookup"><span data-stu-id="3c119-145">Generally speaking, you should parameterize any properties and settings that will vary between destination environments.</span></span> <span data-ttu-id="3c119-146">Например:</span><span class="sxs-lookup"><span data-stu-id="3c119-146">These can include:</span></span>

- <span data-ttu-id="3c119-147">Конечные точки в службы *web.config* файла.</span><span class="sxs-lookup"><span data-stu-id="3c119-147">Service endpoints in the *web.config* file.</span></span>
- <span data-ttu-id="3c119-148">Параметры приложения в *web.config* файла.</span><span class="sxs-lookup"><span data-stu-id="3c119-148">Application settings in the *web.config* file.</span></span>
- <span data-ttu-id="3c119-149">Другие декларативный свойства, которые вы хотите предлагать пользователям указать.</span><span class="sxs-lookup"><span data-stu-id="3c119-149">Any other declarative properties that you want to prompt users to specify.</span></span>

<span data-ttu-id="3c119-150">Для параметризации эти свойства проще всего добавить *parameters.xml* файл в корневой папке проекта веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="3c119-150">The easiest way to parameterize these properties is to add a *parameters.xml* file to the root folder of your web application project.</span></span> <span data-ttu-id="3c119-151">Например, в решении диспетчера контактов ContactManager.Mvc проект включает *parameters.xml* файл в корневой папке.</span><span class="sxs-lookup"><span data-stu-id="3c119-151">For example, in the Contact Manager solution, the ContactManager.Mvc project includes a *parameters.xml* file in the root folder.</span></span>

![](configuring-parameters-for-web-package-deployment/_static/image1.png)

<span data-ttu-id="3c119-152">Если открыть этот файл, вы увидите, что она содержит один **параметр** входа.</span><span class="sxs-lookup"><span data-stu-id="3c119-152">If you open this file, you'll see that it contains a single **parameter** entry.</span></span> <span data-ttu-id="3c119-153">Запись используется язык XML Path (XPath) запрос для поиска и параметризовать URL-адрес конечной точки службы ContactService Windows Communication Foundation (WCF) в *web.config* файла.</span><span class="sxs-lookup"><span data-stu-id="3c119-153">The entry uses an XML Path Language (XPath) query to locate and parameterize the endpoint URL of the ContactService Windows Communication Foundation (WCF) service in the *web.config* file.</span></span>


[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample2.xml)]


<span data-ttu-id="3c119-154">Помимо параметризации URL-адрес конечной точки в пакет развертывания, WPP также добавляется соответствующая запись для *SetParameters.xml* файл, который получает созданный вместе с пакет развертывания.</span><span class="sxs-lookup"><span data-stu-id="3c119-154">In addition to parameterizing the endpoint URL in the deployment package, the WPP also adds a corresponding entry to the *SetParameters.xml* file that gets generated alongside the deployment package.</span></span>


[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample3.xml)]


<span data-ttu-id="3c119-155">Если вручную установить пакет развертывания диспетчера служб IIS предложит ввести адрес конечной точки службы наряду с свойства, которые были параметризованы автоматически.</span><span class="sxs-lookup"><span data-stu-id="3c119-155">If you install the deployment package manually, IIS Manager will prompt you for the service endpoint address alongside the properties that were parameterized automatically.</span></span> <span data-ttu-id="3c119-156">Если установить пакет развертывания, запустив *. deploy.cmd* файл, можно изменить *SetParameters.xml* файл, чтобы предоставить значение для адрес конечной точки службы, а также значения для свойства, которые были параметризованы автоматически.</span><span class="sxs-lookup"><span data-stu-id="3c119-156">If you install the deployment package by running the *.deploy.cmd* file, you can edit the *SetParameters.xml* file to provide a value for the service endpoint address together with values for the properties that were parameterized automatically.</span></span>

<span data-ttu-id="3c119-157">Полные сведения о создании *parameters.xml* файла см. в разделе [как: используются параметры для настройки параметров при пакет развертывания установлен](https://msdn.microsoft.com/library/ff398068.aspx).</span><span class="sxs-lookup"><span data-stu-id="3c119-157">For full details on how to create a *parameters.xml* file, see [How to: Use Parameters to Configure Deployment Settings When a Package is Installed](https://msdn.microsoft.com/library/ff398068.aspx).</span></span> <span data-ttu-id="3c119-158">Процедура, с именем **использование параметров развертывания для параметров файла Web.config** пошаговые инструкции.</span><span class="sxs-lookup"><span data-stu-id="3c119-158">The procedure named **To use deployment parameters for Web.config file settings** provides step-by-step instructions.</span></span>

## <a name="modifying-the-setparametersxml-file"></a><span data-ttu-id="3c119-159">Изменение файла SetParameters.xml</span><span class="sxs-lookup"><span data-stu-id="3c119-159">Modifying the SetParameters.xml File</span></span>

<span data-ttu-id="3c119-160">Если вы планируете развернуть пакет веб-приложения вручную & #x 2014; либо путем выполнения *. deploy.cmd* файла или путем запуска MSDeploy.exe из командной строки & #x 2014; нет ничего останавливать вручную изменив *SetParameters.xml* файлу до развертывания.</span><span class="sxs-lookup"><span data-stu-id="3c119-160">If you plan to deploy the web application package manually&#x2014;either by running the *.deploy.cmd* file or by running MSDeploy.exe from the command line&#x2014;there's nothing to stop you manually editing the *SetParameters.xml* file prior to the deployment.</span></span> <span data-ttu-id="3c119-161">Тем не менее если вы работаете в рамках решения корпоративного уровня, может потребоваться развернуть веб-приложение пакет как часть большего размера, автоматизированный процесс построения и развертывания.</span><span class="sxs-lookup"><span data-stu-id="3c119-161">However, if you're working on an enterprise-scale solution, you may need to deploy a web application package as part of a larger, automated build and deployment process.</span></span> <span data-ttu-id="3c119-162">В этом сценарии, необходимые Microsoft Build Engine (MSBuild), чтобы изменить *SetParameters.xml* файл автоматически.</span><span class="sxs-lookup"><span data-stu-id="3c119-162">In this scenario, you need the Microsoft Build Engine (MSBuild) to modify the *SetParameters.xml* file for you.</span></span> <span data-ttu-id="3c119-163">Это можно сделать с помощью MSBuild **XmlPoke** задачи.</span><span class="sxs-lookup"><span data-stu-id="3c119-163">You can do this by using the MSBuild **XmlPoke** task.</span></span>

<span data-ttu-id="3c119-164">[Диспетчера контактов образец решения](the-contact-manager-solution.md) иллюстрирует этот процесс.</span><span class="sxs-lookup"><span data-stu-id="3c119-164">The [Contact Manager sample solution](the-contact-manager-solution.md) illustrates this process.</span></span> <span data-ttu-id="3c119-165">Чтобы отобразить только те сведения, которые относятся к этому примеру были изменены приведенных ниже примерах кода.</span><span class="sxs-lookup"><span data-stu-id="3c119-165">The code examples that follow have been edited to show only the details that are relevant to this example.</span></span>

> [!NOTE]
> <span data-ttu-id="3c119-166">Широкий обзор модели файла проекта в образец решения, а также вводные сведения о настраиваемом проекте файлов в общем см. [основные сведения о файле проекта](understanding-the-project-file.md) и [основные сведения о процессе построения](understanding-the-build-process.md).</span><span class="sxs-lookup"><span data-stu-id="3c119-166">For a broader overview of the project file model in the sample solution, and an introduction to custom project files in general, see [Understanding the Project File](understanding-the-project-file.md) and [Understanding the Build Process](understanding-the-build-process.md).</span></span>


<span data-ttu-id="3c119-167">Во-первых, значения параметров интерес определяются как свойства в файле проекта, относящихся к среде (например, *Env Dev.proj*).</span><span class="sxs-lookup"><span data-stu-id="3c119-167">First, the parameter values of interest are defined as properties in the environment-specific project file (for example, *Env-Dev.proj*).</span></span>


[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample4.xml)]


> [!NOTE]
> <span data-ttu-id="3c119-168">Рекомендации по настройке файлы проекта, относящихся к среде для серверных сред см. в разделе [настройки свойств развертывания для целевой среды](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="3c119-168">For guidance on how to customize the environment-specific project files for your own server environments, see [Configure Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>


<span data-ttu-id="3c119-169">Далее, *Publish.proj* файл импортирует эти свойства.</span><span class="sxs-lookup"><span data-stu-id="3c119-169">Next, the *Publish.proj* file imports these properties.</span></span> <span data-ttu-id="3c119-170">Поскольку каждый *SetParameters.xml* файлов, связанных с *. deploy.cmd* файла и мы в конечном счете должны файл проекта для каждого вызова *. deploy.cmd* файла проекта MSBuild создает файл *элемент* для каждого *. deploy.cmd* файла и определение свойств интерес как *метаданные элемента*.</span><span class="sxs-lookup"><span data-stu-id="3c119-170">Because each *SetParameters.xml* file is associated with a *.deploy.cmd* file, and we ultimately want the project file to invoke each *.deploy.cmd* file, the project file creates an MSBuild *item* for each *.deploy.cmd* file and defines the properties of interest as *item metadata*.</span></span>


[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample5.xml)]


<span data-ttu-id="3c119-171">В этом случае:</span><span class="sxs-lookup"><span data-stu-id="3c119-171">In this case:</span></span>

- <span data-ttu-id="3c119-172">**ParametersXml** значение метаданных указывает расположение *SetParameters.xml* файла.</span><span class="sxs-lookup"><span data-stu-id="3c119-172">The **ParametersXml** metadata value indicates the location of the *SetParameters.xml* file.</span></span>
- <span data-ttu-id="3c119-173">**IisWebAppName** значением является путь IIS, к которому вы хотите развернуть веб-приложение.</span><span class="sxs-lookup"><span data-stu-id="3c119-173">The **IisWebAppName** value is the IIS path to which you want to deploy the web application.</span></span>
- <span data-ttu-id="3c119-174">**MembershipDBConnectionString** значением является строка подключения для базы данных членства и **MembershipDBConnectionName** значение **имя** атрибута соответствующего параметра в *SetParameters.xml* файла.</span><span class="sxs-lookup"><span data-stu-id="3c119-174">The **MembershipDBConnectionString** value is the connection string for the membership database, and the **MembershipDBConnectionName** value is the **name** attribute of the corresponding parameter in the *SetParameters.xml* file.</span></span>
- <span data-ttu-id="3c119-175">**ServiceEndpointValue** значение — это адрес конечной точки для службы WCF на целевом сервере и **ServiceEndpointParamName** значение атрибута имени соответствующего параметра в *SetParameters.xml* файла.</span><span class="sxs-lookup"><span data-stu-id="3c119-175">The **ServiceEndpointValue** value is the endpoint address for the WCF service on the destination server, and the **ServiceEndpointParamName** value is the name attribute of the corresponding parameter in the *SetParameters.xml* file.</span></span>

<span data-ttu-id="3c119-176">Наконец, в *Publish.proj* файл **PublishWebPackages** целевой использует **XmlPoke** задач, чтобы изменить эти значения в *SetParameters.xml* файл.</span><span class="sxs-lookup"><span data-stu-id="3c119-176">Finally, in the *Publish.proj* file, the **PublishWebPackages** target uses the **XmlPoke** task to modify these values in the *SetParameters.xml* file.</span></span>


[!code-xml[Main](configuring-parameters-for-web-package-deployment/samples/sample6.xml)]


<span data-ttu-id="3c119-177">Обратите внимание, что каждый **XmlPoke** задача определяет четыре значения атрибутов:</span><span class="sxs-lookup"><span data-stu-id="3c119-177">You'll notice that each **XmlPoke** task specifies four attribute values:</span></span>

- <span data-ttu-id="3c119-178">**XmlInputPath** атрибут сообщает задачи, где можно найти файл, который необходимо изменить.</span><span class="sxs-lookup"><span data-stu-id="3c119-178">The **XmlInputPath** attribute tells the task where to find the file you want to modify.</span></span>
- <span data-ttu-id="3c119-179">**Запроса** атрибут является запрос XPath для идентификации узла XML, необходимо изменить.</span><span class="sxs-lookup"><span data-stu-id="3c119-179">The **Query** attribute is an XPath query that identifies the XML node you want to change.</span></span>
- <span data-ttu-id="3c119-180">**Значение** атрибут — это новое значение, которое нужно вставить в выбранный узел XML.</span><span class="sxs-lookup"><span data-stu-id="3c119-180">The **Value** attribute is the new value you want to insert into the selected XML node.</span></span>
- <span data-ttu-id="3c119-181">**Условие** атрибут является условия, на которых должны выполняться или выполняться задачи.</span><span class="sxs-lookup"><span data-stu-id="3c119-181">The **Condition** attribute is the criteria on which the task should run or not run.</span></span> <span data-ttu-id="3c119-182">В этих случаях условие гарантирует не пытайтесь вставить значение null или пустое значение в *SetParameters.xml* файла.</span><span class="sxs-lookup"><span data-stu-id="3c119-182">In these cases, the condition ensures that you don't try to insert a null or empty value into the *SetParameters.xml* file.</span></span>

## <a name="conclusion"></a><span data-ttu-id="3c119-183">Заключение</span><span class="sxs-lookup"><span data-stu-id="3c119-183">Conclusion</span></span>

<span data-ttu-id="3c119-184">В этом разделе описывается роль *SetParameters.xml* файла и объясняется, как оно создается при построении проекта веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="3c119-184">This topic described the role of the *SetParameters.xml* file and explained how it's generated when you build a web application project.</span></span> <span data-ttu-id="3c119-185">Описано, как можно параметризировать путем добавления дополнительных параметров *parameters.xml* файл в проект.</span><span class="sxs-lookup"><span data-stu-id="3c119-185">It explained how you can parameterize additional settings by adding a *parameters.xml* file to your project.</span></span> <span data-ttu-id="3c119-186">Также описывается, как изменять *SetParameters.xml* файла в рамках процесса построения большего размера, автоматизированные с помощью **XmlPoke** задач в файлах проекта.</span><span class="sxs-lookup"><span data-stu-id="3c119-186">It also described how you can modify the *SetParameters.xml* file as part of a larger, automated build process, by using the **XmlPoke** task in your project files.</span></span>

<span data-ttu-id="3c119-187">Следующий раздел [веб-развертывание пакетов](deploying-web-packages.md), описывает, как можно развертывать веб-пакета либо путем выполнения *. deploy.cmd* файл или напрямую с помощью MSDeploy.exe команд.</span><span class="sxs-lookup"><span data-stu-id="3c119-187">The next topic, [Deploying Web Packages](deploying-web-packages.md), describes how you can deploy a web package either by running the *.deploy.cmd* file or by using MSDeploy.exe commands directly.</span></span> <span data-ttu-id="3c119-188">В обоих случаях можно указать вашей *SetParameters.xml* файла в качестве параметра развертывания.</span><span class="sxs-lookup"><span data-stu-id="3c119-188">In both cases, you can specify your *SetParameters.xml* file as a deployment parameter.</span></span>

## <a name="further-reading"></a><span data-ttu-id="3c119-189">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="3c119-189">Further Reading</span></span>

<span data-ttu-id="3c119-190">Сведения по созданию веб-пакетов см. в разделе [построения и упаковки проектов веб-приложений](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="3c119-190">For information on how to create web packages, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span> <span data-ttu-id="3c119-191">Руководство для фактического развертывания веб-пакета см. в разделе [веб-развертывание пакетов](deploying-web-packages.md).</span><span class="sxs-lookup"><span data-stu-id="3c119-191">For guidance on how to actually deploy a web package, see [Deploying Web Packages](deploying-web-packages.md).</span></span> <span data-ttu-id="3c119-192">Пошаговое руководство по созданию *parameters.xml* файла см. в разделе [как: используются параметры для настройки параметров при пакет развертывания установлен](https://msdn.microsoft.com/library/ff398068.aspx).</span><span class="sxs-lookup"><span data-stu-id="3c119-192">For a step-by-step walkthrough on how to create a *parameters.xml* file, see [How to: Use Parameters to Configure Deployment Settings When a Package is Installed](https://msdn.microsoft.com/library/ff398068.aspx).</span></span>

<span data-ttu-id="3c119-193">Дополнительные общие сведения о параметризации в веб-развертывания см. в разделе [Web развертывание параметризации в действии](https://go.microsoft.com/?linkid=9805119) (запись блога).</span><span class="sxs-lookup"><span data-stu-id="3c119-193">For more general information on parameterization in Web Deploy, see [Web Deploy Parameterization in Action](https://go.microsoft.com/?linkid=9805119) (blog post).</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="3c119-194">[Назад](building-and-packaging-web-application-projects.md)
[Вперед](deploying-web-packages.md)</span><span class="sxs-lookup"><span data-stu-id="3c119-194">[Previous](building-and-packaging-web-application-projects.md)
[Next](deploying-web-packages.md)</span></span>
