---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/manually-installing-web-packages
title: Установка вручную веб-пакеты | Документы Microsoft
author: jrjlee
description: В этом разделе описывается вручную импортировать пакет веб-развертывания в Internet Information Services (IIS). Создание раздела и боя Web упаковки...
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: f11d22a7-5d32-4ad0-8a9b-276460a61c06
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/manually-installing-web-packages
msc.type: authoredcontent
ms.openlocfilehash: 4a28ea92b22e4928e41a39a8a91b62bfa4f08175
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2018
ms.locfileid: "30890220"
---
<a name="manually-installing-web-packages"></a>Установка вручную веб-пакеты
====================
по [Джейсон Lee](https://github.com/jrjlee)

[Скачать PDF](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> В этом разделе описывается вручную импортировать пакет веб-развертывания в Internet Information Services (IIS).
> 
> Раздел [построения и упаковки проектов веб-приложений](building-and-packaging-web-application-projects.md) описано как IIS средство веб-развертывания (Web Deploy), в сочетании с Microsoft Build Engine (MSBuild) и конвейер публикации Web (WPP), позволяет упаковать вашей проекты веб-приложений в единый ZIP-файл. Этот файл обычно известные как пакет веб-развертывания (или просто пакет развертывания) содержит все содержимое и конфигурацию сведения, что службы IIS необходимы для повторного создания веб-приложения на веб-сервере.
> 
> После создания веб-развертывания пакета, его можно опубликовать на сервере служб IIS различными способами. В множество сценариев необходимо воспользоваться преимуществами точки интеграции между MSBuild, WPP и веб-развертывания для создания и удаленной установке веб-пакетов в рамках автоматической или один шаг процесса построения и развертывания. Этот процесс описан в [веб-развертывание пакетов](deploying-web-packages.md). Однако это не всегда возможно. Предположим, что вы хотите развернуть веб-приложения в рабочей среде с выходом в Интернет. По соображениям безопасности таких рабочей среде находится на очень наименьшей вероятностью находиться за брандмауэром в подсети, которая отделена от сборки, сервера в сети периметра (также известный как DMZ, демилитаризованная зона и промежуточной подсетью). В большом числе случаев в рабочей среде будет в отдельном домене или физически изолированной сети.
> 
> В этих сценариях единственным вариантом является порт веб-пакета на целевом сервере и вручную импортировать его в службах IIS. Хотя такой подход исключает возможность автоматического развертывания, он является весьма эффективно методика публикации веб-приложения&#x2014;просто скопируйте единый ZIP-файл на веб-сервере и использовать мастер помогает выполнить процесс импорта.


Этот раздел входит в состав серию учебников, исходя из требования к развертыванию enterprise вымышленная компания Fabrikam, Inc. Этот учебник ряд использует образец решения&#x2014; [решения диспетчера контактов](the-contact-manager-solution.md)&#x2014;для представления веб-приложения с реалистичных уровень сложности, включая приложения ASP.NET MVC 3, Windows Communication Служба Foundation (WCF) и проект базы данных.

## <a name="task-overview"></a>Общие сведения о задаче

Необходимо иметь для выполнения этих задач высокого уровня, чтобы импортировать пакет веб-развертывания IIS:

- Создание пакета веб-развертывания, с помощью MSBuild командной строки, Team Build или Visual Studio 2010.
- Скопируйте веб-пакета веб-сервере назначения.
- Использование мастера импорта пакета приложения в диспетчере служб IIS для установки веб-пакета и получения значений переменных, например строки подключения и конечных точек службы.

В этом разделе будет показано, как для выполнения этих процедур. Задачи и примеры в этом разделе предполагается, что вы уже знакомы с принципами веб-пакеты веб-развертывания и WPP. Дополнительные сведения см. в разделе [построения и упаковки проектов веб-приложений](building-and-packaging-web-application-projects.md).

> [!NOTE]
> В этом разделе, лучше всего использовать в сочетании с [Настройка веб-сервера для веб-развертывания публикации (автономный режим развертывания)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md), объясняется, как установить необходимые компоненты и подготовить веб-сайт IIS для импорта пакета.


## <a name="create-a-web-deployment-package"></a>Создайте пакет веб-развертывания

Первой задачей является создание пакета веб-развертывания для проекта веб-приложения, которые вы хотите развернуть. Можно создать веб-пакеты в различными способами.

**Способ 1: Создайте пакет как часть процесса построения с помощью Visual Studio**

Можно настроить проект веб-приложения для создания веб-пакета развертывания после каждой сборки через **Пакет/Публикация веб-сайта** вкладку на страницах свойств проекта. Этот процесс описан в [построения и упаковки проектов веб-приложений](building-and-packaging-web-application-projects.md).

**Способ 2: Создайте пакет как часть процесса построения с помощью MSBuild**

При построении проекта веб-приложения с помощью MSBuild напрямую, либо посредством пользовательского файла проекта MSBuild либо из командной строки, можно создать пакет веб-развертывания в рамках процесса сборки, включая **DeployOnBuild = true** и **DeployTarget = пакет** свойства в команде. Этот процесс описан в [основные сведения о процессе построения](understanding-the-build-process.md).

**Способ 3: Создание пакета по требованию в Visual Studio**

Пакет веб-развертывания для проекта веб-приложения можно создать в любое время в Visual Studio 2010. Для этого в **обозревателе решений** окно, щелкните правой кнопкой мыши проект веб-приложения и нажмите кнопку **построить пакет развертывания**.

![](manually-installing-web-packages/_static/image1.png)

**Способ 4: Создание пакета по запросу из командной строки**

Можно создать пакет веб-развертывания из командной строки с помощью вызова **пакета** целевой для проекта веб-приложения с помощью MSBuild. Команда должна выглядеть следующим образом:


[!code-console[Main](manually-installing-web-packages/samples/sample1.cmd)]


Какое значение подход можно использовать, в результате совпадает. WPP создает пакет веб-развертывания в виде ZIP-файл, а также различные вспомогательные ресурсы в выходную папку проекта веб-приложения.

![](manually-installing-web-packages/_static/image2.png)

Если вы планируете вручную импортировать веб-пакет, требуется ZIP-файл. Скопируйте этот файл на целевой веб-сервер, и можно начать процесс импорта.

## <a name="import-a-web-package-into-iis"></a>Импорт веб-пакета в службы IIS

Можно использовать следующую процедуру для импорта веб-пакета развертывания из локальной файловой системы в веб-сайт IIS. Прежде чем выполнять эту процедуру, убедитесь, что имеется:

- Скопировать пакет веб-развертывания на веб-сервер.
- Настроить веб-сервер IIS для размещения приложения.

Дополнительные сведения о настройке веб-сервер IIS для поддержки веб-развертывания пакетов см. в разделе [Настройка веб-сервера для веб-развертывания публикации (автономный режим развертывания)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md).

**Импорт пакета веб-развертывания, с помощью диспетчера IIS**

1. В диспетчере служб IIS в **подключений** панели, щелкните правой кнопкой мыши веб-сайт IIS, выберите пункт **развернуть**, а затем нажмите кнопку **Импорт приложения**.

    ![](manually-installing-web-packages/_static/image3.png)
2. В мастере импорта пакета приложения на **выберите пакет** , перейдите к нужному веб-пакет развертывания и выберите **Далее**.
3. На **Выбор содержимого пакета** снимите любое содержимое, которое не требуется, а затем выберите **Далее**.

    ![](manually-installing-web-packages/_static/image4.png)

    > [!NOTE]
    > В большинстве случаев может потребоваться импортировать все данные, поступающие с веб-развертывания пакета. Например не может потребоваться разрешить веб-развертывания для замены связанной базы данных.  
    > **Предоставить разрешения** записи разрешения в целевой файловой системе, удостоверение пула приложений можно получить доступ к физическую папку, в которой хранится содержимое веб-сайта. Кроме того анонимная проверка подлинности пользователя предоставляется разрешение чтение к папке передать приложению обрабатывать файлы типа MIME Multipurpose Internet Mail расширения (). При желании можно удалить эти записи и настроить разрешения вручную.
4. На **ввод данных о пакете приложения** введите требуемую информацию.

    ![](manually-installing-web-packages/_static/image5.png)
5. При создании веб-пакета WPP анализирует файл конфигурации для приложения и обнаруживает все переменные, как строки подключения и конечные точки службы. В этом случае:

    1. **Путь к приложению** путь IIS, где требуется установить приложение. Этот параметр является общим для всех созданные WPP пакеты развертывания.
    2. **Адрес конечной точки службы ContactService** — это адрес, приложение должно использовать для взаимодействия с развернутой службы WCF. Этот параметр соответствует записи в *web.config* файла.
    3. Первый **строка подключения** задана строка подключения, веб-развертывания следует использовать для развертывания базы данных, связанной с приложением (в данном случае база данных членства ASP.NET). Этот параметр соответствует параметру для **упаковка и публикация SQL** вкладке в Visual Studio.
    4. Второй **строка подключения** задана строка подключения, приложение фактически будет использовать для взаимодействия с базой данных при работе. Это соответствует записи строки соединения на *web.config* файла.

        > [!NOTE]
        > Дополнительные сведения о откуда берутся эти параметры в разделе [Настройка параметров для пакета развертывания веб-](configuring-parameters-for-web-package-deployment.md).
6. Нажмите кнопку **Далее**.
7. Если это не в первый раз после развертывания приложения на веб-сайт, будет предложено указать, следует ли удалить все существующее содержимое до установки. Выберите параметр, который соответствует требованиям и нажмите кнопку **Далее**.

    ![](manually-installing-web-packages/_static/image6.png)
8. После завершения установки пакета служб IIS щелкните **Готово**.

    ![](manually-installing-web-packages/_static/image7.png)

На этом этапе вы успешно опубликовали веб-приложения IIS.

## <a name="conclusion"></a>Заключение

В этом разделе описано, как импортировать пакет веб-развертывания в веб-сайт IIS с помощью диспетчера IIS. Такой подход к веб-публикации приложения подходит в том случае, если ограничения безопасности или инфраструктуры сделать удаленное развертывание невозможно или нежелательно.

## <a name="further-reading"></a>Дополнительные сведения

Рекомендации по настройке веб-сервер IIS поддерживает импорт веб-пакета вручную см. в разделе [Настройка веб-сервера для веб-развертывания публикации (автономный режим развертывания)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md). Дополнительные общие рекомендации по развертыванию веб-пакеты в разделе [Пошаговое руководство: развертывание проекта приложения веб-заданий с помощью пакета веб-развертывания (часть 1 из 4)](https://msdn.microsoft.com/library/dd483479.aspx).

> [!div class="step-by-step"]
> [Назад](creating-and-running-a-deployment-command-file.md)
