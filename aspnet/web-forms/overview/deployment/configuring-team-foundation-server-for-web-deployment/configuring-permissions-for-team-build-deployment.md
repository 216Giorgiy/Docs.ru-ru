---
uid: web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
title: Настройка разрешений для команды построения развертывания | Документы Microsoft
author: jrjlee
description: В этом разделе описываются способы настройки разрешений для включения ваш сервер сборки для развертывания содержимого веб-серверов и серверов баз данных как часть автоматических b...
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: 2488a91e-b0a8-465a-b874-3233f724b56b
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
msc.type: authoredcontent
ms.openlocfilehash: 4698349d664816ec49475bbfe71fb32af79ea96d
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2018
---
<a name="configuring-permissions-for-team-build-deployment"></a>Настройка разрешений для команды построения развертывания
====================
по [Джейсон Lee](https://github.com/jrjlee)

[Скачать PDF](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> В этом разделе описываются способы настройки разрешений для включения ваш сервер сборки для развертывания содержимого веб-серверов и серверов баз данных в процессе автоматизированной сборки.


Этот раздел входит в состав серию учебников, исходя из требования к развертыванию enterprise вымышленная компания Fabrikam, Inc. Этот учебник ряд использует образец решения&#x2014; [решения диспетчера контактов](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;для представления веб-приложения с реалистичных уровень сложности, включая приложения ASP.NET MVC 3, Windows Communication Служба Foundation (WCF) и проект базы данных.

Метод развертывания, в основе этих учебников основан на разбиение проекта файл подход, описанный в [основные сведения о файле проекта](../web-deployment-in-the-enterprise/understanding-the-project-file.md), в которой процесс построения управляется двух файлов проекта&#x2014;один с построение инструкции, которые применяются для каждой целевой среде и, содержащий параметры построения и развертывания конкретной среды. Во время построения файла проекта среды объединяется в файл проекта зависит от среды, образуют полный набор инструкций построения.

## <a name="task-overview"></a>Общие сведения о задаче

При установке службы Team Foundation Server (TFS) 2010 построения указываются удостоверение, с которой необходимо выполнить для запуска службы. По умолчанию это учетная запись сетевой службы. Кроме того можно настроить службу построения для запуска под учетной записью домена.

Задачи развертывания, требующие проверки подлинности Windows, и вы планируете автоматизировать с помощью Team Build, будет выполняться с использованием удостоверения службы сборки. Таким образом необходимо предоставить все необходимые разрешения на веб-серверах и серверах баз данных удостоверение службы сборки.

> [!NOTE]
> Учетную запись сетевой службы используется учетная запись компьютера для проверки подлинности на другие компьютеры. Учетные записи компьютера имеют вид * [домен]\[имя компьютера] ***$**&#x2014;, **FABRIKAM\TFSBUILD$**. Таким образом Если работает служба сборки с использованием учетной записи сетевой службы, следует предоставлять любые разрешения, необходимые для идентификатор учетной записи для сервера сборки.


## <a name="configuring-web-server-permissions"></a>Настройка разрешений веб-сервера

Как описано в [Выбор оптимального подхода справа для развертывания веб-приложения](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md), существует два основных подхода можно использовать, если вы хотите развернуть веб-пакеты на удаленном веб-сервере:

- Развертывание приложения на удаленном компьютере, обращаясь к *службы агента веб-развертывания* (также известный как удаленного агента) на целевом сервере.
- Развертывание приложения на удаленном компьютере, обращаясь к *Internet Information Services* (*IIS) веб-развертывания обработчик* на целевом сервере.

Удаленный агент в этом случае есть два ключа ограничения:

- Удаленный агент поддерживает только проверку подлинности NTLM. Другими словами, развертывания необходимо использовать удостоверение службы сборки&#x2014;не может олицетворять другую учетную запись.
- Чтобы использовать удаленный агент, учетная запись, которая выполняет развертывание нужно обладать правами администратора на целевом сервере.

Вместе эти два ограничения сделать подход с использованием удаленного агента нежелательных для автоматизированного развертывания Team Build. Чтобы использовать этот подход, необходимо сделать учетную запись администратора на целевом веб-серверам службы сборки.

Напротив веб-развертывания обработчик подход предоставляет различные преимущества.

- Веб-развертывание обработчик поддерживает обычную проверку подлинности по протоколу HTTPS, который служит для передачи учетных данных учетной записи альтернативное средство IIS веб-развертывания (Web Deploy).
- Можно настроить целевой веб-серверы, чтобы разрешить пользователям без прав администратора для развертывания содержимого определенных IIS веб-сайтов, с помощью веб-развертывания обработчик.

В результате четко предпочтительнее целевой веб-развертывания обработчик при автоматизации веб-развертывания пакета с помощью Team Build. Это рекомендуемый способ:

1. Создайте учетную запись домена с низким уровнем привилегий для развертывания.
2. Настройка веб-развертывания обработчик и предоставить учетной записи необходимые разрешения для развертывания содержимого веб-узла IIS, как описано в [Настройка веб-сервера для веб-развертывания публикации (веб-развертывания обработчик)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).
3. Вызвать веб-развертывания и целевой веб-развертывания обработчик, с обычной проверкой подлинности и предоставление учетных данных учетной записи домена, созданную для выполнения развертывания.

В [диспетчера контактов](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) образец решения, необходимо указать тип проверки подлинности (basic или NTLM), учетные данные веб-развертывания и адрес конечной точки (удаленный агент или веб-обработчик развертывания) в файле проекта для конкретной среды. Эти значения используются для создания и выполнения команды веб-развертывания, при выполнении файла проекта. Дополнительные сведения см. в разделе [веб-развертывание пакетов](../web-deployment-in-the-enterprise/deploying-web-packages.md).

Дополнительные сведения о настройке развертывания Web обработчик, включая настройку разрешений, в разделе [Настройка веб-сервера для веб-развертывания публикации (веб-развертывания обработчик)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md). Дополнительные сведения о настройке удаленного агента см. в разделе [Настройка веб-сервера для веб-развертывания публикации (удаленный агент)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).

## <a name="configuring-database-server-permissions"></a>Настройка разрешений базы данных сервера

Чтобы развернуть базу данных SQL Server, необходимо выполнить следующее:

- Создайте имя входа для учетной записи развертывание на экземпляре SQL Server.
- Предоставьте имени входа **DBCreator** разрешения на экземпляре SQL Server.
- После первоначального развертывания, добавьте имя входа для **db\_владельца** роли в целевой базе данных. Это необходимо, поскольку в последующих развертываниях вы изменение существующей базы данных вместо создания новой базы данных.

Для проверки подлинности в экземпляр SQL Server, используя проверку подлинности NTLM или проверку подлинности SQL Server:

- Если используется проверка подлинности NTLM, необходимо предоставить разрешения, описанные выше учетной записи службы построения.
- Если используется проверка подлинности SQL Server, необходимо предоставить разрешения, описанные выше, для учетной записи SQL Server. Необходимо также включить имя пользователя SQL Server и пароль в строке подключения, используемого для развертывания базы данных.

Пошаговые инструкции по настройке разрешений для развертывания базы данных. в разделе [Настройка сервера базы данных для развертывания веб-публикаций](../configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing.md).

## <a name="conclusion"></a>Заключение

На этом этапе следует учитывать разрешения, необходимые вместе с параметрами проверки подлинности, open, при автоматизации развертывания приложений и баз данных web, с помощью Team Build. Также можно реализовать необходимые разрешения в IIS веб-серверов и серверов баз данных SQL Server.

## <a name="further-reading"></a>Дополнительные сведения

Дополнительные сведения о настройке среды Windows server для поддержки удаленного развертывания см. в разделе [настройка сред сервера для развертывания веб-](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).

> [!div class="step-by-step"]
> [Назад](deploying-a-specific-build.md)
