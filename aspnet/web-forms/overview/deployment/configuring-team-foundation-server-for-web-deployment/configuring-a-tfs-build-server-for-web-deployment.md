---
uid: web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-a-tfs-build-server-for-web-deployment
title: "Настройка TFS сервер построения для развертывания веб | Документы Microsoft"
author: jrjlee
description: "В этом разделе описывается Подготовка сервера сборки Team Foundation Server (TFS) для построения и развертывания решений с помощью Team Build и Интернет сведения..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: f8400241-4f4b-4bbd-9994-54fb64909e6e
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-a-tfs-build-server-for-web-deployment
msc.type: authoredcontent
ms.openlocfilehash: de31a9dffb95b863a4ec38b74fd2c6e03f287a7f
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/24/2018
---
<a name="configuring-a-tfs-build-server-for-web-deployment"></a>Настройка сервера сборки TFS для развертывания веб-приложения
====================
по [Джейсон Lee](https://github.com/jrjlee)

[Скачать PDF](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> В этом разделе описывается Подготовка сервера сборки Team Foundation Server (TFS) для построения и развертывания решений с помощью Team Build и средство Internet Information Services (IIS) веб-развертывания (Web Deploy).


Этот раздел входит в состав серию учебников, исходя из требования к развертыванию enterprise вымышленная компания Fabrikam, Inc. Этот учебник ряд использует образец решения & #x 2014; [решения диспетчера контактов](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)& #x 2014; для представления веб-приложения с реалистичных уровень сложности, включая приложения ASP.NET MVC 3, Windows Службы Communication Foundation (WCF) и проект базы данных.

Метод развертывания, в основе этих учебников основан на разбиение проекта файл подход, описанный в [основные сведения о файле проекта](../web-deployment-in-the-enterprise/understanding-the-project-file.md), в которой процесс построения управляется двух проектов файлы & #x 2014; один с построение инструкции, которые применяются для каждой целевой среде и, содержащий параметры построения и развертывания конкретной среды. Во время построения файла проекта среды объединяется в файл проекта зависит от среды, образуют полный набор инструкций построения.

## <a name="task-overview"></a>Общие сведения о задаче

Чтобы подготовить сервер сборки, построение и развертывание решений, необходимо:

- Установка и настройка службы сборки TFS.
- Установите Visual Studio 2010.
- Установите все продукты и компоненты, необходимые для построения решения, например версии .NET Framework, ASP.NET MVC.
- Установите веб-развертывание 2.0 или более поздней версии.

В этом разделе показано, как выполнять эти процедуры или указывали на другие ресурсы, если таковые существуют. Задачи и пошаговые руководства в этом разделе предполагается, что:

- Вы начинаете с построением чистого сервера под управлением Windows Server 2008 R2 с пакетом обновления 1.
- Сервер присоединен к домену статического IP-адреса.
- После установки уровня приложений TFS на отдельном сервере, как описано в [корпоративного веб-развертывания: Обзор сценария](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md).

### <a name="who-performs-these-procedures"></a>Кто выполняет эти процедуры?

В большинстве случаев администратора Team Foundation Server будет отвечать за Настройка серверов сборки. В некоторых случаях команды разработчиков могут стать владельцами серверов конкретную сборку.

## <a name="install-and-configure-the-tfs-build-service"></a>Установка и настройка службы сборки TFS

При настройке сервера сборки, первая задача — Установка и настройка службы сборки TFS. В рамках этого процесса необходимо:

- Установка службы построения TFS и настройте учетную запись службы. Все задачи сборки, включая развертывание, будет выполняться с использованием удостоверения учетной записи службы построения.
- Создание *контроллер построений* и один или несколько *агенты построения*. Каждый контроллер сборки управляет набором агентов сборки. При постановке в очередь построение, контроллер сборки назначает задачу построения агента сборки. Каждой коллекции командных проектов в TFS сопоставляется один контроллер построений.
- Настройка транзитного каталога для вашего выходные данные сборки. Это общий сетевой ресурс. Любой сборки выходные данные, такие как пакеты веб-развертывания, отправляются в транзитный каталог.

[Администрирование Team Foundation Build](https://msdn.microsoft.com/library/ms252495.aspx) главе на сайте MSDN содержит все ресурсы, необходимые для выполнения следующих задач:

- Общие сведения о Team Foundation Build, включая службы построения, контроллеры построений и агентов построения, в разделе [основные сведения о Team Foundation Build System](https://msdn.microsoft.com/library/dd793166.aspx).
- Сведения об установке и настройке службы сборки см. в разделе [Настройка компьютера сборки](https://msdn.microsoft.com/library/ms181712.aspx).
- Сведения о создании контроллеры сборок см. в разделе [создания и работы с контроллером построения](https://msdn.microsoft.com/library/ee330987.aspx).
- Сведения о создании агентов сборки см. в разделе [Создание и работа с агентами сборки](https://msdn.microsoft.com/library/bb399135.aspx).
- Сведения о создании и настройке папках сброса см. в разделе [Настройка папок сброса](https://msdn.microsoft.com/library/bb778394.aspx).

## <a name="install-required-products-and-components"></a>Установка необходимых продуктов и компонентов

Чтобы включить сервер сборки для построения решений, необходимо установить все продукты, компоненты или сборки, необходимые для вашего решения. Перед установкой платформы веб-компоненты следует установить Visual Studio 2010 (любая версия) на сервере сборки. Это гарантирует, что основные файлы целевой Microsoft Build Engine (MSBuild) и конечных файлов конвейера публикации Web (WPP) доступны для службы построения. Установщик Visual Studio также следует установить веб-развертывания, которая необходима, если планируется развернуть веб-пакетов в рамках процесса построения.

Чтобы установить общие компоненты веб-платформы рекомендуется использовать [Web Platform Installer](https://go.microsoft.com/?linkid=9805118). Это гарантирует, что устанавливаете последнюю версию каждого продукта и также автоматически обнаруживает и устанавливает все необходимые компоненты для каждого продукта. В случае использования [диспетчера контактов](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) решение, следует использовать установщик веб-платформы для установки этих продуктов и компонентов:

- **.NET framework 4.0**. Это необходимо для запуска приложений, которые были созданы в этой версии платформы .NET Framework.
- **Веб-средство развертывания 2.1 или более поздней версии**. При этом устанавливаются на сервере веб-развертывания (и его базовых исполняемого файла, MSDeploy.exe). В рамках этого процесса он устанавливает и запускает службу агента веб-развертывания. Эта служба позволяет развертывать веб-пакеты с удаленного компьютера.
- **ASP.NET MVC 3**. При этом устанавливаются сборки, необходимые для запуска приложений ASP.NET MVC 3.

**Для установки необходимых продуктов и компонентов**

1. Установите Visual Studio 2010. При появлении запроса выберите компоненты для установки должен содержать:

    1. Все языки программирования, которые необходимо скомпилировать.
    2. Visual Web Developer. Это гарантирует, что ваш сервер сборки добавляются WPP целевых объектов.

        ![](configuring-a-tfs-build-server-for-web-deployment/_static/image1.png)
2. После завершения установки Visual Studio 2010, загрузить и установить [Visual Studio 2010 с пакетом обновления 1](https://go.microsoft.com/?linkid=9805133) (если он еще не включен в установочном носителе).

    > [!NOTE]
    > Visual Studio 2010 с пакетом обновления 1 устраняет ошибку, которая может помешать поиск исполняемых MSDeploy MSBuild.
3. Загрузите и запустите [Web Platform Installer](https://go.microsoft.com/?linkid=9805118).
4. В верхней части **веб-платформы 3.0 установщика** окно, нажмите кнопку **продуктов**.
5. В левой части окна в области навигации выберите **платформ**.
6. В **Microsoft .NET Framework 4** строк, если платформа .NET Framework не установлена, нажмите кнопку **добавить**.

    > [!NOTE]
    > Может уже установлена платформа .NET Framework 4.0 через Центр обновления Windows. Если уже установлен продукт или компонент, установщик веб-платформы сообщит об этом, заменив **добавить** кнопка с текстом **установленные**.

    ![](configuring-a-tfs-build-server-for-web-deployment/_static/image2.png)
7. В **ASP.NET MVC 3 (Visual Studio 2010)** щелкните **добавить**.
8. В области навигации щелкните **сервера**.
9. В **2.1 средство развертывания веб** щелкните **добавить**.
10. Нажмите кнопку **Установить**. Установщик веб-платформы будет отображен список продуктов & #x 2014; а также связанные с ним зависимости & #x 2014; должны быть установлены и попросит принять условия лицензионного соглашения.
11. Ознакомьтесь с условиями лицензии и, если вы согласны с условиями, щелкните **принимаю**.
12. После завершения установки нажмите кнопку **Готово**, а затем закройте **веб-платформы 3.0 установщика** окна.

> [!NOTE]
> Если процесс развертывания включает использование таких средств, как VSDBCMD.exe или SQLCMD.exe, необходимо убедиться, что они установлены на сервере сборки. VSDBCMD.exe — это средство Visual Studio и как правило, добавляется на сервер при установке Team Foundation Build. SQLCMD.exe — это средство SQL Server. Можно загрузить автономную версию программы SQLCMD.exe из [Microsoft SQL Server 2008 R2 Feature Pack](https://go.microsoft.com/?linkid=9805134) страницы.


## <a name="conclusion"></a>Заключение

На этом этапе построения сервер готов к построению и развертыванию проектах веб-приложений. Следующий раздел [Создание сборки определение, поддерживает развертывания](creating-a-build-definition-that-supports-deployment.md), описывается создание и настройка определения построения для управления и как построение и развертывание проектов.

## <a name="further-reading"></a>Дополнительные сведения

Общие рекомендации по работе с Team Build см. в разделе [Администрирование Team Foundation Build](https://msdn.microsoft.com/library/ms252495.aspx).

>[!div class="step-by-step"]
[Назад](adding-content-to-source-control.md)
[Вперед](creating-a-build-definition-that-supports-deployment.md)
