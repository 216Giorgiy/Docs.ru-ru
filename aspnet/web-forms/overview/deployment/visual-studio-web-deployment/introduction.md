---
uid: web-forms/overview/deployment/visual-studio-web-deployment/introduction
title: "ASP.NET веб-развертывания с помощью Visual Studio: введение | Документы Microsoft"
author: tdykstra
description: "Этой серии учебника показано, как развернуть ASP.NET (публикации) веб-приложения для веб-приложениях службы приложений Azure или стороннего поставщика услуг размещения, с помощью V..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/15/2013
ms.topic: article
ms.assetid: 24ad086d-865e-433c-9ac9-05f1a553da16
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/visual-studio-web-deployment/introduction
msc.type: authoredcontent
ms.openlocfilehash: e14f3bed001592c85bdbba868f51141bc52a9470
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2017
---
<a name="aspnet-web-deployment-using-visual-studio-introduction"></a>ASP.NET веб-развертывания с помощью Visual Studio: введение
====================
По [Tom Dykstra](https://github.com/tdykstra)

[Загрузите начальный проект](http://go.microsoft.com/fwlink/p/?LinkId=282627)

> Этот учебник ряд показано развертывание ASP.NET (публикации) веб-приложения для веб-приложениях службы приложений Azure или стороннего поставщика услуг размещения, по с помощью Visual Studio 2012 с пакетом SDK Azure для .NET. Большая часть процедуры похожи для Visual Studio 2013.
> 
> Можно разработать веб-приложение, чтобы сделать ее доступной пользователям через Интернет. Но веб-программирования учебники обычно останавливает сразу после их показано, как решить свою работу на компьютере разработчика. Начинает серию учебников, где остальные не ставятся: построения веб-приложения, для него проверяется, и она будет готова к работе. Что дальше? В этих учебниках показано, как для развертывания сначала к службам IIS на локального компьютера разработчика для тестирования, а затем в Azure или стороннего поставщика услуг размещения для промежуточных и производственных. Образец приложения, который используется для развертывания является проект веб-приложения, использующего платформу Entity Framework, SQL Server и систему членства ASP.NET. В примере приложения используется веб-форм ASP.NET, но приведенных также применяются к ASP.NET MVC и веб-API.
> 
> В этих учебниках предполагается, что вы знаете, как работать с ASP.NET в Visual Studio. Если этого не сделать, является удобным инструментом для начала [основные учебник по ASP.NET Web Forms](../../older-versions-getting-started/tailspin-spyworks/tailspin-spyworks-part-1.md) или [основам ASP.NET MVC](../../../../mvc/overview/older-versions/getting-started-with-aspnet-mvc4/intro-to-aspnet-mvc-4.md).
> 
> Если у вас есть вопросы, которые не связаны непосредственно для работы с учебником, их можно разместить [форум, посвященный развертыванию ASP.NET](https://forums.asp.net/26.aspx/1?Configuration+and+Deployment) или [StackOverflow](http://stackoverflow.com).
> 
> Это содержимое также-свободного электронных книг в [коллекции TechNet электронную](https://social.technet.microsoft.com/wiki/contents/articles/11608.e-book-gallery-for-microsoft-technologies.aspx#ASPNETWebDeploymentusingVisualStudio).


## <a name="overview"></a>Обзор

В этих учебниках по развертыванию веб-приложения ASP.NET, включая базы данных SQL Server. Вы развернете сначала IIS для локального компьютера разработчика для тестирования, а затем веб-приложений в службе приложений Azure и базы данных SQL Azure для промежуточных и производственных. Вы увидите развертывание с помощью Visual Studio, публикация одним щелчком, и вы увидите развертывание с помощью командной строки.

Число учебники могут облегчить процесс развертывания кажется довольно сложным. На самом деле основные процедуры являются простыми. Тем не менее, в реальных ситуациях часто требуется выполнять задачи, лишние развертывания — например, установка разрешений для папки на целевом сервере. Мы показаны некоторые из этих дополнительных задач в надежде, что не оставляйте учебники, сведения, которые могут препятствовать успешное развертывание в реальном приложении.

Учебники предназначены для запуска в последовательности, и каждая часть на предыдущую часть. Вы можете пропустить частей, которые не относятся к вашей ситуации, но затем может потребоваться настроить процедуры, описанные на следующих занятиях рассматривается.

## <a name="intended-audience"></a>Целевая аудитория

Учебники предназначены для разработчиков в среде ASP.NET, работающих в средах, где:

- В рабочей среде — веб-приложениях службы приложений Azure или стороннего поставщика услуг размещения.
- Развертывание не ограничивается процесс непрерывной интеграции, но можно делать прямо из Visual Studio.

Развертывание из [система управления версиями](../../../../aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control.md) с помощью [непрерывной поставки](../../../../aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery.md) процесс не рассматривается в этих учебниках, за исключением одного учебник, в котором показано, как развертывание из командной строки. Сведения о непрерывной поставки см. следующие ресурсы:

- [Непрерывной интеграции и непрерывного доставки (Создание реальных облачных приложений в Windows Azure)](../../../../aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery.md)
- [Развертывание веб-приложения в службе приложений Azure](https://azure.microsoft.com/en-us/documentation/articles/web-sites-deploy/)
- [Развертывание веб-приложений в корпоративных сценариях](../deploying-web-applications-in-enterprise-scenarios/deploying-web-applications-in-enterprise-scenarios.md) (старые набор учебников, написанные для Visual Studio 2010, которые по-прежнему содержит полезные сведения для корпоративных сред.)

## <a name="using-a-third-party-hosting-provider"></a>С помощью стороннего поставщика услуг размещения

Учебники помогут выполнить процесс установки учетная запись Azure и развертывания приложения на веб-приложений в службе приложений Azure для промежуточных и производственных. Тем не менее можно использовать те же основные процедуры развертывания стороннего поставщика услуг размещения по своему усмотрению. Где учебники выходят процессы уникальным в Azure, они объясните и уведомить какие различия можно ожидать, что у стороннего поставщика услуг размещения.

## <a name="deploying-web-app-projects"></a>Развертывание веб-приложения проектов

Образец приложения, который можно загрузить и установить для этих учебников является проект веб-приложения Visual Studio. Тем не менее если установить последнюю версию [веб-публикации обновление для Visual Studio](https://msdn.microsoft.com/tr-tr/library/jj161045.aspx), можно использовать такие же методы развертывания и средства для проектов веб-приложения.

## <a name="deploying-aspnet-mvc-projects"></a>Развертывание проектов ASP.NET MVC

Пример приложения — это проект веб-форм ASP.NET, но все, что вы узнаете, как сделать также применима к ASP.NET MVC. Проект Visual Studio MVC — просто другую форму проекта веб-приложения. Отличается только что при развертывании на поставщике услуг размещения, который не поддерживает ASP.NET MVC или его требуемой версии, необходимо убедиться, что установлены соответствующие ([MVC 3](http://nuget.org/packages/AspNetMvc/3.0.20105.0), [MVC 4](http://www.nuget.org/packages/Microsoft.AspNet.Mvc/4.0.30506.0) или [MVC 5](http://www.nuget.org/packages/Microsoft.AspNet.Mvc)) пакета NuGet в проекте.

## <a name="programming-language"></a>Язык программирования

В примере приложения используется C#, но учебники не требуется знание C# и методы развертывания, представленные в учебниках не зависят от языка.

## <a name="database-deployment-methods"></a>Методы развертывания базы данных

Существует три способа, что вы можете развернуть базы данных SQL Server вместе с веб-развертывания в Visual Studio:

- Entity Framework Code First Migrations
- Поставщик Web Deploy dbDacFx
- Поставщик dbFullSql веб-развертывания

В этом учебнике будет использоваться первые два из этих методов. Поставщик Web Deploy dbFullSql — это устаревший метод, который больше не рекомендуется, кроме некоторых конкретных сценариев, таких как миграция из SQL Server Compact в SQL Server.

Для баз данных SQL Server, не SQL Server Compact, методов, показанных в этом учебнике. Сведения о том, как развернуть базу данных SQL Server Compact см. в разделе [Visual Studio Web развертывания с SQL Server Compact](../../older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-introduction-1-of-12.md).

Методы, показанные в этом учебнике требуется использовать веб-развертывания метода публикации. Если вы предпочитаете другой метод, таких как FTP, файловой системы или FPSE, публикации см [развертывание базы данных отдельно от развертывание веб-приложений](https://go.microsoft.com/fwlink/p/?LinkId=282413#databaseseparate) в Web Карта содержимого развертывания для Visual Studio и ASP.NET.

### <a name="entity-framework-code-first-migrations"></a>Entity Framework Code First Migrations

В Entity Framework версии 4.3 Корпорация Майкрософт представила Code First Migrations. Code First Migrations автоматизирует процесс создания добавочные изменения в модель данных и распространение этих изменений в базу данных. В более ранних версиях Code First обычно позволяют удаление и повторное создание базы данных каждый раз при изменении модели данных Entity Framework. Это не проблема в разработке, поскольку легко создать данные теста, но в рабочей среде обычно требуется обновить схему базы данных без удаления базы данных. Функция миграции позволяет Code First обновить базу данных без удаления и повторного создания. Можно позволить Code First автоматического выбора внесение необходимых изменений схемы, или можно написать код, который настраивает изменения. Введение миграции Code First см. в разделе [Code First Migrations](https://msdn.microsoft.com/library/hh770484.aspx).

При развертывании веб-проекта Visual Studio можно автоматизировать процесс развертывания базы данных, который управляется Code First Migrations. При создании профиля публикации, вы флажок под названием выполнять миграции Code First (запускается при запуске приложения). Этот параметр задан, то процесс развертывания автоматически настроить файл Web.config приложения на целевом сервере используется Code First `MigrateDatabaseToLatestVersion` класс инициализатора.

Visual Studio не выполняет никаких действий с базой данных во время развертывания. Когда развернутое приложение обращается к базе данных в первый раз после развертывания, Code First автоматически создает базу данных или обновляет схему базы данных до последней версии. Если приложение реализует метод миграций начальное значение, метод выполняется после создания базы данных или обновления схемы.

В этом учебнике будет использоваться миграции Code First для развертывания базы данных приложения.

### <a name="the-dbdacfx-web-deploy-provider"></a>Поставщик Web Deploy dbDacFx

Для базы данных SQL Server, который не находится под управлением Entity Framework Code First можно выбрать флажок под названием обновить базу данных при настройке профиля публикации. Во время первоначального развертывания поставщик dbDacFx создает таблицы и другие объекты базы данных в целевой базе данных для соответствия базы данных-источника. В последующих развертываниях поставщик определяет отличия между базами данных источника и назначения, и обновляет схему целевой базы данных для соответствия базы данных-источника. По умолчанию поставщик не будет, внесите необходимые изменения привести к потере данных, например при удалении таблицы или столбца.

Этот метод не автоматизировать развертывание данных в таблицах базы данных, но можно создавать сценарии для этого и настройка Visual Studio для запуска их во время развертывания. Другая причина для запуска скриптов во время развертывания — для внесения изменений схемы, которые не может выполняться автоматически, так как они могут привести к потере данных.

В этом учебнике используется поставщик dbDacFx для развертывания базы данных членства ASP.NET.

## <a name="troubleshooting-during-this-tutorial"></a>Устранение неполадок с помощью этого учебника

При возникновении ошибки во время развертывания или развернутого сайта работает неправильно, сообщения об ошибках не всегда предоставления решения по очевидным. Для некоторых распространенных проблем, [Устранение неполадок справочной странице](troubleshooting.md) доступен. Если вы получаете сообщение об ошибке или что-то не работает, как пройти учебники, обязательно обратитесь к странице устранения неполадок.

## <a name="comments-welcome"></a>Добро пожаловать в комментарии

Приглашаем вас комментарии на учебники и при обновлении учебника все усилия будут внесены учитывает учетной записи исправлений или подсказок для улучшения, которые предоставляются в комментариях учебника.

<a id="prerequisites"></a>

## <a name="prerequisites"></a>Предварительные требования

Это руководство было написано для следующих продуктов:

- Windows 8 или Windows 7.
- Visual Studio 2012 или Visual Studio 2012 Express для Web с [последнее обновление](https://go.microsoft.com/fwlink/?LinkId=272486).
- [Пакет Azure SDK для Visual Studio 2012](https://go.microsoft.com/fwlink/?LinkId=254364)

Учебник можно выполнить с помощью Visual Studio 2010 с пакетом обновления 1 или Visual Studio 2013, но некоторые снимки экрана будут отличаться и некоторые функции будут отличаться.

Если вы используете Visual Studio 2013, установите [пакет Azure SDK для Visual Studio 2013](https://go.microsoft.com/fwlink/?LinkID=324322).

Если вы используете Visual Studio 2010 SP1, установите следующее программное обеспечение:

- [Пакет Azure SDK для Visual Studio 2010](https://go.microsoft.com/fwlink/?LinkID=254269)
- [SQL Server Express LocalDB](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=SQLLocalDBOnly_11_0)
- [SQL Server Data Tools](https://msdn.microsoft.com/en-us/library/hh500335.aspx).

В зависимости от того, сколько зависимостей SDK уже имеется на компьютере установка пакета SDK для Azure может занять от нескольких минут до полчаса или более длительное время. Даже если вы планируете опубликовать стороннего поставщика услуг размещения вместо в Azure, так как пакет SDK включает последние обновления Visual Studio веб-публикации компонентов необходимо пакета Azure SDK.

> [!NOTE]
> Этот учебник был записан с Azure SDK версии 1.8.1. После этого были выпущены более новые версии с дополнительными возможностями. Учебники были обновлены для ссылаются на эти компоненты и ссылки на ресурсы, которые содержат дополнительные сведения о них.


Инструкции и снимки экрана на основе Windows 8, но учебники объяснить различия для Windows 7.

Другое программное обеспечение, необходимые для завершения этого учебника, но не нужно иметь, пока установлен. Учебник поможет вам выполнить шаги по установке его, когда он необходим.

## <a name="download-the-sample-application"></a>Загрузить пример приложения

Приложение, которое вы развернете называется Contoso университета и уже создан для вас. Он представляет собой упрощенную версию веб-сайта университета, слабо исходя из приложения Contoso университета, описанного в [Entity Framework учебники на сайте ASP.NET](https://asp.net/entity-framework/tutorials).

Если у вас есть необходимые компоненты, загрузите [веб-приложение Contoso университета](https://go.microsoft.com/fwlink/p/?LinkId=282627). *.Zip* файл содержит несколько версий проекта. Для работы через последовательность шагов учебника, начните с проекта, расположенный в папке C#. Чтобы увидеть, как выглядит проекта в конце учебники, откройте проект в папке ContosoUniversity-End.

Чтобы подготовить проект для одновременной ликвидации шагах учебника, выполните следующие действия:

1. Сохраните ContosoUniversity файлы решения из папки в папку с именем ContosoUniversity в любую папку, можно использовать для работы с проектами Visual Studio.

    По умолчанию это следующую папку для Visual Studio 2012:

    `C:\Users\<username>\Documents\Visual Studio 2012\Projects`

    (Для снимков экрана в этом учебнике, папка проекта находится в корневом каталоге на `C`: диск.)
2. Запустите Visual Studio и откройте проект.
3. В **обозревателе решений**, щелкните правой кнопкой мыши решение и выберите **восстановление пакетов EnableNuGet**.
4. Постройте решение.
5. Если возникли ошибки компиляции, вручную восстановите пакеты NuGet.

    1. В **обозревателе решений**, щелкните правой кнопкой мыши решение и выберите команду **управление пакетами NuGet для решения**.
    2. В верхней части **управление пакетами NuGet** вы увидите диалоговое окно **отсутствуют NuGet некоторые пакеты из этого решения. Щелкните, чтобы восстановить.** Нажмите кнопку **восстановить** кнопки.
    3. Выполните повторную сборку решения.
6. Нажмите клавиши CTRL + F5 для запуска приложения.

    Приложение откроется на домашнюю страницу Contoso университета.

    ![Домашняя страница разработки](introduction/_static/image1.png)

    (Возможны значение времени ожидания при запуске экземпляра SQL Server Express LocalDB Visual Studio и может дать ошибку времени ожидания, процесс занимает слишком много времени. В этом случае просто запустите проект.)

Страницы веб-сайта, доступны в строке меню и позволяют выполнять следующие функции:

- Отображение статистики студента (страница о программе).
- Отображение, изменение, удаление и добавление учащихся.
- Отображение и изменение курсов.
- Отображение и изменение инструкторов.
- Отображение и изменение отделов.

Ниже приведены снимки экрана несколько репрезентативной страниц.

![Страница разработки студентов](introduction/_static/image2.png)

![Добавление страницы разработки слушатели](introduction/_static/image3.png)

## <a name="review-application-features-that-affect-deployment"></a>Ознакомьтесь с функциями приложения, влияющие на развертывание

Следующие функции приложения влияет на способ развертывания и что необходимо сделать, чтобы развернуть его. Каждый из них является более подробно описываются в следующих учебниках в ряду.

- Университет Contoso использует базу данных SQL Server для хранения данных приложения, такие как имена учащихся и инструкторов. База данных содержит сочетание тестовых данных и рабочих данных, а при развертывании в рабочей среде необходимо исключить тестовых данных.
- Приложение использует систему членства ASP.NET, где хранятся данные учетной записи пользователя в базе данных SQL Server. Приложение определяет, кто имеет доступ к некие закрытые сведения пользователя-администратора. Необходимо выполнить развертывание базы данных членства без тестовые учетные записи, но с учетной записью администратора.
- Приложение использует ошибки сторонних разработчиков, журналы и отчетность служебной программы. Эта программа предоставляется в сборке, которая должны быть развернуты вместе с приложением.
- Программа ведения журнала ошибок записывает сведения об ошибке в XML-файлы в папку. У вас убедитесь в том, что учетной записи, под которым выполняется ASP.NET развернутого узла имеет разрешение на запись в эту папку, и имеется исключения этой папки из развертывания. (В противном случае данные журнала об ошибках из тестовой среды можно развернуть в рабочей среде или файлов журнала ошибок в рабочей среде могут быть удалены.)
- Приложение включает некоторые параметры, которые должны быть изменены в в развернутой *Web.config* файла в зависимости от целевой среде (тестовой, промежуточной или производственной) и другие параметры, которые должны быть изменены в зависимости от сборки Конфигурация (Отладка или выпуск).
- Решение Visual Studio включает в себя проект библиотеки классов. Должны развертываться только сборки, который создает этот проект, не сам проект.

## <a name="summary"></a>Сводка

В этом учебнике первого ряда загружен пример проекта Visual Studio и проверить компоненты веб-сайтов, которые влияют на способ развертывания приложения. В следующих учебниках Подготовка развертывания с помощью настройки некоторые из этих действий автоматически обрабатываться. Другие позволяет устранить вручную.

>[!div class="step-by-step"]
[Вперед](preparing-databases.md)
