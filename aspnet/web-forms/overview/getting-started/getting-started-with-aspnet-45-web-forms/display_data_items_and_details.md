---
uid: web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/display_data_items_and_details
title: "Отображать данные элементы и подробное описание | Документы Microsoft"
author: Erikre
description: "Этот учебник ряд описываются основы построения приложения веб-форм ASP.NET с помощью ASP.NET 4.5 и Microsoft Visual Studio Express 2013 для мы..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 09/08/2014
ms.topic: article
ms.assetid: 64a491a8-0ed6-4c2f-9c1c-412962eb6006
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/display_data_items_and_details
msc.type: authoredcontent
ms.openlocfilehash: 809d7a9c21a3ddf5dfd07d079eb8fe0d1d81712d
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2017
---
<a name="display-data-items-and-details"></a>Отображать данные элементов и сведения
====================
По [Эрик Reitan](https://github.com/Erikre)

[Загрузите образец проекта Wingtip Toys (C#)](http://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) или [загрузить электронную (PDF)](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)

> Этот учебник ряд описываются основы построения с помощью ASP.NET 4.5 и Microsoft Visual Studio Express 2013 для веб-приложения веб-форм ASP.NET. Visual Studio 2013 [проект с исходным кодом C#](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) доступен по следующему этого учебника ряда.


Этот учебник содержит сведения по отображению элементов данных и сведения о данных элемента, с помощью веб-форм ASP.NET и Entity Framework Code First. Этот учебник основана на работу с предыдущим учебником «И навигация по пользовательскому Интерфейсу» и является частью учебника по магазину игрушек Wingtip ряда. После завершения этого учебника, можно будет увидеть продуктов на *ProductsList.aspx* страницы и подробные сведения об отдельных продуктов на *ProductDetails.aspx* страницы.

## <a name="what-youll-learn"></a>Что вы узнаете следующее.

- Инструкции по добавлению элемента управления данных для отображения продуктов из базы данных.
- Способ подключения элемента управления данными для выбранных данных.
- Инструкции по добавлению элемента управления данных для отображения сведений о продукте из базы данных.
- Как получить значение из строки запроса и использовать это значение для ограничения данных, которые извлекаются из базы данных.

### <a name="these-are-the-features-introduced-in-the-tutorial"></a>Существуют следующие функции, представленные в этом учебнике:

- Привязка модели
- Поставщики значений

## <a name="adding-a-data-control-to-display-products"></a>Добавление элемента управления данных для отображения продуктов

При привязке данных к элементу управления сервера, существует несколько вариантов, которые можно использовать. Основные параметры включают добавление элемента управления источником данных, добавления кода вручную или с использованием привязки модели.

### <a name="using-a-data-source-control-to-bind-data"></a>С помощью элемента управления источником данных для привязки данных

Добавление элемента управления источником данных позволяет связать элемент управления, отображающий данные управления источником данных. Такой подход дает возможность декларативно серверных элементов управления напрямую подключаться к источникам данных, а не используя программный подход.

### <a name="coding-by-hand-to-bind-data"></a>Кодирование вручную для привязки данных

Включает в себя код вручную для добавления считывания значения, проверку значение null, предпринимается попытка преобразовать его в соответствующий тип, проверки, успешно ли выполнено преобразование и наконец, используя значение в запросе. Этот подход применяется при необходимости сохранить полный контроль над логики доступа к данным.

### <a name="using-model-binding-to-bind-data"></a>С помощью модели привязки для привязки данных

С помощью привязки модели позволяет привязать результатов с помощью гораздо меньше кода и дает возможность повторно использовать функциональные возможности во всем приложении. Привязка модели предназначен для упрощения работы с логики доступа к данным на ориентированный на код в то же время сохраняя преимущества широкие возможности привязки к данным платформы.

## <a name="displaying-products"></a>Отображение продуктов

В этом учебнике будет использоваться модель привязки для привязки данных. Настройка элемента управления данных для использования привязки модели для выбора данных, задать для элемента управления `SelectMethod` на имя метода в коде страницы. Элемент управления данных вызывает метод в соответствующее время жизненного цикла страницы и автоматически связывает возвращаемых данных. Нет необходимости явно вызвать `DataBind` метод.

Выполнив следующие действия, необходимо изменить разметку в *ProductList.aspx* страницы, чтобы страница может отобразить продукты.

1. В **обозревателе решений**откройте *ProductList.aspx* страницы.
2. Замените существующую разметку следующей разметкой:   

    [!code-aspx[Main](display_data_items_and_details/samples/sample1.aspx)]

Этот код использует **ListView** элемент управления с именем «productList» для демонстрации продуктов.

[!code-aspx[Main](display_data_items_and_details/samples/sample2.aspx)]

**ListView** элемент управления отображает данные в формате, который определяется с помощью шаблонов и стилей. Это полезно для данных в любой повторяющейся структуре. Это **ListView** просто пример данных из базы данных, однако можно включить пользователям для редактирования, вставки и удаления данных, а также сортировать и страницы данных, без использования кода.

Установив `ItemType` свойство в **ListView** управления выражение привязки данных `Item` доступна и элемент управления становится строго типизированные. Как упоминалось в предыдущем учебнике, можно выбрать сведений элемента объекта, с помощью технологии IntelliSense, таких как задание `ProductName`:

![Отображение данных элементов и подробностей - IntelliSense](display_data_items_and_details/_static/image1.png)

Кроме того, привязка модели используется для указания `SelectMethod` значение. Это значение (`GetProducts`) будет соответствовать метод, который вы добавите кода программной части для отображения продуктов на следующем шаге.

### <a name="adding-code-to-display-products"></a>Добавление кода для отображения продуктов

На этом шаге вы добавите код, чтобы заполнить **ListView** управления с данными о продуктах из базы данных. Код будет поддерживать отображение продукты по отдельной категории, отображающий все продукты.

1. В **обозревателе решений**, щелкните правой кнопкой мыши *ProductList.aspx* и нажмите кнопку **Просмотр кода**.
2. Замените существующий код в *ProductList.aspx.cs* файла следующим кодом:   

    [!code-csharp[Main](display_data_items_and_details/samples/sample3.cs)]

Этот код показывает `GetProducts` метода, на который ссылается `ItemType` свойство **ListView** управления *ProductList.aspx* страницы. Чтобы ограничить результаты к определенной категории в базе данных, в коде задается `categoryId` значение из значения строки запроса, передаваемый *ProductList.aspx* странице, если *ProductList.aspx* страница является Переход к. `QueryStringAttribute` Класса в `System.Web.ModelBinding` пространства имен используется для получения значения идентификатора переменной строки запроса. Это указывает, что привязка модели для привязки значение из строки запроса для `categoryId` параметра во время выполнения.

Когда допустимую категорию передается на страницу в качестве строки запроса, результаты запроса ограничены этих продуктов в базе данных, которые соответствуют `categoryId` значение. Например если URL-адрес *ProductsList.aspx* страница находится в следующем:

[!code-console[Main](display_data_items_and_details/samples/sample4.cmd)]

На странице отображаются только те продукты, где `category` равняется `1`.

Если строка запроса не включен, при переходе к *ProductList.aspx* страницы, отображаются все продукты.

Источники значений для этих методов, называются *значение поставщики* (такие как *QueryString*), и атрибуты параметра, которые указывают, какой поставщик значений для использования, рассматриваются как значения атрибуты поставщика (например, «`id`»). ASP.NET содержит поставщики значений и соответствующих атрибутов для всех обычные параметры вводимых пользователем данных в приложении Web Forms, такие как строка запроса, файлы cookie, значения формы, элементы управления, состояние представления, состояние сеанса и свойства профиля. Можно также написать поставщиках пользовательских значений.

### <a name="running-the-application"></a>Запуск приложения

Запустите приложение сейчас, чтобы увидеть, как можно просмотреть все продукты или просто набор продуктов, ограниченные по категориям.

1. В **обозревателе решений**, щелкните правой кнопкой мыши *Default.aspx* и выберите **Просмотр в браузере**.  
 Обозреватель и Показать *Default.aspx* страницы.
2. Выберите **автомобилей** меню навигации категории продукта.  
 *ProductList.aspx* страница отображается только продуктами, включенных в категорию «Автомобили». Далее в этом учебнике будут отображаться сведения о продукте.  

    ![Отображение данных элементов и подробностей - автомобили](display_data_items_and_details/_static/image2.png)
3. Выберите **продуктов** меню навигации в верхней.  
 Опять же *ProductList.aspx* отображается страница, однако в данный момент показан весь список продуктов.   

    ![Отображение данных элементов и подробностей - продуктов](display_data_items_and_details/_static/image3.png)
4. Закройте окно браузера и вернитесь в Visual Studio.

### <a name="adding-a-data-control-to-display-product-details"></a>Добавление данных управления для отображения сведений о продукте

Далее предстоит изменить разметку в *ProductDetails.aspx* страницы, добавленный в предыдущем учебнике, чтобы страницу можно отобразить сведения о отдельного продукта.

1. В **обозревателе решений**откройте *ProductDetails.aspx* страницы.
2. Замените существующую разметку следующей разметкой:   

    [!code-aspx[Main](display_data_items_and_details/samples/sample5.aspx)]

Этот код использует **FormView** элемента управления для отображения сведений о отдельного продукта. Эта разметка использует методы, такие как те, которые используются для отображения данных в *ProductList.aspx* страницы. **FormView** элемент управления используется для отображения одной записи за раз из источника данных. При использовании **FormView** управления, создавать шаблоны для отображения и редактирования значений с привязкой к данным. Шаблоны содержат элементы управления, привязка выражения и форматирование, определяющие внешний вид и функциональные возможности формы.

Чтобы соединиться с базой данных выше разметки, необходимо добавить дополнительный код для *ProductDetails.aspx* кода.

1. В **обозревателе решений**, щелкните правой кнопкой мыши *ProductDetails.aspx* и нажмите кнопку **Просмотр кода**.  
 *ProductDetails.aspx.cs* будет отображен файл.
2. Замените существующий код следующим кодом:   

    [!code-csharp[Main](display_data_items_and_details/samples/sample6.cs)]

Этот код проверяет наличие «`productID`» значение строки запроса. Если обнаружено значение допустимые строки запроса, отображается соответствующий продукт. Если строка запроса не найдена или недопустимое значение строки запроса, ни один продукт не отображается на *ProductDetails.aspx* страницы.

### <a name="running-the-application"></a>Запуск приложения

Теперь можно запустить приложение, чтобы увидеть отдельные продукта, отображаемое на основе идентификатора продукта.

1. Нажмите клавишу **F5** при работе в Visual Studio для запуска приложения.  
 Обозреватель и Показать *Default.aspx* страницы.
2. Выберите «Лодок» из меню навигации по категории.  
 *ProductList.aspx* -страница.
3. Выберите «Boat бумаги» продукт из списка продуктов.  
 *ProductDetails.aspx* -страница.   

    ![Отображение данных элементов и подробностей - продуктов](display_data_items_and_details/_static/image4.png)
4. Закройте браузер.

## <a name="summary"></a>Сводка

В этом учебнике ряды имеют добавить разметку и код для отображения списка продуктов и для отображения сведений о продукте. Во время этого процесса вы узнали о строго типизированные данные элементы управления, привязка модели и поставщиков значений. В следующем уроке вы добавите корзины в пример приложения Wingtip Toys.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Извлечение и отображение данных с помощью привязки модели и веб-форм](../../presenting-and-managing-data/model-binding/retrieving-data.md)

>[!div class="step-by-step"]
[Назад](ui_and_navigation.md)
[Вперед](shopping-cart.md)
