---
uid: web-forms/overview/ajax-control-toolkit/combobox/how-do-i-use-the-combobox-control-cs
title: Использование элемента управления ComboBox (C#) | Документы Microsoft
author: microsoft
description: Поле со списком является элементом управления ASP.NET AJAX, который объединяет гибкость текстового поля со списком параметров, которые можно выбрать пользователей.
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/12/2009
ms.topic: article
ms.assetid: 0bbf4134-04df-4226-8930-d5bb99e27128
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/ajax-control-toolkit/combobox/how-do-i-use-the-combobox-control-cs
msc.type: authoredcontent
ms.openlocfilehash: 20afd7334437a021f6f68216f84406eef5ea65c6
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2018
ms.locfileid: "30875231"
---
<a name="how-do-i-use-the-combobox-control-c"></a>Использование элемента управления ComboBox (C#)
====================
по [Microsoft](https://github.com/microsoft)

> Поле со списком является элементом управления ASP.NET AJAX, который объединяет гибкость текстового поля со списком параметров, которые можно выбрать пользователей.


Целью данного учебника является описанием элемента управления ComboBox набор средств управления AJAX. Поле со списком работает как сочетания от стандартного элемента управления DropDownList в ASP.NET и элемент управления TextBox. Можно выбрать из списка существующих элементов или введите новый элемент.

Поле со списком похоже на управления расширителя автозаполнения, но элементы используются в различных сценариях. Расширитель AutoComplete запросы веб-службы для получения соответствующих записей. В отличие от этого элемента управления ComboBox, инициализируется с набора элементов. С помощью делает расширителя AutoComplete смысле при работе с большим набором данных (миллионы частей car) при использовании элемента управления ComboBox имеет смысл при работе с небольшим набором данных (десятки car частей).

## <a name="selecting-from-a-static-list-of-items"></a>При выборе из статического списка элементов

Разрешить s начать с простой пример использования элемента управления ComboBox. Предположим, вы хотите отображать статический список элементов в раскрывающемся списке. Тем не менее вы хотите оставить открытым вероятность того, что список не завершен. Вы хотите разрешить пользователям вводить пользовательские значения в список.

Мы ll создайте новую страницу веб-форм ASP.NET и использовать на странице управления ComboBox. Добавить новую страницу ASP.NET в проект и перейдите в представление конструирования.

Если вы хотите использовать элемент управления ComboBox в странице необходимо добавить элемент управления ScriptManager на страницу. Перетащите элемент управления ScriptManager from beneath вкладки расширения AJAX в область конструктора. Следует добавить элемент управления ScriptManager в верхней части страницы; его можно добавить непосредственно под открывающей серверную &lt;формы&gt; тег.

Затем перетащите элемент управления ComboBox на страницу. ComboBox-элемент управления можно найти на панели элементов с другими элементами управления для элементов управления AJAX и расширителей элементов управления (см. рис. 1).


[![Простая форма для создания визитные карточки](how-do-i-use-the-combobox-control-cs/_static/image1.jpg)](how-do-i-use-the-combobox-control-cs/_static/image1.png)

**На рисунке 01**: при выборе элемента управления ComboBox с панели элементов ([Просмотр полноразмерное изображение](how-do-i-use-the-combobox-control-cs/_static/image2.png))


Мы ll статический список вариантов отображения с помощью элемента управления ComboBox. Пользователь может выбрать определенного уровня spiciness для их продукта из списка один из трех вариантов: умеренные выражения, средний и активная (см. рис. 2).


[![При выборе из статического списка элементов](how-do-i-use-the-combobox-control-cs/_static/image2.jpg)](how-do-i-use-the-combobox-control-cs/_static/image3.png)

**На рисунке 02**: выбор из статического списка элементов ([Просмотр полноразмерное изображение](how-do-i-use-the-combobox-control-cs/_static/image4.png))


Существует два способа, можно добавить эти варианты управления ComboBox. Во-первых, выберите параметр задачи Правка при наведении указателя мыши на элемент управления в режиме конструктора и открыть редактор элементов (см. рис. 3).


[![Изменение элементов поля со списком](how-do-i-use-the-combobox-control-cs/_static/image3.jpg)](how-do-i-use-the-combobox-control-cs/_static/image5.png)

**На рисунке 03**: элементов редактирования поля со списком ([Просмотр полноразмерное изображение](how-do-i-use-the-combobox-control-cs/_static/image6.png))


Второй вариант — Добавить список элементов между открывающим и закрывающим &lt;asp: ComboBox&gt; тегов в представлении исходного кода. Страницы в список 1 содержит обновленные поля со списком содержит список элементов.

**Листинг 1 - Static.aspx**

[!code-aspx[Main](how-do-i-use-the-combobox-control-cs/samples/sample1.aspx)]

При открытии страницы в список 1, можно выбрать один из существующих параметров из поля со списком. Другими словами поле со списком работает так же, как элемент управления DropDownList.

Тем не менее также имеется возможность ввести новый вариант (например, Super острый), не находится в существующий список. Таким образом поля со списком также работает как элемент управления TextBox.

Независимо от того выберите уже существующий элемент, или введите пользовательского элемента при отправке формы, сделанный выбор появится в элементе управления label. При отправке формы btnSubmit\_щелкните обработчик выполняет и обновляет метку (см. рис. 4).


[![Отображение выбранного элемента](how-do-i-use-the-combobox-control-cs/_static/image4.jpg)](how-do-i-use-the-combobox-control-cs/_static/image7.png)

**На рисунке 04**: Отображение выбранного элемента ([Просмотр полноразмерное изображение](how-do-i-use-the-combobox-control-cs/_static/image8.png))


Поле со списком поддерживает те же свойства, как элемент управления DropDownList для извлечения выбранного элемента, после отправки формы.

- SelectedItem.Text - отображает значение свойства текста выбранного элемента.
- SelectedItem.Value - отображает значение свойства значение выбранного элемента или отображает текст, введенный в поле со списком.
- SelectedValue - то же, что SelectedItem.Value за исключением того, что это свойство позволяет указать (начальной) выбранного элемента по умолчанию.

При вводе пользовательских значений в поле со списком выберите пользовательский выбор назначается SelectedItem.Text и SelectedItem.Value свойства.

## <a name="selecting-the-list-of-items-from-the-database"></a>При выборе в списке элементов из базы данных

Список элементов, отображаемых в поле со списком можно получить из базы данных. Например поле со списком можно привязать к элемента управления SqlDataSource, элемент управления ObjectDataSource, LinqDataSource или EntityDataSource.

Предположим, что вы хотите отобразить список фильмов в поле со списком. Вы хотите получить список фильмов фильмы таблицы базы данных. Выполните следующие действия.

1. Создать страницу с именем Movies.aspx
2. Добавьте элемент управления ScriptManager на страницу путем перетаскивания элементов на страницу из вкладки расширения AJAX ScriptManager.
3. Добавьте элемент управления ComboBox на страницу, перетащив поле со списком на странице.
4. В режиме конструктора, наведите курсор мыши на элементе управления ComboBox и выберите **Выбор источника данных** задач параметр (см. рис. 5). Будет запущен мастер настройки источника данных.
5. В **выберите источник данных** шаг, выберите &lt;новый источник данных&gt; параметр.
6. В **Выбор типа источника данных** действии, выберите базу данных.
7. В **Выбор подключения к данным** действии, выберите вашу базу данных (например, MoviesDB.mdf).
8. В **сохранение подключения в файле конфигурации приложения** действии, выберите параметр, чтобы сохранить строку подключения.
9. В **Настройка инструкции Select** шагов, выберите таблицу базы данных, фильмы и выберите все столбцы.
10. В **проверить запрос** шаг, нажмите кнопку "Готово".
11. В **Выбор источника данных** шаг, выберите заголовок столбца для поля для отображения и идентификатор столбца для данных поля (см. рисунок).
12. Чтобы закрыть мастер, нажмите кнопку ОК.


[![Выбор источника данных](how-do-i-use-the-combobox-control-cs/_static/image5.jpg)](how-do-i-use-the-combobox-control-cs/_static/image9.png)

**На рисунке 05**: Выбор источника данных ([Просмотр полноразмерное изображение](how-do-i-use-the-combobox-control-cs/_static/image10.png))


[![Выбор полей данных текст и значение](how-do-i-use-the-combobox-control-cs/_static/image6.jpg)](how-do-i-use-the-combobox-control-cs/_static/image11.png)

**На рисунке 06**: Выбор полей данных текст и значение ([Просмотр полноразмерное изображение](how-do-i-use-the-combobox-control-cs/_static/image12.png))


После завершения действия, перечисленные выше, поле со списком привязан к управления SqlDataSource, представляющего фильмы фильмы таблицы базы данных. Исходный код страницы выглядит как листинг 2 (я Очистить форматирование немного).

**Листинг 2 - Movies.aspx**

[!code-aspx[Main](how-do-i-use-the-combobox-control-cs/samples/sample2.aspx)]

Обратите внимание, что элемент управления ComboBox, указывающий на элемент управления SqlDataSource свойство DataSourceID. При открытии страницы в браузере отображается список фильмов из базы данных (см. рис. 7). Вы можете либо подбор фильма в списке или введите новый фильм, указав фильма в поле со списком.


[![Отображение списка фильмов](how-do-i-use-the-combobox-control-cs/_static/image7.jpg)](how-do-i-use-the-combobox-control-cs/_static/image13.png)

**На рисунке 07**: отображение список фильмов ([Просмотр полноразмерное изображение](how-do-i-use-the-combobox-control-cs/_static/image14.png))


## <a name="setting-the-dropdownstyle"></a>Параметр DropDownStyle

Свойства ComboBox DropDownStyle можно использовать для изменения поведения элемента управления ComboBox. Это свойство принимает существует возможные значения:

- Раскрывающийся список - раскрывающемся списке, если щелкнуть стрелку и отображает ComboBox (значение по умолчанию) можно ввести пользовательское значение.
- Простой - поле со списком автоматически отображается раскрывающийся список и можно ввести пользовательское значение.
- Элемент DropDownList - поле со списком работает так же, как элемент управления DropDownList.

Различие между раскрывающийся список и простой — при отображении списка элементов. В случае простой отобразится список сразу же при перемещении фокуса в поле со списком. В случае с раскрывающимся списком должен щелкните стрелку, чтобы просмотреть список элементов.

Значение DropDownList заставляет элемент управления ComboBox работать так же, как стандартный элемент управления DropDownList. Однако есть одним важным отличием. Более старых версиях Internet Explorer отображение элемента управления DropDownList с бесконечной z индекс, чтобы элемент управления будет отображаться перед любой элемент управления помещается перед его. Так как поле со списком отображает HTML- &lt;div&gt; тег вместо HTML &lt;выберите&gt; тег, поле со списком правильно соблюдает z порядка.

## <a name="setting-the-autocompletemode"></a>Установка для AutoCompleteMode

Свойство ComboBox AutoCompleteMode используется для указания, что происходит, когда пользователь вводит текст в поле со списком. Это свойство может принимать следующие возможные значения:

- None — (значение по умолчанию) поля со списком не обеспечивает любое поведение автозавершения.
- Предложить - список поля со списком и выделяется соответствующий элемент в списке (см. рис. 8).
- Append - поле со списком не отображается в списке и он добавляет соответствующий элемент из списка на набранным (см. рис. 9).
- SuggestAppend - поле со списком отображает список и добавляет соответствующий элемент из списка на набранным (см. рис. 10).


[![Поле со списком делает предложение](how-do-i-use-the-combobox-control-cs/_static/image8.jpg)](how-do-i-use-the-combobox-control-cs/_static/image15.png)

**На рисунке 08**: ComboBox делает предложение ([Просмотр полноразмерное изображение](how-do-i-use-the-combobox-control-cs/_static/image16.png))


[![Поле со списком добавляет соответствующий текст](how-do-i-use-the-combobox-control-cs/_static/image9.jpg)](how-do-i-use-the-combobox-control-cs/_static/image17.png)

**На рисунке 09**: ComboBox добавляет соответствующий текст ([Просмотр полноразмерное изображение](how-do-i-use-the-combobox-control-cs/_static/image18.png))


[![Поле со списком предлагает и добавляет](how-do-i-use-the-combobox-control-cs/_static/image10.jpg)](how-do-i-use-the-combobox-control-cs/_static/image19.png)

**Рис. 10**: ComboBox предлагает и добавляет ([Просмотр полноразмерное изображение](how-do-i-use-the-combobox-control-cs/_static/image20.png))


## <a name="summary"></a>Сводка

В этом учебнике вы узнали, как использовать элемент управления ComboBox для отображения фиксированный набор элементов. Мы привязан элемент управления ComboBox, оба в статический набор элементов и в таблицу базы данных. Наконец вы узнали, как изменить поведение поля со списком, задавая ее свойства DropDownStyle, а для AutoCompleteMode.

> [!div class="step-by-step"]
> [Вперед](how-do-i-use-the-combobox-control-vb.md)
